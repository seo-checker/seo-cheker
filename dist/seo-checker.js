/*! For license information please see seo-checker.js.LICENSE.txt */
(()=>{var t,e,n={6126:t=>{function e(){var t=[].slice.call(arguments);function e(e,n){Object.keys(n).forEach((function(r){~t.indexOf(r)||(e[r]=n[r])}))}return function(){for(var t=[].slice.call(arguments),n=0,r={};n<t.length;n++)e(r,t[n]);return r}}function n(t,r,i){var o=e("name","message","stack","constructor","toJSON")(r||{});for(var s in this.message=t||"Unspecified AssertionError",this.showDiff=!1,o)this[s]=o[s];if(i=i||n,Error.captureStackTrace)Error.captureStackTrace(this,i);else try{throw new Error}catch(t){this.stack=t.stack}}t.exports=n,n.prototype=Object.create(Error.prototype),n.prototype.name="AssertionError",n.prototype.constructor=n,n.prototype.toJSON=function(t){var n=e("constructor","toJSON","stack")({name:this.name},this);return!1!==t&&this.stack&&(n.stack=this.stack),n}},8773:t=>{t.exports=function(t,e){var n=e.flag,r=function(t){var e;return s(t)?0===t.length?"empty NodeList":(e=Array.prototype.slice.call(t,0,5).map(r).join(", "),t.length>5?e+"... (+"+(t.length-5)+" more)":e):o(t)?(e=t.tagName.toLowerCase(),t.id&&(e+="#"+t.id),t.className&&(e+="."+String(t.className).replace(/\s+/g,".")),Array.prototype.forEach.call(t.attributes,(function(t){"class"!==t.name&&"id"!==t.name&&(e+="["+t.name+(t.value?'="'+t.value+'"]':"]"))})),e):String(t)},i=function(t,i){var o=n(this,"object"),s=o.getAttribute(t);n(this,"negate")&&void 0!==i||this.assert(!!o.attributes[t],"expected "+r(o)+" to have an attribute #{exp}","expected "+r(o)+" not to have an attribute #{exp}",t),void 0!==i&&this.assert(i===s,"expected "+r(o)+" to have an attribute "+e.inspect(t)+" with the value #{exp}, but the value was #{act}","expected "+r(o)+" not to have an attribute "+e.inspect(t)+" with the value #{act}",i,s),n(this,"object",s)},o=function(t){return 1===t.nodeType},s=function(t){return"[object NodeList]"===Object.prototype.toString.call(t)};e.elToString=r,t.Assertion.addMethod("attr",i),t.Assertion.addMethod("attribute",i),t.Assertion.addMethod("class",(function(t){var e=n(this,"object");this.assert(e.classList.contains(t),"expected "+r(e)+" to have class #{exp}","expected "+r(e)+" not to have class #{exp}",t)})),t.Assertion.addMethod("id",(function(t){var e=n(this,"object");this.assert(e.id==t,"expected "+r(e)+" to have id #{exp}","expected "+r(e)+" not to have id #{exp}",t)})),t.Assertion.addMethod("html",(function(t){var e=n(this,"object"),i=n(this,"object").innerHTML;n(this,"contains")?this.assert(i.indexOf(t)>=0,"expected #{act} to contain HTML #{exp}","expected #{act} not to contain HTML #{exp}",t,i):this.assert(i===t,"expected "+r(e)+" to have HTML #{exp}, but the HTML was #{act}","expected "+r(e)+" not to have HTML #{exp}",t,i)})),t.Assertion.addChainableMethod("trimmed",null,(function(){n(this,"trim-text",!0)})),t.Assertion.addProperty("rendered",(function(){n(this,"rendered-text",!0)})),t.Assertion.addMethod("text",(function(t){var i,o,a=n(this,"object"),l=n(this,"contains"),u=n(this,"trim-text"),c=n(this,"rendered-text")?"innerText":"textContent";s(a)?(i=Array.prototype.map.call(a,(function(t){return u?t[c].trim():t[c]})),Array.isArray(t)?(o=l?t[n(this,"negate")?"some":"every"]((function(t){return Array.prototype.some.call(a,(function(e){return(u?e[c].trim():e[c])===t}))})):e.eql(i,t),i=i.join(),t=t.join()):(i=i.join(""),o=l?i.indexOf(t)>=0:i===t)):(i=u?a[c].trim():a[c],o=l?i.indexOf(t)>=0:i===t);var h=r(a),f="";u&&(f+="trimmed "),n(this,"rendered-text")&&(f+="rendered "),f+="text",l?this.assert(o,"expected "+h+" to contain #{exp}, but the "+f+" was #{act}","expected "+h+" not to contain #{exp}, but the "+f+" was #{act}",t,i):this.assert(o,"expected "+h+" to have "+f+" #{exp}, but the "+f+" was #{act}","expected "+h+" not to have "+f+" #{exp}",t,i)})),t.Assertion.addMethod("value",(function(t){var e=n(this,"object"),i=n(this,"object").value;this.assert(n(this,"object").value===t,"expected "+r(e)+" to have value #{exp}, but the value was #{act}","expected "+r(e)+" not to have value #{exp}",t,i)})),t.Assertion.overwriteProperty("exist",(function(t){return function(){var e=n(this,"object");s(e)?this.assert(e.length>0,"expected an empty NodeList to have nodes","expected "+r(e)+" to not exist"):t.apply(this,arguments)}})),t.Assertion.overwriteProperty("empty",(function(t){return function(){var e=n(this,"object");o(e)?this.assert(0===e.children.length,"expected "+r(e)+" to be empty","expected "+r(e)+" to not be empty"):s(e)?this.assert(0===e.length,"expected "+r(e)+" to be empty","expected "+r(e)+" to not be empty"):t.apply(this,arguments)}})),t.Assertion.overwriteChainableMethod("length",(function(t){return function(e){var i=n(this,"object");if(s(i)||o(i)){var a=i.children?i.children.length:i.length;this.assert(a===e,"expected "+r(i)+" to have #{exp} children but it had #{act} children","expected "+r(i)+" to not have #{exp} children",e,a)}else t.apply(this,arguments)}}),(function(t){return function(){t.call(this)}})),t.Assertion.overwriteMethod("match",(function(t){return function(e){var i=n(this,"object");o(i)?this.assert(i.matches(e),"expected "+r(i)+" to match #{exp}","expected "+r(i)+" to not match #{exp}",e):s(i)?this.assert(!!i.length&&Array.prototype.every.call(i,(function(t){return t.matches(e)})),"expected "+r(i)+" to match #{exp}","expected "+r(i)+" to not match #{exp}",e):t.apply(this,arguments)}})),t.Assertion.overwriteChainableMethod("contain",(function(t){return function(e){var i=n(this,"object");o(i)?"string"==typeof e?this.assert(!!i.querySelector(e),"expected "+r(i)+" to contain #{exp}","expected "+r(i)+" to not contain #{exp}",e):this.assert(i.contains(e),"expected "+r(i)+" to contain "+r(e),"expected "+r(i)+" to not contain "+r(e)):t.apply(this,arguments)}}),(function(t){return function(){t.call(this)}})),t.Assertion.addMethod("descendant",(function(t){var e=n(this,"object"),i=t;"string"==typeof t?(i=e.querySelector(t),this.assert(!!i,"expected "+r(e)+" to have descendant #{exp}","expected "+r(e)+" to not have descendant #{exp}",t)):this.assert(e.contains(t),"expected "+r(e)+" to contain "+r(t),"expected "+r(e)+" to not contain "+r(t)),n(this,"object",i)})),t.Assertion.addMethod("descendants",(function(t){var e=n(this,"object"),i=e.querySelectorAll(t);this.assert(!!i.length,"expected "+r(e)+" to have descendants #{exp}","expected "+r(e)+" to not have descendants #{exp}",t),n(this,"object",i)})),t.Assertion.addProperty("displayed",(function(){var t=n(this,"object"),e=document.body.contains(t)?window.getComputedStyle(t).display:t.style.display;this.assert("none"!==e,"expected "+r(t)+" to be displayed, but it was not","expected "+r(t)+" to not be displayed, but it was as "+e,e)})),t.Assertion.addProperty("visible",(function(){var t=n(this,"object"),e=document.body.contains(t)?window.getComputedStyle(t).visibility:t.style.visibility;this.assert("hidden"!==e&&"collapse"!==e,"expected "+r(t)+" to be visible, but it was "+("hidden"===e?"hidden":"collapsed"),"expected "+r(t)+" to not be visible, but it was",e)})),t.Assertion.addMethod("tagName",(function(t){var e=n(this,"object"),i=e.tagName;this.assert(i.toUpperCase()===t.toUpperCase(),"expected "+r(e)+" to have tagName "+t+", but it was "+i,"expected "+r(e)+" to not have tagName "+t+", but it was "+i,i)})),t.Assertion.addMethod("style",(function(t,e){var i=n(this,"object"),o=window.getComputedStyle(i)[t];this.assert(o===e,"expected "+r(i)+" to have style property "+t+" equal to "+e+", but it was equal to "+o,"expected "+r(i)+" to not have style property "+t+" equal to "+e+", but it was equal to "+o,o)})),t.Assertion.overwriteProperty("focus",(function(){return function(){var t=n(this,"object"),e=t.ownerDocument.activeElement;this.assert(t===t.ownerDocument.activeElement,"expected #{this} to have focus","expected #{this} not to have focus",t,e)}}))}},4960:(t,e,n)=>{t.exports=n(1928)},1928:(t,e,n)=>{var r=[];e.version="4.3.3",e.AssertionError=n(6126);var i=n(4920);e.use=function(t){return~r.indexOf(t)||(t(e,i),r.push(t)),e},e.util=i;var o=n(3582);e.config=o;var s=n(9507);e.use(s);var a=n(7536);e.use(a);var l=n(8007);e.use(l);var u=n(3292);e.use(u);var c=n(2155);e.use(c)},9507:(t,e,n)=>{var r=n(3582);t.exports=function(t,e){var n=t.AssertionError,i=e.flag;function o(t,n,r,s){return i(this,"ssfi",r||o),i(this,"lockSsfi",s),i(this,"object",t),i(this,"message",n),e.proxify(this)}t.Assertion=o,Object.defineProperty(o,"includeStack",{get:function(){return console.warn("Assertion.includeStack is deprecated, use chai.config.includeStack instead."),r.includeStack},set:function(t){console.warn("Assertion.includeStack is deprecated, use chai.config.includeStack instead."),r.includeStack=t}}),Object.defineProperty(o,"showDiff",{get:function(){return console.warn("Assertion.showDiff is deprecated, use chai.config.showDiff instead."),r.showDiff},set:function(t){console.warn("Assertion.showDiff is deprecated, use chai.config.showDiff instead."),r.showDiff=t}}),o.addProperty=function(t,n){e.addProperty(this.prototype,t,n)},o.addMethod=function(t,n){e.addMethod(this.prototype,t,n)},o.addChainableMethod=function(t,n,r){e.addChainableMethod(this.prototype,t,n,r)},o.overwriteProperty=function(t,n){e.overwriteProperty(this.prototype,t,n)},o.overwriteMethod=function(t,n){e.overwriteMethod(this.prototype,t,n)},o.overwriteChainableMethod=function(t,n,r){e.overwriteChainableMethod(this.prototype,t,n,r)},o.prototype.assert=function(t,o,s,a,l,u){var c=e.test(this,arguments);if(!1!==u&&(u=!0),void 0===a&&void 0===l&&(u=!1),!0!==r.showDiff&&(u=!1),!c){o=e.getMessage(this,arguments);var h=e.getActual(this,arguments),f={actual:h,expected:a,showDiff:u},p=e.getOperator(this,arguments);throw p&&(f.operator=p),new n(o,f,r.includeStack?this.assert:i(this,"ssfi"))}},Object.defineProperty(o.prototype,"_obj",{get:function(){return i(this,"object")},set:function(t){i(this,"object",t)}})}},3582:t=>{t.exports={includeStack:!1,showDiff:!0,truncateThreshold:40,useProxy:!0,proxyExcludedKeys:["then","catch","inspect","toJSON"]}},7536:t=>{t.exports=function(t,e){var n=t.Assertion,r=t.AssertionError,i=e.flag;function o(t,n){n&&i(this,"message",n),t=t.toLowerCase();var r=i(this,"object"),o=~["a","e","i","o","u"].indexOf(t.charAt(0))?"an ":"a ";this.assert(t===e.type(r).toLowerCase(),"expected #{this} to be "+o+t,"expected #{this} not to be "+o+t)}function s(t,n){return e.isNaN(t)&&e.isNaN(n)||t===n}function a(){i(this,"contains",!0)}function l(t,o){o&&i(this,"message",o);var a=i(this,"object"),l=e.type(a).toLowerCase(),u=i(this,"message"),c=i(this,"negate"),h=i(this,"ssfi"),f=i(this,"deep"),p=f?"deep ":"";u=u?u+": ":"";var d=!1;switch(l){case"string":d=-1!==a.indexOf(t);break;case"weakset":if(f)throw new r(u+"unable to use .deep.include with WeakSet",void 0,h);d=a.has(t);break;case"map":var g=f?e.eql:s;a.forEach((function(e){d=d||g(e,t)}));break;case"set":f?a.forEach((function(n){d=d||e.eql(n,t)})):d=a.has(t);break;case"array":d=f?a.some((function(n){return e.eql(n,t)})):-1!==a.indexOf(t);break;default:if(t!==Object(t))throw new r(u+"the given combination of arguments ("+l+" and "+e.type(t).toLowerCase()+") is invalid for this assertion. You can use an array, a map, an object, a set, a string, or a weakset instead of a "+e.type(t).toLowerCase(),void 0,h);var m=Object.keys(t),_=null,y=0;if(m.forEach((function(o){var s=new n(a);if(e.transferFlags(this,s,!0),i(s,"lockSsfi",!0),c&&1!==m.length)try{s.property(o,t[o])}catch(t){if(!e.checkError.compatibleConstructor(t,r))throw t;null===_&&(_=t),y++}else s.property(o,t[o])}),this),c&&m.length>1&&y===m.length)throw _;return}this.assert(d,"expected #{this} to "+p+"include "+e.inspect(t),"expected #{this} to not "+p+"include "+e.inspect(t))}function u(){var t=i(this,"object");this.assert(null!=t,"expected #{this} to exist","expected #{this} to not exist")}function c(){var t=i(this,"object"),n=e.type(t);this.assert("Arguments"===n,"expected #{this} to be arguments but got "+n,"expected #{this} to not be arguments")}function h(t,e){e&&i(this,"message",e);var n=i(this,"object");if(i(this,"deep")){var r=i(this,"lockSsfi");i(this,"lockSsfi",!0),this.eql(t),i(this,"lockSsfi",r)}else this.assert(t===n,"expected #{this} to equal #{exp}","expected #{this} to not equal #{exp}",t,this._obj,!0)}function f(t,n){n&&i(this,"message",n),this.assert(e.eql(t,i(this,"object")),"expected #{this} to deeply equal #{exp}","expected #{this} to not deeply equal #{exp}",t,this._obj,!0)}function p(t,o){o&&i(this,"message",o);var s,a=i(this,"object"),l=i(this,"doLength"),u=i(this,"message"),c=u?u+": ":"",h=i(this,"ssfi"),f=e.type(a).toLowerCase(),p=e.type(t).toLowerCase(),d=!0;if(l&&"map"!==f&&"set"!==f&&new n(a,u,h,!0).to.have.property("length"),l||"date"!==f||"date"===p?"number"===p||!l&&"number"!==f?l||"date"===f||"number"===f?d=!1:s=c+"expected "+("string"===f?"'"+a+"'":a)+" to be a number or a date":s=c+"the argument to above must be a number":s=c+"the argument to above must be a date",d)throw new r(s,void 0,h);if(l){var g,m="length";"map"===f||"set"===f?(m="size",g=a.size):g=a.length,this.assert(g>t,"expected #{this} to have a "+m+" above #{exp} but got #{act}","expected #{this} to not have a "+m+" above #{exp}",t,g)}else this.assert(a>t,"expected #{this} to be above #{exp}","expected #{this} to be at most #{exp}",t)}function d(t,o){o&&i(this,"message",o);var s,a=i(this,"object"),l=i(this,"doLength"),u=i(this,"message"),c=u?u+": ":"",h=i(this,"ssfi"),f=e.type(a).toLowerCase(),p=e.type(t).toLowerCase(),d=!0;if(l&&"map"!==f&&"set"!==f&&new n(a,u,h,!0).to.have.property("length"),l||"date"!==f||"date"===p?"number"===p||!l&&"number"!==f?l||"date"===f||"number"===f?d=!1:s=c+"expected "+("string"===f?"'"+a+"'":a)+" to be a number or a date":s=c+"the argument to least must be a number":s=c+"the argument to least must be a date",d)throw new r(s,void 0,h);if(l){var g,m="length";"map"===f||"set"===f?(m="size",g=a.size):g=a.length,this.assert(g>=t,"expected #{this} to have a "+m+" at least #{exp} but got #{act}","expected #{this} to have a "+m+" below #{exp}",t,g)}else this.assert(a>=t,"expected #{this} to be at least #{exp}","expected #{this} to be below #{exp}",t)}function g(t,o){o&&i(this,"message",o);var s,a=i(this,"object"),l=i(this,"doLength"),u=i(this,"message"),c=u?u+": ":"",h=i(this,"ssfi"),f=e.type(a).toLowerCase(),p=e.type(t).toLowerCase(),d=!0;if(l&&"map"!==f&&"set"!==f&&new n(a,u,h,!0).to.have.property("length"),l||"date"!==f||"date"===p?"number"===p||!l&&"number"!==f?l||"date"===f||"number"===f?d=!1:s=c+"expected "+("string"===f?"'"+a+"'":a)+" to be a number or a date":s=c+"the argument to below must be a number":s=c+"the argument to below must be a date",d)throw new r(s,void 0,h);if(l){var g,m="length";"map"===f||"set"===f?(m="size",g=a.size):g=a.length,this.assert(g<t,"expected #{this} to have a "+m+" below #{exp} but got #{act}","expected #{this} to not have a "+m+" below #{exp}",t,g)}else this.assert(a<t,"expected #{this} to be below #{exp}","expected #{this} to be at least #{exp}",t)}function m(t,o){o&&i(this,"message",o);var s,a=i(this,"object"),l=i(this,"doLength"),u=i(this,"message"),c=u?u+": ":"",h=i(this,"ssfi"),f=e.type(a).toLowerCase(),p=e.type(t).toLowerCase(),d=!0;if(l&&"map"!==f&&"set"!==f&&new n(a,u,h,!0).to.have.property("length"),l||"date"!==f||"date"===p?"number"===p||!l&&"number"!==f?l||"date"===f||"number"===f?d=!1:s=c+"expected "+("string"===f?"'"+a+"'":a)+" to be a number or a date":s=c+"the argument to most must be a number":s=c+"the argument to most must be a date",d)throw new r(s,void 0,h);if(l){var g,m="length";"map"===f||"set"===f?(m="size",g=a.size):g=a.length,this.assert(g<=t,"expected #{this} to have a "+m+" at most #{exp} but got #{act}","expected #{this} to have a "+m+" above #{exp}",t,g)}else this.assert(a<=t,"expected #{this} to be at most #{exp}","expected #{this} to be above #{exp}",t)}function _(t,n){n&&i(this,"message",n);var o=i(this,"object"),s=i(this,"ssfi"),a=i(this,"message");try{var l=o instanceof t}catch(n){if(n instanceof TypeError)throw new r((a=a?a+": ":"")+"The instanceof assertion needs a constructor but "+e.type(t)+" was given.",void 0,s);throw n}var u=e.getName(t);null===u&&(u="an unnamed constructor"),this.assert(l,"expected #{this} to be an instance of "+u,"expected #{this} to not be an instance of "+u)}function y(t,n,o){o&&i(this,"message",o);var s=i(this,"nested"),a=i(this,"own"),l=i(this,"message"),u=i(this,"object"),c=i(this,"ssfi"),h=typeof t;if(l=l?l+": ":"",s){if("string"!==h)throw new r(l+"the argument to property must be a string when using nested syntax",void 0,c)}else if("string"!==h&&"number"!==h&&"symbol"!==h)throw new r(l+"the argument to property must be a string, number, or symbol",void 0,c);if(s&&a)throw new r(l+'The "nested" and "own" flags cannot be combined.',void 0,c);if(null==u)throw new r(l+"Target cannot be null or undefined.",void 0,c);var f,p=i(this,"deep"),d=i(this,"negate"),g=s?e.getPathInfo(u,t):null,m=s?g.value:u[t],_="";p&&(_+="deep "),a&&(_+="own "),s&&(_+="nested "),_+="property ",f=a?Object.prototype.hasOwnProperty.call(u,t):s?g.exists:e.hasProperty(u,t),d&&1!==arguments.length||this.assert(f,"expected #{this} to have "+_+e.inspect(t),"expected #{this} to not have "+_+e.inspect(t)),arguments.length>1&&this.assert(f&&(p?e.eql(n,m):n===m),"expected #{this} to have "+_+e.inspect(t)+" of #{exp}, but got #{act}","expected #{this} to not have "+_+e.inspect(t)+" of #{act}",n,m),i(this,"object",m)}function v(t,e,n){i(this,"own",!0),y.apply(this,arguments)}function b(t,n,r){"string"==typeof n&&(r=n,n=null),r&&i(this,"message",r);var o=i(this,"object"),s=Object.getOwnPropertyDescriptor(Object(o),t);s&&n?this.assert(e.eql(n,s),"expected the own property descriptor for "+e.inspect(t)+" on #{this} to match "+e.inspect(n)+", got "+e.inspect(s),"expected the own property descriptor for "+e.inspect(t)+" on #{this} to not match "+e.inspect(n),n,s,!0):this.assert(s,"expected #{this} to have an own property descriptor for "+e.inspect(t),"expected #{this} to not have an own property descriptor for "+e.inspect(t)),i(this,"object",s)}function w(){i(this,"doLength",!0)}function x(t,r){r&&i(this,"message",r);var o,s=i(this,"object"),a=e.type(s).toLowerCase(),l=i(this,"message"),u=i(this,"ssfi"),c="length";switch(a){case"map":case"set":c="size",o=s.size;break;default:new n(s,l,u,!0).to.have.property("length"),o=s.length}this.assert(o==t,"expected #{this} to have a "+c+" of #{exp} but got #{act}","expected #{this} to not have a "+c+" of #{act}",t,o)}function k(t,e){e&&i(this,"message",e);var n=i(this,"object");this.assert(t.exec(n),"expected #{this} to match "+t,"expected #{this} not to match "+t)}function S(t){var n,o,s=i(this,"object"),a=e.type(s),l=e.type(t),u=i(this,"ssfi"),c=i(this,"deep"),h="",f=!0,p=i(this,"message"),d=(p=p?p+": ":"")+"when testing keys against an object or an array you must give a single Array|Object|String argument or multiple String arguments";if("Map"===a||"Set"===a)h=c?"deeply ":"",o=[],s.forEach((function(t,e){o.push(e)})),"Array"!==l&&(t=Array.prototype.slice.call(arguments));else{switch(o=e.getOwnEnumerableProperties(s),l){case"Array":if(arguments.length>1)throw new r(d,void 0,u);break;case"Object":if(arguments.length>1)throw new r(d,void 0,u);t=Object.keys(t);break;default:t=Array.prototype.slice.call(arguments)}t=t.map((function(t){return"symbol"==typeof t?t:String(t)}))}if(!t.length)throw new r(p+"keys required",void 0,u);var g=t.length,m=i(this,"any"),_=i(this,"all"),y=t;if(m||_||(_=!0),m&&(f=y.some((function(t){return o.some((function(n){return c?e.eql(t,n):t===n}))}))),_&&(f=y.every((function(t){return o.some((function(n){return c?e.eql(t,n):t===n}))})),i(this,"contains")||(f=f&&t.length==o.length)),g>1){var v=(t=t.map((function(t){return e.inspect(t)}))).pop();_&&(n=t.join(", ")+", and "+v),m&&(n=t.join(", ")+", or "+v)}else n=e.inspect(t[0]);n=(g>1?"keys ":"key ")+n,n=(i(this,"contains")?"contain ":"have ")+n,this.assert(f,"expected #{this} to "+h+n,"expected #{this} to not "+h+n,y.slice(0).sort(e.compareByInspect),o.sort(e.compareByInspect),!0)}function O(t,r,o){o&&i(this,"message",o);var s,a=i(this,"object"),l=i(this,"ssfi"),u=i(this,"message"),c=i(this,"negate")||!1;new n(a,u,l,!0).is.a("function"),(t instanceof RegExp||"string"==typeof t)&&(r=t,t=null);try{a()}catch(t){s=t}var h=void 0===t&&void 0===r,f=Boolean(t&&r),p=!1,d=!1;if(h||!h&&!c){var g="an error";t instanceof Error?g="#{exp}":t&&(g=e.checkError.getConstructorName(t)),this.assert(s,"expected #{this} to throw "+g,"expected #{this} to not throw an error but #{act} was thrown",t&&t.toString(),s instanceof Error?s.toString():"string"==typeof s?s:s&&e.checkError.getConstructorName(s))}if(t&&s&&(t instanceof Error&&e.checkError.compatibleInstance(s,t)===c&&(f&&c?p=!0:this.assert(c,"expected #{this} to throw #{exp} but #{act} was thrown","expected #{this} to not throw #{exp}"+(s&&!c?" but #{act} was thrown":""),t.toString(),s.toString())),e.checkError.compatibleConstructor(s,t)===c&&(f&&c?p=!0:this.assert(c,"expected #{this} to throw #{exp} but #{act} was thrown","expected #{this} to not throw #{exp}"+(s?" but #{act} was thrown":""),t instanceof Error?t.toString():t&&e.checkError.getConstructorName(t),s instanceof Error?s.toString():s&&e.checkError.getConstructorName(s)))),s&&null!=r){var m="including";r instanceof RegExp&&(m="matching"),e.checkError.compatibleMessage(s,r)===c&&(f&&c?d=!0:this.assert(c,"expected #{this} to throw error "+m+" #{exp} but got #{act}","expected #{this} to throw error not "+m+" #{exp}",r,e.checkError.getMessage(s)))}p&&d&&this.assert(c,"expected #{this} to throw #{exp} but #{act} was thrown","expected #{this} to not throw #{exp}"+(s?" but #{act} was thrown":""),t instanceof Error?t.toString():t&&e.checkError.getConstructorName(t),s instanceof Error?s.toString():s&&e.checkError.getConstructorName(s)),i(this,"object",s)}function E(t,n){n&&i(this,"message",n);var r=i(this,"object"),o=i(this,"itself"),s="function"!=typeof r||o?r[t]:r.prototype[t];this.assert("function"==typeof s,"expected #{this} to respond to "+e.inspect(t),"expected #{this} to not respond to "+e.inspect(t))}function C(t,n){n&&i(this,"message",n);var r=t(i(this,"object"));this.assert(r,"expected #{this} to satisfy "+e.objDisplay(t),"expected #{this} to not satisfy"+e.objDisplay(t),!i(this,"negate"),r)}function A(t,e,o){o&&i(this,"message",o);var s=i(this,"object"),a=i(this,"message"),l=i(this,"ssfi");if(new n(s,a,l,!0).is.a("number"),"number"!=typeof t||"number"!=typeof e)throw new r((a=a?a+": ":"")+"the arguments to closeTo or approximately must be numbers"+(void 0===e?", and a delta is required":""),void 0,l);this.assert(Math.abs(s-t)<=e,"expected #{this} to be close to "+t+" +/- "+e,"expected #{this} not to be close to "+t+" +/- "+e)}function P(t,e,r){r&&i(this,"message",r);var o,s=i(this,"object"),a=i(this,"message"),l=i(this,"ssfi");new n(s,a,l,!0).is.a("function"),e?(new n(t,a,l,!0).to.have.property(e),o=t[e]):(new n(t,a,l,!0).is.a("function"),o=t()),s();var u=null==e?t():t[e],c=null==e?o:"."+e;i(this,"deltaMsgObj",c),i(this,"initialDeltaValue",o),i(this,"finalDeltaValue",u),i(this,"deltaBehavior","change"),i(this,"realDelta",u!==o),this.assert(o!==u,"expected "+c+" to change","expected "+c+" to not change")}function T(t,e,r){r&&i(this,"message",r);var o,s=i(this,"object"),a=i(this,"message"),l=i(this,"ssfi");new n(s,a,l,!0).is.a("function"),e?(new n(t,a,l,!0).to.have.property(e),o=t[e]):(new n(t,a,l,!0).is.a("function"),o=t()),new n(o,a,l,!0).is.a("number"),s();var u=null==e?t():t[e],c=null==e?o:"."+e;i(this,"deltaMsgObj",c),i(this,"initialDeltaValue",o),i(this,"finalDeltaValue",u),i(this,"deltaBehavior","increase"),i(this,"realDelta",u-o),this.assert(u-o>0,"expected "+c+" to increase","expected "+c+" to not increase")}function M(t,e,r){r&&i(this,"message",r);var o,s=i(this,"object"),a=i(this,"message"),l=i(this,"ssfi");new n(s,a,l,!0).is.a("function"),e?(new n(t,a,l,!0).to.have.property(e),o=t[e]):(new n(t,a,l,!0).is.a("function"),o=t()),new n(o,a,l,!0).is.a("number"),s();var u=null==e?t():t[e],c=null==e?o:"."+e;i(this,"deltaMsgObj",c),i(this,"initialDeltaValue",o),i(this,"finalDeltaValue",u),i(this,"deltaBehavior","decrease"),i(this,"realDelta",o-u),this.assert(u-o<0,"expected "+c+" to decrease","expected "+c+" to not decrease")}["to","be","been","is","and","has","have","with","that","which","at","of","same","but","does","still","also"].forEach((function(t){n.addProperty(t)})),n.addProperty("not",(function(){i(this,"negate",!0)})),n.addProperty("deep",(function(){i(this,"deep",!0)})),n.addProperty("nested",(function(){i(this,"nested",!0)})),n.addProperty("own",(function(){i(this,"own",!0)})),n.addProperty("ordered",(function(){i(this,"ordered",!0)})),n.addProperty("any",(function(){i(this,"any",!0),i(this,"all",!1)})),n.addProperty("all",(function(){i(this,"all",!0),i(this,"any",!1)})),n.addChainableMethod("an",o),n.addChainableMethod("a",o),n.addChainableMethod("include",l,a),n.addChainableMethod("contain",l,a),n.addChainableMethod("contains",l,a),n.addChainableMethod("includes",l,a),n.addProperty("ok",(function(){this.assert(i(this,"object"),"expected #{this} to be truthy","expected #{this} to be falsy")})),n.addProperty("true",(function(){this.assert(!0===i(this,"object"),"expected #{this} to be true","expected #{this} to be false",!i(this,"negate"))})),n.addProperty("false",(function(){this.assert(!1===i(this,"object"),"expected #{this} to be false","expected #{this} to be true",!!i(this,"negate"))})),n.addProperty("null",(function(){this.assert(null===i(this,"object"),"expected #{this} to be null","expected #{this} not to be null")})),n.addProperty("undefined",(function(){this.assert(void 0===i(this,"object"),"expected #{this} to be undefined","expected #{this} not to be undefined")})),n.addProperty("NaN",(function(){this.assert(e.isNaN(i(this,"object")),"expected #{this} to be NaN","expected #{this} not to be NaN")})),n.addProperty("exist",u),n.addProperty("exists",u),n.addProperty("empty",(function(){var t,n=i(this,"object"),o=i(this,"ssfi"),s=i(this,"message");switch(s=s?s+": ":"",e.type(n).toLowerCase()){case"array":case"string":t=n.length;break;case"map":case"set":t=n.size;break;case"weakmap":case"weakset":throw new r(s+".empty was passed a weak collection",void 0,o);case"function":var a=s+".empty was passed a function "+e.getName(n);throw new r(a.trim(),void 0,o);default:if(n!==Object(n))throw new r(s+".empty was passed non-string primitive "+e.inspect(n),void 0,o);t=Object.keys(n).length}this.assert(0===t,"expected #{this} to be empty","expected #{this} not to be empty")})),n.addProperty("arguments",c),n.addProperty("Arguments",c),n.addMethod("equal",h),n.addMethod("equals",h),n.addMethod("eq",h),n.addMethod("eql",f),n.addMethod("eqls",f),n.addMethod("above",p),n.addMethod("gt",p),n.addMethod("greaterThan",p),n.addMethod("least",d),n.addMethod("gte",d),n.addMethod("greaterThanOrEqual",d),n.addMethod("below",g),n.addMethod("lt",g),n.addMethod("lessThan",g),n.addMethod("most",m),n.addMethod("lte",m),n.addMethod("lessThanOrEqual",m),n.addMethod("within",(function(t,o,s){s&&i(this,"message",s);var a,l=i(this,"object"),u=i(this,"doLength"),c=i(this,"message"),h=c?c+": ":"",f=i(this,"ssfi"),p=e.type(l).toLowerCase(),d=e.type(t).toLowerCase(),g=e.type(o).toLowerCase(),m=!0,_="date"===d&&"date"===g?t.toUTCString()+".."+o.toUTCString():t+".."+o;if(u&&"map"!==p&&"set"!==p&&new n(l,c,f,!0).to.have.property("length"),u||"date"!==p||"date"===d&&"date"===g?"number"===d&&"number"===g||!u&&"number"!==p?u||"date"===p||"number"===p?m=!1:a=h+"expected "+("string"===p?"'"+l+"'":l)+" to be a number or a date":a=h+"the arguments to within must be numbers":a=h+"the arguments to within must be dates",m)throw new r(a,void 0,f);if(u){var y,v="length";"map"===p||"set"===p?(v="size",y=l.size):y=l.length,this.assert(y>=t&&y<=o,"expected #{this} to have a "+v+" within "+_,"expected #{this} to not have a "+v+" within "+_)}else this.assert(l>=t&&l<=o,"expected #{this} to be within "+_,"expected #{this} to not be within "+_)})),n.addMethod("instanceof",_),n.addMethod("instanceOf",_),n.addMethod("property",y),n.addMethod("ownProperty",v),n.addMethod("haveOwnProperty",v),n.addMethod("ownPropertyDescriptor",b),n.addMethod("haveOwnPropertyDescriptor",b),n.addChainableMethod("length",x,w),n.addChainableMethod("lengthOf",x,w),n.addMethod("match",k),n.addMethod("matches",k),n.addMethod("string",(function(t,r){r&&i(this,"message",r);var o=i(this,"object"),s=i(this,"message"),a=i(this,"ssfi");new n(o,s,a,!0).is.a("string"),this.assert(~o.indexOf(t),"expected #{this} to contain "+e.inspect(t),"expected #{this} to not contain "+e.inspect(t))})),n.addMethod("keys",S),n.addMethod("key",S),n.addMethod("throw",O),n.addMethod("throws",O),n.addMethod("Throw",O),n.addMethod("respondTo",E),n.addMethod("respondsTo",E),n.addProperty("itself",(function(){i(this,"itself",!0)})),n.addMethod("satisfy",C),n.addMethod("satisfies",C),n.addMethod("closeTo",A),n.addMethod("approximately",A),n.addMethod("members",(function(t,r){r&&i(this,"message",r);var o=i(this,"object"),s=i(this,"message"),a=i(this,"ssfi");new n(o,s,a,!0).to.be.an("array"),new n(t,s,a,!0).to.be.an("array");var l,u,c,h=i(this,"contains"),f=i(this,"ordered");h?(u="expected #{this} to be "+(l=f?"an ordered superset":"a superset")+" of #{exp}",c="expected #{this} to not be "+l+" of #{exp}"):(u="expected #{this} to have the same "+(l=f?"ordered members":"members")+" as #{exp}",c="expected #{this} to not have the same "+l+" as #{exp}");var p=i(this,"deep")?e.eql:void 0;this.assert(function(t,e,n,r,i){if(!r){if(t.length!==e.length)return!1;e=e.slice()}return t.every((function(t,o){if(i)return n?n(t,e[o]):t===e[o];if(!n){var s=e.indexOf(t);return-1!==s&&(r||e.splice(s,1),!0)}return e.some((function(i,o){return!!n(t,i)&&(r||e.splice(o,1),!0)}))}))}(t,o,p,h,f),u,c,t,o,!0)})),n.addMethod("oneOf",(function(t,r){r&&i(this,"message",r);var o=i(this,"object"),s=i(this,"message"),a=i(this,"ssfi"),l=i(this,"contains"),u=i(this,"deep");new n(t,s,a,!0).to.be.an("array"),l?this.assert(t.some((function(t){return o.indexOf(t)>-1})),"expected #{this} to contain one of #{exp}","expected #{this} to not contain one of #{exp}",t,o):u?this.assert(t.some((function(t){return e.eql(o,t)})),"expected #{this} to deeply equal one of #{exp}","expected #{this} to deeply equal one of #{exp}",t,o):this.assert(t.indexOf(o)>-1,"expected #{this} to be one of #{exp}","expected #{this} to not be one of #{exp}",t,o)})),n.addMethod("change",P),n.addMethod("changes",P),n.addMethod("increase",T),n.addMethod("increases",T),n.addMethod("decrease",M),n.addMethod("decreases",M),n.addMethod("by",(function(t,e){e&&i(this,"message",e);var n,r=i(this,"deltaMsgObj"),o=i(this,"initialDeltaValue"),s=i(this,"finalDeltaValue"),a=i(this,"deltaBehavior"),l=i(this,"realDelta");n="change"===a?Math.abs(s-o)===Math.abs(t):l===Math.abs(t),this.assert(n,"expected "+r+" to "+a+" by "+t,"expected "+r+" to not "+a+" by "+t)})),n.addProperty("extensible",(function(){var t=i(this,"object"),e=t===Object(t)&&Object.isExtensible(t);this.assert(e,"expected #{this} to be extensible","expected #{this} to not be extensible")})),n.addProperty("sealed",(function(){var t=i(this,"object"),e=t!==Object(t)||Object.isSealed(t);this.assert(e,"expected #{this} to be sealed","expected #{this} to not be sealed")})),n.addProperty("frozen",(function(){var t=i(this,"object"),e=t!==Object(t)||Object.isFrozen(t);this.assert(e,"expected #{this} to be frozen","expected #{this} to not be frozen")})),n.addProperty("finite",(function(t){var e=i(this,"object");this.assert("number"==typeof e&&isFinite(e),"expected #{this} to be a finite number","expected #{this} to not be a finite number")}))}},2155:t=>{t.exports=function(t,e){var n=t.Assertion,r=e.flag,i=t.assert=function(e,r){new n(null,null,t.assert,!0).assert(e,r,"[ negation message unavailable ]")};i.fail=function(e,n,r,o){throw arguments.length<2&&(r=e,e=void 0),r=r||"assert.fail()",new t.AssertionError(r,{actual:e,expected:n,operator:o},i.fail)},i.isOk=function(t,e){new n(t,e,i.isOk,!0).is.ok},i.isNotOk=function(t,e){new n(t,e,i.isNotOk,!0).is.not.ok},i.equal=function(t,e,o){var s=new n(t,o,i.equal,!0);s.assert(e==r(s,"object"),"expected #{this} to equal #{exp}","expected #{this} to not equal #{act}",e,t,!0)},i.notEqual=function(t,e,o){var s=new n(t,o,i.notEqual,!0);s.assert(e!=r(s,"object"),"expected #{this} to not equal #{exp}","expected #{this} to equal #{act}",e,t,!0)},i.strictEqual=function(t,e,r){new n(t,r,i.strictEqual,!0).to.equal(e)},i.notStrictEqual=function(t,e,r){new n(t,r,i.notStrictEqual,!0).to.not.equal(e)},i.deepEqual=i.deepStrictEqual=function(t,e,r){new n(t,r,i.deepEqual,!0).to.eql(e)},i.notDeepEqual=function(t,e,r){new n(t,r,i.notDeepEqual,!0).to.not.eql(e)},i.isAbove=function(t,e,r){new n(t,r,i.isAbove,!0).to.be.above(e)},i.isAtLeast=function(t,e,r){new n(t,r,i.isAtLeast,!0).to.be.least(e)},i.isBelow=function(t,e,r){new n(t,r,i.isBelow,!0).to.be.below(e)},i.isAtMost=function(t,e,r){new n(t,r,i.isAtMost,!0).to.be.most(e)},i.isTrue=function(t,e){new n(t,e,i.isTrue,!0).is.true},i.isNotTrue=function(t,e){new n(t,e,i.isNotTrue,!0).to.not.equal(!0)},i.isFalse=function(t,e){new n(t,e,i.isFalse,!0).is.false},i.isNotFalse=function(t,e){new n(t,e,i.isNotFalse,!0).to.not.equal(!1)},i.isNull=function(t,e){new n(t,e,i.isNull,!0).to.equal(null)},i.isNotNull=function(t,e){new n(t,e,i.isNotNull,!0).to.not.equal(null)},i.isNaN=function(t,e){new n(t,e,i.isNaN,!0).to.be.NaN},i.isNotNaN=function(t,e){new n(t,e,i.isNotNaN,!0).not.to.be.NaN},i.exists=function(t,e){new n(t,e,i.exists,!0).to.exist},i.notExists=function(t,e){new n(t,e,i.notExists,!0).to.not.exist},i.isUndefined=function(t,e){new n(t,e,i.isUndefined,!0).to.equal(void 0)},i.isDefined=function(t,e){new n(t,e,i.isDefined,!0).to.not.equal(void 0)},i.isFunction=function(t,e){new n(t,e,i.isFunction,!0).to.be.a("function")},i.isNotFunction=function(t,e){new n(t,e,i.isNotFunction,!0).to.not.be.a("function")},i.isObject=function(t,e){new n(t,e,i.isObject,!0).to.be.a("object")},i.isNotObject=function(t,e){new n(t,e,i.isNotObject,!0).to.not.be.a("object")},i.isArray=function(t,e){new n(t,e,i.isArray,!0).to.be.an("array")},i.isNotArray=function(t,e){new n(t,e,i.isNotArray,!0).to.not.be.an("array")},i.isString=function(t,e){new n(t,e,i.isString,!0).to.be.a("string")},i.isNotString=function(t,e){new n(t,e,i.isNotString,!0).to.not.be.a("string")},i.isNumber=function(t,e){new n(t,e,i.isNumber,!0).to.be.a("number")},i.isNotNumber=function(t,e){new n(t,e,i.isNotNumber,!0).to.not.be.a("number")},i.isFinite=function(t,e){new n(t,e,i.isFinite,!0).to.be.finite},i.isBoolean=function(t,e){new n(t,e,i.isBoolean,!0).to.be.a("boolean")},i.isNotBoolean=function(t,e){new n(t,e,i.isNotBoolean,!0).to.not.be.a("boolean")},i.typeOf=function(t,e,r){new n(t,r,i.typeOf,!0).to.be.a(e)},i.notTypeOf=function(t,e,r){new n(t,r,i.notTypeOf,!0).to.not.be.a(e)},i.instanceOf=function(t,e,r){new n(t,r,i.instanceOf,!0).to.be.instanceOf(e)},i.notInstanceOf=function(t,e,r){new n(t,r,i.notInstanceOf,!0).to.not.be.instanceOf(e)},i.include=function(t,e,r){new n(t,r,i.include,!0).include(e)},i.notInclude=function(t,e,r){new n(t,r,i.notInclude,!0).not.include(e)},i.deepInclude=function(t,e,r){new n(t,r,i.deepInclude,!0).deep.include(e)},i.notDeepInclude=function(t,e,r){new n(t,r,i.notDeepInclude,!0).not.deep.include(e)},i.nestedInclude=function(t,e,r){new n(t,r,i.nestedInclude,!0).nested.include(e)},i.notNestedInclude=function(t,e,r){new n(t,r,i.notNestedInclude,!0).not.nested.include(e)},i.deepNestedInclude=function(t,e,r){new n(t,r,i.deepNestedInclude,!0).deep.nested.include(e)},i.notDeepNestedInclude=function(t,e,r){new n(t,r,i.notDeepNestedInclude,!0).not.deep.nested.include(e)},i.ownInclude=function(t,e,r){new n(t,r,i.ownInclude,!0).own.include(e)},i.notOwnInclude=function(t,e,r){new n(t,r,i.notOwnInclude,!0).not.own.include(e)},i.deepOwnInclude=function(t,e,r){new n(t,r,i.deepOwnInclude,!0).deep.own.include(e)},i.notDeepOwnInclude=function(t,e,r){new n(t,r,i.notDeepOwnInclude,!0).not.deep.own.include(e)},i.match=function(t,e,r){new n(t,r,i.match,!0).to.match(e)},i.notMatch=function(t,e,r){new n(t,r,i.notMatch,!0).to.not.match(e)},i.property=function(t,e,r){new n(t,r,i.property,!0).to.have.property(e)},i.notProperty=function(t,e,r){new n(t,r,i.notProperty,!0).to.not.have.property(e)},i.propertyVal=function(t,e,r,o){new n(t,o,i.propertyVal,!0).to.have.property(e,r)},i.notPropertyVal=function(t,e,r,o){new n(t,o,i.notPropertyVal,!0).to.not.have.property(e,r)},i.deepPropertyVal=function(t,e,r,o){new n(t,o,i.deepPropertyVal,!0).to.have.deep.property(e,r)},i.notDeepPropertyVal=function(t,e,r,o){new n(t,o,i.notDeepPropertyVal,!0).to.not.have.deep.property(e,r)},i.ownProperty=function(t,e,r){new n(t,r,i.ownProperty,!0).to.have.own.property(e)},i.notOwnProperty=function(t,e,r){new n(t,r,i.notOwnProperty,!0).to.not.have.own.property(e)},i.ownPropertyVal=function(t,e,r,o){new n(t,o,i.ownPropertyVal,!0).to.have.own.property(e,r)},i.notOwnPropertyVal=function(t,e,r,o){new n(t,o,i.notOwnPropertyVal,!0).to.not.have.own.property(e,r)},i.deepOwnPropertyVal=function(t,e,r,o){new n(t,o,i.deepOwnPropertyVal,!0).to.have.deep.own.property(e,r)},i.notDeepOwnPropertyVal=function(t,e,r,o){new n(t,o,i.notDeepOwnPropertyVal,!0).to.not.have.deep.own.property(e,r)},i.nestedProperty=function(t,e,r){new n(t,r,i.nestedProperty,!0).to.have.nested.property(e)},i.notNestedProperty=function(t,e,r){new n(t,r,i.notNestedProperty,!0).to.not.have.nested.property(e)},i.nestedPropertyVal=function(t,e,r,o){new n(t,o,i.nestedPropertyVal,!0).to.have.nested.property(e,r)},i.notNestedPropertyVal=function(t,e,r,o){new n(t,o,i.notNestedPropertyVal,!0).to.not.have.nested.property(e,r)},i.deepNestedPropertyVal=function(t,e,r,o){new n(t,o,i.deepNestedPropertyVal,!0).to.have.deep.nested.property(e,r)},i.notDeepNestedPropertyVal=function(t,e,r,o){new n(t,o,i.notDeepNestedPropertyVal,!0).to.not.have.deep.nested.property(e,r)},i.lengthOf=function(t,e,r){new n(t,r,i.lengthOf,!0).to.have.lengthOf(e)},i.hasAnyKeys=function(t,e,r){new n(t,r,i.hasAnyKeys,!0).to.have.any.keys(e)},i.hasAllKeys=function(t,e,r){new n(t,r,i.hasAllKeys,!0).to.have.all.keys(e)},i.containsAllKeys=function(t,e,r){new n(t,r,i.containsAllKeys,!0).to.contain.all.keys(e)},i.doesNotHaveAnyKeys=function(t,e,r){new n(t,r,i.doesNotHaveAnyKeys,!0).to.not.have.any.keys(e)},i.doesNotHaveAllKeys=function(t,e,r){new n(t,r,i.doesNotHaveAllKeys,!0).to.not.have.all.keys(e)},i.hasAnyDeepKeys=function(t,e,r){new n(t,r,i.hasAnyDeepKeys,!0).to.have.any.deep.keys(e)},i.hasAllDeepKeys=function(t,e,r){new n(t,r,i.hasAllDeepKeys,!0).to.have.all.deep.keys(e)},i.containsAllDeepKeys=function(t,e,r){new n(t,r,i.containsAllDeepKeys,!0).to.contain.all.deep.keys(e)},i.doesNotHaveAnyDeepKeys=function(t,e,r){new n(t,r,i.doesNotHaveAnyDeepKeys,!0).to.not.have.any.deep.keys(e)},i.doesNotHaveAllDeepKeys=function(t,e,r){new n(t,r,i.doesNotHaveAllDeepKeys,!0).to.not.have.all.deep.keys(e)},i.throws=function(t,e,o,s){("string"==typeof e||e instanceof RegExp)&&(o=e,e=null);var a=new n(t,s,i.throws,!0).to.throw(e,o);return r(a,"object")},i.doesNotThrow=function(t,e,r,o){("string"==typeof e||e instanceof RegExp)&&(r=e,e=null),new n(t,o,i.doesNotThrow,!0).to.not.throw(e,r)},i.operator=function(o,s,a,l){var u;switch(s){case"==":u=o==a;break;case"===":u=o===a;break;case">":u=o>a;break;case">=":u=o>=a;break;case"<":u=o<a;break;case"<=":u=o<=a;break;case"!=":u=o!=a;break;case"!==":u=o!==a;break;default:throw l=l?l+": ":l,new t.AssertionError(l+'Invalid operator "'+s+'"',void 0,i.operator)}var c=new n(u,l,i.operator,!0);c.assert(!0===r(c,"object"),"expected "+e.inspect(o)+" to be "+s+" "+e.inspect(a),"expected "+e.inspect(o)+" to not be "+s+" "+e.inspect(a))},i.closeTo=function(t,e,r,o){new n(t,o,i.closeTo,!0).to.be.closeTo(e,r)},i.approximately=function(t,e,r,o){new n(t,o,i.approximately,!0).to.be.approximately(e,r)},i.sameMembers=function(t,e,r){new n(t,r,i.sameMembers,!0).to.have.same.members(e)},i.notSameMembers=function(t,e,r){new n(t,r,i.notSameMembers,!0).to.not.have.same.members(e)},i.sameDeepMembers=function(t,e,r){new n(t,r,i.sameDeepMembers,!0).to.have.same.deep.members(e)},i.notSameDeepMembers=function(t,e,r){new n(t,r,i.notSameDeepMembers,!0).to.not.have.same.deep.members(e)},i.sameOrderedMembers=function(t,e,r){new n(t,r,i.sameOrderedMembers,!0).to.have.same.ordered.members(e)},i.notSameOrderedMembers=function(t,e,r){new n(t,r,i.notSameOrderedMembers,!0).to.not.have.same.ordered.members(e)},i.sameDeepOrderedMembers=function(t,e,r){new n(t,r,i.sameDeepOrderedMembers,!0).to.have.same.deep.ordered.members(e)},i.notSameDeepOrderedMembers=function(t,e,r){new n(t,r,i.notSameDeepOrderedMembers,!0).to.not.have.same.deep.ordered.members(e)},i.includeMembers=function(t,e,r){new n(t,r,i.includeMembers,!0).to.include.members(e)},i.notIncludeMembers=function(t,e,r){new n(t,r,i.notIncludeMembers,!0).to.not.include.members(e)},i.includeDeepMembers=function(t,e,r){new n(t,r,i.includeDeepMembers,!0).to.include.deep.members(e)},i.notIncludeDeepMembers=function(t,e,r){new n(t,r,i.notIncludeDeepMembers,!0).to.not.include.deep.members(e)},i.includeOrderedMembers=function(t,e,r){new n(t,r,i.includeOrderedMembers,!0).to.include.ordered.members(e)},i.notIncludeOrderedMembers=function(t,e,r){new n(t,r,i.notIncludeOrderedMembers,!0).to.not.include.ordered.members(e)},i.includeDeepOrderedMembers=function(t,e,r){new n(t,r,i.includeDeepOrderedMembers,!0).to.include.deep.ordered.members(e)},i.notIncludeDeepOrderedMembers=function(t,e,r){new n(t,r,i.notIncludeDeepOrderedMembers,!0).to.not.include.deep.ordered.members(e)},i.oneOf=function(t,e,r){new n(t,r,i.oneOf,!0).to.be.oneOf(e)},i.changes=function(t,e,r,o){3===arguments.length&&"function"==typeof e&&(o=r,r=null),new n(t,o,i.changes,!0).to.change(e,r)},i.changesBy=function(t,e,r,o,s){if(4===arguments.length&&"function"==typeof e){var a=o;o=r,s=a}else 3===arguments.length&&(o=r,r=null);new n(t,s,i.changesBy,!0).to.change(e,r).by(o)},i.doesNotChange=function(t,e,r,o){return 3===arguments.length&&"function"==typeof e&&(o=r,r=null),new n(t,o,i.doesNotChange,!0).to.not.change(e,r)},i.changesButNotBy=function(t,e,r,o,s){if(4===arguments.length&&"function"==typeof e){var a=o;o=r,s=a}else 3===arguments.length&&(o=r,r=null);new n(t,s,i.changesButNotBy,!0).to.change(e,r).but.not.by(o)},i.increases=function(t,e,r,o){return 3===arguments.length&&"function"==typeof e&&(o=r,r=null),new n(t,o,i.increases,!0).to.increase(e,r)},i.increasesBy=function(t,e,r,o,s){if(4===arguments.length&&"function"==typeof e){var a=o;o=r,s=a}else 3===arguments.length&&(o=r,r=null);new n(t,s,i.increasesBy,!0).to.increase(e,r).by(o)},i.doesNotIncrease=function(t,e,r,o){return 3===arguments.length&&"function"==typeof e&&(o=r,r=null),new n(t,o,i.doesNotIncrease,!0).to.not.increase(e,r)},i.increasesButNotBy=function(t,e,r,o,s){if(4===arguments.length&&"function"==typeof e){var a=o;o=r,s=a}else 3===arguments.length&&(o=r,r=null);new n(t,s,i.increasesButNotBy,!0).to.increase(e,r).but.not.by(o)},i.decreases=function(t,e,r,o){return 3===arguments.length&&"function"==typeof e&&(o=r,r=null),new n(t,o,i.decreases,!0).to.decrease(e,r)},i.decreasesBy=function(t,e,r,o,s){if(4===arguments.length&&"function"==typeof e){var a=o;o=r,s=a}else 3===arguments.length&&(o=r,r=null);new n(t,s,i.decreasesBy,!0).to.decrease(e,r).by(o)},i.doesNotDecrease=function(t,e,r,o){return 3===arguments.length&&"function"==typeof e&&(o=r,r=null),new n(t,o,i.doesNotDecrease,!0).to.not.decrease(e,r)},i.doesNotDecreaseBy=function(t,e,r,o,s){if(4===arguments.length&&"function"==typeof e){var a=o;o=r,s=a}else 3===arguments.length&&(o=r,r=null);return new n(t,s,i.doesNotDecreaseBy,!0).to.not.decrease(e,r).by(o)},i.decreasesButNotBy=function(t,e,r,o,s){if(4===arguments.length&&"function"==typeof e){var a=o;o=r,s=a}else 3===arguments.length&&(o=r,r=null);new n(t,s,i.decreasesButNotBy,!0).to.decrease(e,r).but.not.by(o)},i.ifError=function(t){if(t)throw t},i.isExtensible=function(t,e){new n(t,e,i.isExtensible,!0).to.be.extensible},i.isNotExtensible=function(t,e){new n(t,e,i.isNotExtensible,!0).to.not.be.extensible},i.isSealed=function(t,e){new n(t,e,i.isSealed,!0).to.be.sealed},i.isNotSealed=function(t,e){new n(t,e,i.isNotSealed,!0).to.not.be.sealed},i.isFrozen=function(t,e){new n(t,e,i.isFrozen,!0).to.be.frozen},i.isNotFrozen=function(t,e){new n(t,e,i.isNotFrozen,!0).to.not.be.frozen},i.isEmpty=function(t,e){new n(t,e,i.isEmpty,!0).to.be.empty},i.isNotEmpty=function(t,e){new n(t,e,i.isNotEmpty,!0).to.not.be.empty},function t(e,n){return i[n]=i[e],t}("isOk","ok")("isNotOk","notOk")("throws","throw")("throws","Throw")("isExtensible","extensible")("isNotExtensible","notExtensible")("isSealed","sealed")("isNotSealed","notSealed")("isFrozen","frozen")("isNotFrozen","notFrozen")("isEmpty","empty")("isNotEmpty","notEmpty")}},8007:t=>{t.exports=function(t,e){t.expect=function(e,n){return new t.Assertion(e,n)},t.expect.fail=function(e,n,r,i){throw arguments.length<2&&(r=e,e=void 0),r=r||"expect.fail()",new t.AssertionError(r,{actual:e,expected:n,operator:i},t.expect.fail)}}},3292:t=>{t.exports=function(t,e){var n=t.Assertion;function r(){Object.defineProperty(Object.prototype,"should",{set:function(t){Object.defineProperty(this,"should",{value:t,enumerable:!0,configurable:!0,writable:!0})},get:function t(){return this instanceof String||this instanceof Number||this instanceof Boolean||"function"==typeof Symbol&&this instanceof Symbol||"function"==typeof BigInt&&this instanceof BigInt?new n(this.valueOf(),null,t):new n(this,null,t)},configurable:!0});var e={fail:function(n,r,i,o){throw arguments.length<2&&(i=n,n=void 0),i=i||"should.fail()",new t.AssertionError(i,{actual:n,expected:r,operator:o},e.fail)},equal:function(t,e,r){new n(t,r).to.equal(e)},Throw:function(t,e,r,i){new n(t,i).to.Throw(e,r)},exist:function(t,e){new n(t,e).to.exist},not:{}};return e.not.equal=function(t,e,r){new n(t,r).to.not.equal(e)},e.not.Throw=function(t,e,r,i){new n(t,i).to.not.Throw(e,r)},e.not.exist=function(t,e){new n(t,e).to.not.exist},e.throw=e.Throw,e.not.throw=e.not.Throw,e}t.should=r,t.Should=r}},3707:(t,e,n)=>{var r=n(7758),i=n(1928),o=n(3183),s=n(925),a=n(3897),l="function"==typeof Object.setPrototypeOf,u=function(){},c=Object.getOwnPropertyNames(u).filter((function(t){var e=Object.getOwnPropertyDescriptor(u,t);return"object"!=typeof e||!e.configurable})),h=Function.prototype.call,f=Function.prototype.apply;t.exports=function(t,e,n,u){"function"!=typeof u&&(u=function(){});var p={method:n,chainingBehavior:u};t.__methods||(t.__methods={}),t.__methods[e]=p,Object.defineProperty(t,e,{get:function(){p.chainingBehavior.call(this);var n=function(){o(this,"lockSsfi")||o(this,"ssfi",n);var t=p.method.apply(this,arguments);if(void 0!==t)return t;var e=new i.Assertion;return a(this,e),e};if(r(n,e,!0),l){var u=Object.create(this);u.call=h,u.apply=f,Object.setPrototypeOf(n,u)}else Object.getOwnPropertyNames(t).forEach((function(e){if(-1===c.indexOf(e)){var r=Object.getOwnPropertyDescriptor(t,e);Object.defineProperty(n,e,r)}}));return a(this,n),s(n)},configurable:!0})}},7758:t=>{var e=Object.getOwnPropertyDescriptor((function(){}),"length");t.exports=function(t,n,r){return e.configurable?(Object.defineProperty(t,"length",{get:function(){if(r)throw Error("Invalid Chai property: "+n+'.length. Due to a compatibility issue, "length" cannot directly follow "'+n+'". Use "'+n+'.lengthOf" instead.');throw Error("Invalid Chai property: "+n+'.length. See docs for proper usage of "'+n+'".')}}),t):t}},3775:(t,e,n)=>{var r=n(7758),i=n(1928),o=n(3183),s=n(925),a=n(3897);t.exports=function(t,e,n){var l=function(){o(this,"lockSsfi")||o(this,"ssfi",l);var t=n.apply(this,arguments);if(void 0!==t)return t;var e=new i.Assertion;return a(this,e),e};r(l,e,!1),t[e]=s(l,e)}},7152:(t,e,n)=>{var r=n(1928),i=n(3183),o=n(3035),s=n(3897);t.exports=function(t,e,n){n=void 0===n?function(){}:n,Object.defineProperty(t,e,{get:function t(){o()||i(this,"lockSsfi")||i(this,"ssfi",t);var e=n.call(this);if(void 0!==e)return e;var a=new r.Assertion;return s(this,a),a},configurable:!0})}},391:(t,e,n)=>{var r=n(2563);t.exports=function(t,e){return r(t)<r(e)?-1:1}},3265:(t,e,n)=>{var r=n(6126),i=n(3183),o=n(7013);t.exports=function(t,e){var n=i(t,"message"),s=i(t,"ssfi");n=n?n+": ":"",t=i(t,"object"),(e=e.map((function(t){return t.toLowerCase()}))).sort();var a=e.map((function(t,n){var r=~["a","e","i","o","u"].indexOf(t.charAt(0))?"an":"a";return(e.length>1&&n===e.length-1?"or ":"")+r+" "+t})).join(", "),l=o(t).toLowerCase();if(!e.some((function(t){return l===t})))throw new r(n+"object tested must be "+a+", but "+l+" given",void 0,s)}},3183:t=>{t.exports=function(t,e,n){var r=t.__flags||(t.__flags=Object.create(null));if(3!==arguments.length)return r[e];r[e]=n}},3428:t=>{t.exports=function(t,e){return e.length>4?e[4]:t._obj}},4575:t=>{t.exports=function(t){var e=[];for(var n in t)e.push(n);return e}},5540:(t,e,n)=>{var r=n(3183),i=n(3428),o=n(6020);t.exports=function(t,e){var n=r(t,"negate"),s=r(t,"object"),a=e[3],l=i(t,e),u=n?e[2]:e[1],c=r(t,"message");return"function"==typeof u&&(u=u()),u=(u=u||"").replace(/#\{this\}/g,(function(){return o(s)})).replace(/#\{act\}/g,(function(){return o(l)})).replace(/#\{exp\}/g,(function(){return o(a)})),c?c+": "+u:u}},6775:(t,e,n)=>{var r=n(7013),i=n(3183);t.exports=function(t,e){var n=i(t,"operator"),o=i(t,"negate"),s=e[3],a=o?e[2]:e[1];if(n)return n;if("function"==typeof a&&(a=a()),(a=a||"")&&!/\shave\s/.test(a)){var l=function(t){var e=r(t);return-1!==["Array","Object","function"].indexOf(e)}(s);return/\snot\s/.test(a)?l?"notDeepStrictEqual":"notStrictEqual":l?"deepStrictEqual":"strictEqual"}}},1711:(t,e,n)=>{var r=n(9663);t.exports=function(t){return Object.keys(t).concat(r(t))}},9663:t=>{t.exports=function(t){return"function"!=typeof Object.getOwnPropertySymbols?[]:Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))}},9475:t=>{t.exports=function(t){var e=Object.getOwnPropertyNames(t);function n(t){-1===e.indexOf(t)&&e.push(t)}for(var r=Object.getPrototypeOf(t);null!==r;)Object.getOwnPropertyNames(r).forEach(n),r=Object.getPrototypeOf(r);return e}},4920:(t,e,n)=>{var r=n(5539);e.test=n(6765),e.type=n(7013),e.expectTypes=n(3265),e.getMessage=n(5540),e.getActual=n(3428),e.inspect=n(2563),e.objDisplay=n(6020),e.flag=n(3183),e.transferFlags=n(3897),e.eql=n(8310),e.getPathInfo=r.getPathInfo,e.hasProperty=r.hasProperty,e.getName=n(7643),e.addProperty=n(7152),e.addMethod=n(3775),e.overwriteProperty=n(3599),e.overwriteMethod=n(8632),e.addChainableMethod=n(3707),e.overwriteChainableMethod=n(3796),e.compareByInspect=n(391),e.getOwnEnumerablePropertySymbols=n(9663),e.getOwnEnumerableProperties=n(1711),e.checkError=n(2182),e.proxify=n(925),e.addLengthGuard=n(7758),e.isProxyEnabled=n(3035),e.isNaN=n(9046),e.getOperator=n(6775)},2563:(t,e,n)=>{var r=n(7643),i=n(9475),o=n(4575),s=n(3582);function a(t,n,d){if(n&&"function"==typeof n.inspect&&n.inspect!==e.inspect&&(!n.constructor||n.constructor.prototype!==n)){var g=n.inspect(d,t);return"string"!=typeof g&&(g=a(t,g,d)),g}var m,_=function(t,e){switch(typeof e){case"undefined":return t.stylize("undefined","undefined");case"string":var n="'"+JSON.stringify(e).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return t.stylize(n,"string");case"number":return 0===e&&1/e==-1/0?t.stylize("-0","number"):t.stylize(""+e,"number");case"boolean":return t.stylize(""+e,"boolean");case"symbol":return t.stylize(e.toString(),"symbol");case"bigint":return t.stylize(e.toString()+"n","bigint")}if(null===e)return t.stylize("null","null")}(t,n);if(_)return _;if(m=n,"object"==typeof HTMLElement?m instanceof HTMLElement:m&&"object"==typeof m&&"nodeType"in m&&1===m.nodeType&&"string"==typeof m.nodeName){if("outerHTML"in n)return n.outerHTML;try{if(document.xmlVersion)return(new XMLSerializer).serializeToString(n);var y=document.createElementNS("http://www.w3.org/1999/xhtml","_");y.appendChild(n.cloneNode(!1));var v=y.innerHTML.replace("><",">"+n.innerHTML+"<");return y.innerHTML="",v}catch(t){}}var b,w,x=o(n),k=t.showHidden?i(n):x;if(0===k.length||f(n)&&(1===k.length&&"stack"===k[0]||2===k.length&&"description"===k[0]&&"stack"===k[1])){if("function"==typeof n)return w=(b=r(n))?": "+b:"",t.stylize("[Function"+w+"]","special");if(c(n))return t.stylize(RegExp.prototype.toString.call(n),"regexp");if(h(n))return t.stylize(Date.prototype.toUTCString.call(n),"date");if(f(n))return l(n)}var S,O,E="",C=!1,A=!1,P=["{","}"];if("object"==typeof(S=n)&&/\w+Array]$/.test(p(S))&&(A=!0,P=["[","]"]),function(t){return Array.isArray(t)||"object"==typeof t&&"[object Array]"===p(t)}(n)&&(C=!0,P=["[","]"]),"function"==typeof n&&(E=" [Function"+(w=(b=r(n))?": "+b:"")+"]"),c(n)&&(E=" "+RegExp.prototype.toString.call(n)),h(n)&&(E=" "+Date.prototype.toUTCString.call(n)),f(n))return l(n);if(0===k.length&&(!C||0==n.length))return P[0]+E+P[1];if(d<0)return c(n)?t.stylize(RegExp.prototype.toString.call(n),"regexp"):t.stylize("[Object]","special");if(t.seen.push(n),C)O=function(t,e,n,r,i){for(var o=[],s=0,a=e.length;s<a;++s)Object.prototype.hasOwnProperty.call(e,String(s))?o.push(u(t,e,n,r,String(s),!0)):o.push("");return i.forEach((function(i){i.match(/^\d+$/)||o.push(u(t,e,n,r,i,!0))})),o}(t,n,d,x,k);else{if(A)return function(t){for(var e="[ ",n=0;n<t.length;++n){if(e.length>=s.truncateThreshold-7){e+="...";break}e+=t[n]+", "}return-1!==(e+=" ]").indexOf(",  ]")&&(e=e.replace(",  ]"," ]")),e}(n);O=k.map((function(e){return u(t,n,d,x,e,C)}))}return t.seen.pop(),function(t,e,n){return t.reduce((function(t,e){return t+e.length+1}),0)>60?n[0]+(""===e?"":e+"\n ")+" "+t.join(",\n  ")+" "+n[1]:n[0]+e+" "+t.join(", ")+" "+n[1]}(O,E,P)}function l(t){return"["+Error.prototype.toString.call(t)+"]"}function u(t,e,n,r,i,o){var s,l,u=Object.getOwnPropertyDescriptor(e,i);if(u&&(u.get?l=u.set?t.stylize("[Getter/Setter]","special"):t.stylize("[Getter]","special"):u.set&&(l=t.stylize("[Setter]","special"))),r.indexOf(i)<0&&(s="["+i+"]"),l||(t.seen.indexOf(e[i])<0?(l=a(t,e[i],null===n?null:n-1)).indexOf("\n")>-1&&(l=o?l.split("\n").map((function(t){return"  "+t})).join("\n").substr(2):"\n"+l.split("\n").map((function(t){return"   "+t})).join("\n")):l=t.stylize("[Circular]","special")),void 0===s){if(o&&i.match(/^\d+$/))return l;(s=JSON.stringify(""+i)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(s=s.substr(1,s.length-2),s=t.stylize(s,"name")):(s=s.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),s=t.stylize(s,"string"))}return s+": "+l}function c(t){return"object"==typeof t&&"[object RegExp]"===p(t)}function h(t){return"object"==typeof t&&"[object Date]"===p(t)}function f(t){return"object"==typeof t&&"[object Error]"===p(t)}function p(t){return Object.prototype.toString.call(t)}t.exports=function(t,e,n,r){return a({showHidden:e,seen:[],stylize:function(t){return t}},t,void 0===n?2:n)}},9046:t=>{t.exports=Number.isNaN||function(t){return t!=t}},3035:(t,e,n)=>{var r=n(3582);t.exports=function(){return r.useProxy&&"undefined"!=typeof Proxy&&"undefined"!=typeof Reflect}},6020:(t,e,n)=>{var r=n(2563),i=n(3582);t.exports=function(t){var e=r(t),n=Object.prototype.toString.call(t);if(i.truncateThreshold&&e.length>=i.truncateThreshold){if("[object Function]"===n)return t.name&&""!==t.name?"[Function: "+t.name+"]":"[Function]";if("[object Array]"===n)return"[ Array("+t.length+") ]";if("[object Object]"===n){var o=Object.keys(t);return"{ Object ("+(o.length>2?o.splice(0,2).join(", ")+", ...":o.join(", "))+") }"}return e}return e}},3796:(t,e,n)=>{var r=n(1928),i=n(3897);t.exports=function(t,e,n,o){var s=t.__methods[e],a=s.chainingBehavior;s.chainingBehavior=function(){var t=o(a).call(this);if(void 0!==t)return t;var e=new r.Assertion;return i(this,e),e};var l=s.method;s.method=function(){var t=n(l).apply(this,arguments);if(void 0!==t)return t;var e=new r.Assertion;return i(this,e),e}}},8632:(t,e,n)=>{var r=n(7758),i=n(1928),o=n(3183),s=n(925),a=n(3897);t.exports=function(t,e,n){var l=t[e],u=function(){throw new Error(e+" is not a function")};l&&"function"==typeof l&&(u=l);var c=function(){o(this,"lockSsfi")||o(this,"ssfi",c);var t=o(this,"lockSsfi");o(this,"lockSsfi",!0);var e=n(u).apply(this,arguments);if(o(this,"lockSsfi",t),void 0!==e)return e;var r=new i.Assertion;return a(this,r),r};r(c,e,!1),t[e]=s(c,e)}},3599:(t,e,n)=>{var r=n(1928),i=n(3183),o=n(3035),s=n(3897);t.exports=function(t,e,n){var a=Object.getOwnPropertyDescriptor(t,e),l=function(){};a&&"function"==typeof a.get&&(l=a.get),Object.defineProperty(t,e,{get:function t(){o()||i(this,"lockSsfi")||i(this,"ssfi",t);var e=i(this,"lockSsfi");i(this,"lockSsfi",!0);var a=n(l).call(this);if(i(this,"lockSsfi",e),void 0!==a)return a;var u=new r.Assertion;return s(this,u),u},configurable:!0})}},925:(t,e,n)=>{var r=n(3582),i=n(3183),o=n(9475),s=n(3035),a=["__flags","__methods","_obj","assert"];t.exports=function(t,e){return s()?new Proxy(t,{get:function t(n,s){if("string"==typeof s&&-1===r.proxyExcludedKeys.indexOf(s)&&!Reflect.has(n,s)){if(e)throw Error("Invalid Chai property: "+e+"."+s+'. See docs for proper usage of "'+e+'".');var l=null,u=4;throw o(n).forEach((function(t){if(!Object.prototype.hasOwnProperty(t)&&-1===a.indexOf(t)){var e=function(t,e,n){if(Math.abs(t.length-e.length)>=n)return n;for(var r=[],i=0;i<=t.length;i++)r[i]=Array(e.length+1).fill(0),r[i][0]=i;for(var o=0;o<e.length;o++)r[0][o]=o;for(i=1;i<=t.length;i++){var s=t.charCodeAt(i-1);for(o=1;o<=e.length;o++)Math.abs(i-o)>=n?r[i][o]=n:r[i][o]=Math.min(r[i-1][o]+1,r[i][o-1]+1,r[i-1][o-1]+(s===e.charCodeAt(o-1)?0:1))}return r[t.length][e.length]}(s,t,u);e<u&&(l=t,u=e)}})),null!==l?Error("Invalid Chai property: "+s+'. Did you mean "'+l+'"?'):Error("Invalid Chai property: "+s)}return-1!==a.indexOf(s)||i(n,"lockSsfi")||i(n,"ssfi",t),Reflect.get(n,s)}}):t}},6765:(t,e,n)=>{var r=n(3183);t.exports=function(t,e){var n=r(t,"negate"),i=e[0];return n?!i:i}},3897:t=>{t.exports=function(t,e,n){var r=t.__flags||(t.__flags=Object.create(null));for(var i in e.__flags||(e.__flags=Object.create(null)),n=3!==arguments.length||n,r)(n||"object"!==i&&"ssfi"!==i&&"lockSsfi"!==i&&"message"!=i)&&(e.__flags[i]=r[i])}},2182:t=>{"use strict";var e=/\s*function(?:\s|\s*\/\*[^(?:*\/)]+\*\/\s*)*([^\(\/]+)/;function n(t){var n="";if(void 0===t.name){var r=String(t).match(e);r&&(n=r[1])}else n=t.name;return n}t.exports={compatibleInstance:function(t,e){return e instanceof Error&&t===e},compatibleConstructor:function(t,e){return e instanceof Error?t.constructor===e.constructor||t instanceof e.constructor:(e.prototype instanceof Error||e===Error)&&(t.constructor===e||t instanceof e)},compatibleMessage:function(t,e){var n="string"==typeof t?t:t.message;return e instanceof RegExp?e.test(n):"string"==typeof e&&-1!==n.indexOf(e)},getMessage:function(t){var e="";return t&&t.message?e=t.message:"string"==typeof t&&(e=t),e},getConstructorName:function(t){var e=t;return t instanceof Error?e=n(t.constructor):"function"==typeof t&&(e=n(t).trim()||n(new t)),e}}},4098:function(t,e){var n="undefined"!=typeof self?self:this,r=function(){function t(){this.fetch=!1,this.DOMException=n.DOMException}return t.prototype=n,new t}();!function(t){!function(e){var n="URLSearchParams"in t,r="Symbol"in t&&"iterator"in Symbol,i="FileReader"in t&&"Blob"in t&&function(){try{return new Blob,!0}catch(t){return!1}}(),o="FormData"in t,s="ArrayBuffer"in t;if(s)var a=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],l=ArrayBuffer.isView||function(t){return t&&a.indexOf(Object.prototype.toString.call(t))>-1};function u(t){if("string"!=typeof t&&(t=String(t)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(t))throw new TypeError("Invalid character in header field name");return t.toLowerCase()}function c(t){return"string"!=typeof t&&(t=String(t)),t}function h(t){var e={next:function(){var e=t.shift();return{done:void 0===e,value:e}}};return r&&(e[Symbol.iterator]=function(){return e}),e}function f(t){this.map={},t instanceof f?t.forEach((function(t,e){this.append(e,t)}),this):Array.isArray(t)?t.forEach((function(t){this.append(t[0],t[1])}),this):t&&Object.getOwnPropertyNames(t).forEach((function(e){this.append(e,t[e])}),this)}function p(t){if(t.bodyUsed)return Promise.reject(new TypeError("Already read"));t.bodyUsed=!0}function d(t){return new Promise((function(e,n){t.onload=function(){e(t.result)},t.onerror=function(){n(t.error)}}))}function g(t){var e=new FileReader,n=d(e);return e.readAsArrayBuffer(t),n}function m(t){if(t.slice)return t.slice(0);var e=new Uint8Array(t.byteLength);return e.set(new Uint8Array(t)),e.buffer}function _(){return this.bodyUsed=!1,this._initBody=function(t){var e;this._bodyInit=t,t?"string"==typeof t?this._bodyText=t:i&&Blob.prototype.isPrototypeOf(t)?this._bodyBlob=t:o&&FormData.prototype.isPrototypeOf(t)?this._bodyFormData=t:n&&URLSearchParams.prototype.isPrototypeOf(t)?this._bodyText=t.toString():s&&i&&(e=t)&&DataView.prototype.isPrototypeOf(e)?(this._bodyArrayBuffer=m(t.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):s&&(ArrayBuffer.prototype.isPrototypeOf(t)||l(t))?this._bodyArrayBuffer=m(t):this._bodyText=t=Object.prototype.toString.call(t):this._bodyText="",this.headers.get("content-type")||("string"==typeof t?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):n&&URLSearchParams.prototype.isPrototypeOf(t)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},i&&(this.blob=function(){var t=p(this);if(t)return t;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?p(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(g)}),this.text=function(){var t,e,n,r=p(this);if(r)return r;if(this._bodyBlob)return t=this._bodyBlob,n=d(e=new FileReader),e.readAsText(t),n;if(this._bodyArrayBuffer)return Promise.resolve(function(t){for(var e=new Uint8Array(t),n=new Array(e.length),r=0;r<e.length;r++)n[r]=String.fromCharCode(e[r]);return n.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},o&&(this.formData=function(){return this.text().then(b)}),this.json=function(){return this.text().then(JSON.parse)},this}f.prototype.append=function(t,e){t=u(t),e=c(e);var n=this.map[t];this.map[t]=n?n+", "+e:e},f.prototype.delete=function(t){delete this.map[u(t)]},f.prototype.get=function(t){return t=u(t),this.has(t)?this.map[t]:null},f.prototype.has=function(t){return this.map.hasOwnProperty(u(t))},f.prototype.set=function(t,e){this.map[u(t)]=c(e)},f.prototype.forEach=function(t,e){for(var n in this.map)this.map.hasOwnProperty(n)&&t.call(e,this.map[n],n,this)},f.prototype.keys=function(){var t=[];return this.forEach((function(e,n){t.push(n)})),h(t)},f.prototype.values=function(){var t=[];return this.forEach((function(e){t.push(e)})),h(t)},f.prototype.entries=function(){var t=[];return this.forEach((function(e,n){t.push([n,e])})),h(t)},r&&(f.prototype[Symbol.iterator]=f.prototype.entries);var y=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function v(t,e){var n,r,i=(e=e||{}).body;if(t instanceof v){if(t.bodyUsed)throw new TypeError("Already read");this.url=t.url,this.credentials=t.credentials,e.headers||(this.headers=new f(t.headers)),this.method=t.method,this.mode=t.mode,this.signal=t.signal,i||null==t._bodyInit||(i=t._bodyInit,t.bodyUsed=!0)}else this.url=String(t);if(this.credentials=e.credentials||this.credentials||"same-origin",!e.headers&&this.headers||(this.headers=new f(e.headers)),this.method=(r=(n=e.method||this.method||"GET").toUpperCase(),y.indexOf(r)>-1?r:n),this.mode=e.mode||this.mode||null,this.signal=e.signal||this.signal,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&i)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(i)}function b(t){var e=new FormData;return t.trim().split("&").forEach((function(t){if(t){var n=t.split("="),r=n.shift().replace(/\+/g," "),i=n.join("=").replace(/\+/g," ");e.append(decodeURIComponent(r),decodeURIComponent(i))}})),e}function w(t,e){e||(e={}),this.type="default",this.status=void 0===e.status?200:e.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in e?e.statusText:"OK",this.headers=new f(e.headers),this.url=e.url||"",this._initBody(t)}v.prototype.clone=function(){return new v(this,{body:this._bodyInit})},_.call(v.prototype),_.call(w.prototype),w.prototype.clone=function(){return new w(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new f(this.headers),url:this.url})},w.error=function(){var t=new w(null,{status:0,statusText:""});return t.type="error",t};var x=[301,302,303,307,308];w.redirect=function(t,e){if(-1===x.indexOf(e))throw new RangeError("Invalid status code");return new w(null,{status:e,headers:{location:t}})},e.DOMException=t.DOMException;try{new e.DOMException}catch(t){e.DOMException=function(t,e){this.message=t,this.name=e;var n=Error(t);this.stack=n.stack},e.DOMException.prototype=Object.create(Error.prototype),e.DOMException.prototype.constructor=e.DOMException}function k(t,n){return new Promise((function(r,o){var s=new v(t,n);if(s.signal&&s.signal.aborted)return o(new e.DOMException("Aborted","AbortError"));var a=new XMLHttpRequest;function l(){a.abort()}a.onload=function(){var t,e,n={status:a.status,statusText:a.statusText,headers:(t=a.getAllResponseHeaders()||"",e=new f,t.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach((function(t){var n=t.split(":"),r=n.shift().trim();if(r){var i=n.join(":").trim();e.append(r,i)}})),e)};n.url="responseURL"in a?a.responseURL:n.headers.get("X-Request-URL");var i="response"in a?a.response:a.responseText;r(new w(i,n))},a.onerror=function(){o(new TypeError("Network request failed"))},a.ontimeout=function(){o(new TypeError("Network request failed"))},a.onabort=function(){o(new e.DOMException("Aborted","AbortError"))},a.open(s.method,s.url,!0),"include"===s.credentials?a.withCredentials=!0:"omit"===s.credentials&&(a.withCredentials=!1),"responseType"in a&&i&&(a.responseType="blob"),s.headers.forEach((function(t,e){a.setRequestHeader(e,t)})),s.signal&&(s.signal.addEventListener("abort",l),a.onreadystatechange=function(){4===a.readyState&&s.signal.removeEventListener("abort",l)}),a.send(void 0===s._bodyInit?null:s._bodyInit)}))}k.polyfill=!0,t.fetch||(t.fetch=k,t.Headers=f,t.Request=v,t.Response=w),e.Headers=f,e.Request=v,e.Response=w,e.fetch=k,Object.defineProperty(e,"__esModule",{value:!0})}({})}(r),r.fetch.ponyfill=!0,delete r.fetch.polyfill;var i=r;(e=i.fetch).default=i.fetch,e.fetch=i.fetch,e.Headers=i.Headers,e.Request=i.Request,e.Response=i.Response,t.exports=e},8310:(t,e,n)=>{"use strict";var r=n(7013);function i(){this._key="chai/deep-eql__"+Math.random()+Date.now()}i.prototype={get:function(t){return t[this._key]},set:function(t,e){Object.isExtensible(t)&&Object.defineProperty(t,this._key,{value:e,configurable:!0})}};var o="function"==typeof WeakMap?WeakMap:i;function s(t,e,n){if(!n||g(t)||g(e))return null;var r=n.get(t);if(r){var i=r.get(e);if("boolean"==typeof i)return i}return null}function a(t,e,n,r){if(n&&!g(t)&&!g(e)){var i=n.get(t);i?i.set(e,r):((i=new o).set(e,r),n.set(t,i))}}function l(t,e,n){if(n&&n.comparator)return c(t,e,n);var r=u(t,e);return null!==r?r:c(t,e,n)}function u(t,e){return t===e?0!==t||1/t==1/e:t!=t&&e!=e||!g(t)&&!g(e)&&null}function c(t,e,n){(n=n||{}).memoize=!1!==n.memoize&&(n.memoize||new o);var i=n&&n.comparator,c=s(t,e,n.memoize);if(null!==c)return c;var g=s(e,t,n.memoize);if(null!==g)return g;if(i){var m=i(t,e);if(!1===m||!0===m)return a(t,e,n.memoize,m),m;var _=u(t,e);if(null!==_)return _}var y=r(t);if(y!==r(e))return a(t,e,n.memoize,!1),!1;a(t,e,n.memoize,!0);var v=function(t,e,n,r){switch(n){case"String":case"Number":case"Boolean":case"Date":return l(t.valueOf(),e.valueOf());case"Promise":case"Symbol":case"function":case"WeakMap":case"WeakSet":case"Error":return t===e;case"Arguments":case"Int8Array":case"Uint8Array":case"Uint8ClampedArray":case"Int16Array":case"Uint16Array":case"Int32Array":case"Uint32Array":case"Float32Array":case"Float64Array":case"Array":return h(t,e,r);case"RegExp":return function(t,e){return t.toString()===e.toString()}(t,e);case"Generator":return function(t,e,n){return h(p(t),p(e),n)}(t,e,r);case"DataView":return h(new Uint8Array(t.buffer),new Uint8Array(e.buffer),r);case"ArrayBuffer":return h(new Uint8Array(t),new Uint8Array(e),r);case"Set":case"Map":return function(t,e,n){if(t.size!==e.size)return!1;if(0===t.size)return!0;var r=[],i=[];return t.forEach((function(t,e){r.push([t,e])})),e.forEach((function(t,e){i.push([t,e])})),h(r.sort(),i.sort(),n)}(t,e,r);default:return function(t,e,n){var r=d(t),i=d(e);if(r.length&&r.length===i.length)return r.sort(),i.sort(),!1!==h(r,i)&&function(t,e,n,r){var i=n.length;if(0===i)return!0;for(var o=0;o<i;o+=1)if(!1===l(t[n[o]],e[n[o]],r))return!1;return!0}(t,e,r,n);var o=f(t),s=f(e);return o.length&&o.length===s.length?(o.sort(),s.sort(),h(o,s,n)):0===r.length&&0===o.length&&0===i.length&&0===s.length}(t,e,r)}}(t,e,y,n);return a(t,e,n.memoize,v),v}function h(t,e,n){var r=t.length;if(r!==e.length)return!1;if(0===r)return!0;for(var i=-1;++i<r;)if(!1===l(t[i],e[i],n))return!1;return!0}function f(t){if(function(t){return"undefined"!=typeof Symbol&&"object"==typeof t&&void 0!==Symbol.iterator&&"function"==typeof t[Symbol.iterator]}(t))try{return p(t[Symbol.iterator]())}catch(t){return[]}return[]}function p(t){for(var e=t.next(),n=[e.value];!1===e.done;)e=t.next(),n.push(e.value);return n}function d(t){var e=[];for(var n in t)e.push(n);return e}function g(t){return null===t||"object"!=typeof t}t.exports=l,t.exports.MemoizeMap=o},7643:t=>{"use strict";var e=Function.prototype.toString,n=/\s*function(?:\s|\s*\/\*[^(?:*\/)]+\*\/\s*)*([^\s\(\/]+)/;t.exports=function(t){if("function"!=typeof t)return null;var r="";if(void 0===Function.prototype.name&&void 0===t.name){var i=e.call(t).match(n);i&&(r=i[1])}else r=t.name;return r}},8679:(t,e,n)=>{"use strict";var r=n(1296),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},o={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},s={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},a={};function l(t){return r.isMemo(t)?s:a[t.$$typeof]||i}a[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},a[r.Memo]=s;var u=Object.defineProperty,c=Object.getOwnPropertyNames,h=Object.getOwnPropertySymbols,f=Object.getOwnPropertyDescriptor,p=Object.getPrototypeOf,d=Object.prototype;t.exports=function t(e,n,r){if("string"!=typeof n){if(d){var i=p(n);i&&i!==d&&t(e,i,r)}var s=c(n);h&&(s=s.concat(h(n)));for(var a=l(e),g=l(n),m=0;m<s.length;++m){var _=s[m];if(!(o[_]||r&&r[_]||g&&g[_]||a&&a[_])){var y=f(n,_);try{u(e,_,y)}catch(t){}}}}return e}},6103:(t,e)=>{"use strict";var n="function"==typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,o=n?Symbol.for("react.fragment"):60107,s=n?Symbol.for("react.strict_mode"):60108,a=n?Symbol.for("react.profiler"):60114,l=n?Symbol.for("react.provider"):60109,u=n?Symbol.for("react.context"):60110,c=n?Symbol.for("react.async_mode"):60111,h=n?Symbol.for("react.concurrent_mode"):60111,f=n?Symbol.for("react.forward_ref"):60112,p=n?Symbol.for("react.suspense"):60113,d=n?Symbol.for("react.suspense_list"):60120,g=n?Symbol.for("react.memo"):60115,m=n?Symbol.for("react.lazy"):60116,_=n?Symbol.for("react.block"):60121,y=n?Symbol.for("react.fundamental"):60117,v=n?Symbol.for("react.responder"):60118,b=n?Symbol.for("react.scope"):60119;function w(t){if("object"==typeof t&&null!==t){var e=t.$$typeof;switch(e){case r:switch(t=t.type){case c:case h:case o:case a:case s:case p:return t;default:switch(t=t&&t.$$typeof){case u:case f:case m:case g:case l:return t;default:return e}}case i:return e}}}function x(t){return w(t)===h}e.AsyncMode=c,e.ConcurrentMode=h,e.ContextConsumer=u,e.ContextProvider=l,e.Element=r,e.ForwardRef=f,e.Fragment=o,e.Lazy=m,e.Memo=g,e.Portal=i,e.Profiler=a,e.StrictMode=s,e.Suspense=p,e.isAsyncMode=function(t){return x(t)||w(t)===c},e.isConcurrentMode=x,e.isContextConsumer=function(t){return w(t)===u},e.isContextProvider=function(t){return w(t)===l},e.isElement=function(t){return"object"==typeof t&&null!==t&&t.$$typeof===r},e.isForwardRef=function(t){return w(t)===f},e.isFragment=function(t){return w(t)===o},e.isLazy=function(t){return w(t)===m},e.isMemo=function(t){return w(t)===g},e.isPortal=function(t){return w(t)===i},e.isProfiler=function(t){return w(t)===a},e.isStrictMode=function(t){return w(t)===s},e.isSuspense=function(t){return w(t)===p},e.isValidElementType=function(t){return"string"==typeof t||"function"==typeof t||t===o||t===h||t===a||t===s||t===p||t===d||"object"==typeof t&&null!==t&&(t.$$typeof===m||t.$$typeof===g||t.$$typeof===l||t.$$typeof===u||t.$$typeof===f||t.$$typeof===y||t.$$typeof===v||t.$$typeof===b||t.$$typeof===_)},e.typeOf=w},1296:(t,e,n)=>{"use strict";t.exports=n(6103)},4204:(t,e,n)=>{"use strict";var r,i;r=[n(7937),n(5040),n(3566)],void 0===(i=function(t,e,n){return function(t,e,n){var r=function(e,n){return t.js_beautify(e,n)};return r.js=t.js_beautify,r.css=e.css_beautify,r.html=n.html_beautify,r.js_beautify=t.js_beautify,r.css_beautify=e.css_beautify,r.html_beautify=n.html_beautify,r}(t,e,n)}.apply(e,r))||(t.exports=i)},5040:(t,e)=>{var n;!function(){var r;!function(){"use strict";var t=[,,function(t){function e(t){this.__parent=t,this.__character_count=0,this.__indent_count=-1,this.__alignment_count=0,this.__wrap_point_index=0,this.__wrap_point_character_count=0,this.__wrap_point_indent_count=-1,this.__wrap_point_alignment_count=0,this.__items=[]}function n(t,e){this.__cache=[""],this.__indent_size=t.indent_size,this.__indent_string=t.indent_char,t.indent_with_tabs||(this.__indent_string=new Array(t.indent_size+1).join(t.indent_char)),e=e||"",t.indent_level>0&&(e=new Array(t.indent_level+1).join(this.__indent_string)),this.__base_string=e,this.__base_string_length=e.length}function r(t,r){this.__indent_cache=new n(t,r),this.raw=!1,this._end_with_newline=t.end_with_newline,this.indent_size=t.indent_size,this.wrap_line_length=t.wrap_line_length,this.indent_empty_lines=t.indent_empty_lines,this.__lines=[],this.previous_line=null,this.current_line=null,this.next_line=new e(this),this.space_before_token=!1,this.non_breaking_space=!1,this.previous_token_wrapped=!1,this.__add_outputline()}e.prototype.clone_empty=function(){var t=new e(this.__parent);return t.set_indent(this.__indent_count,this.__alignment_count),t},e.prototype.item=function(t){return t<0?this.__items[this.__items.length+t]:this.__items[t]},e.prototype.has_match=function(t){for(var e=this.__items.length-1;e>=0;e--)if(this.__items[e].match(t))return!0;return!1},e.prototype.set_indent=function(t,e){this.is_empty()&&(this.__indent_count=t||0,this.__alignment_count=e||0,this.__character_count=this.__parent.get_indent_size(this.__indent_count,this.__alignment_count))},e.prototype._set_wrap_point=function(){this.__parent.wrap_line_length&&(this.__wrap_point_index=this.__items.length,this.__wrap_point_character_count=this.__character_count,this.__wrap_point_indent_count=this.__parent.next_line.__indent_count,this.__wrap_point_alignment_count=this.__parent.next_line.__alignment_count)},e.prototype._should_wrap=function(){return this.__wrap_point_index&&this.__character_count>this.__parent.wrap_line_length&&this.__wrap_point_character_count>this.__parent.next_line.__character_count},e.prototype._allow_wrap=function(){if(this._should_wrap()){this.__parent.add_new_line();var t=this.__parent.current_line;return t.set_indent(this.__wrap_point_indent_count,this.__wrap_point_alignment_count),t.__items=this.__items.slice(this.__wrap_point_index),this.__items=this.__items.slice(0,this.__wrap_point_index),t.__character_count+=this.__character_count-this.__wrap_point_character_count,this.__character_count=this.__wrap_point_character_count," "===t.__items[0]&&(t.__items.splice(0,1),t.__character_count-=1),!0}return!1},e.prototype.is_empty=function(){return 0===this.__items.length},e.prototype.last=function(){return this.is_empty()?null:this.__items[this.__items.length-1]},e.prototype.push=function(t){this.__items.push(t);var e=t.lastIndexOf("\n");-1!==e?this.__character_count=t.length-e:this.__character_count+=t.length},e.prototype.pop=function(){var t=null;return this.is_empty()||(t=this.__items.pop(),this.__character_count-=t.length),t},e.prototype._remove_indent=function(){this.__indent_count>0&&(this.__indent_count-=1,this.__character_count-=this.__parent.indent_size)},e.prototype._remove_wrap_indent=function(){this.__wrap_point_indent_count>0&&(this.__wrap_point_indent_count-=1)},e.prototype.trim=function(){for(;" "===this.last();)this.__items.pop(),this.__character_count-=1},e.prototype.toString=function(){var t="";return this.is_empty()?this.__parent.indent_empty_lines&&(t=this.__parent.get_indent_string(this.__indent_count)):(t=this.__parent.get_indent_string(this.__indent_count,this.__alignment_count),t+=this.__items.join("")),t},n.prototype.get_indent_size=function(t,e){var n=this.__base_string_length;return e=e||0,t<0&&(n=0),(n+=t*this.__indent_size)+e},n.prototype.get_indent_string=function(t,e){var n=this.__base_string;return e=e||0,t<0&&(t=0,n=""),e+=t*this.__indent_size,this.__ensure_cache(e),n+this.__cache[e]},n.prototype.__ensure_cache=function(t){for(;t>=this.__cache.length;)this.__add_column()},n.prototype.__add_column=function(){var t=this.__cache.length,e=0,n="";this.__indent_size&&t>=this.__indent_size&&(t-=(e=Math.floor(t/this.__indent_size))*this.__indent_size,n=new Array(e+1).join(this.__indent_string)),t&&(n+=new Array(t+1).join(" ")),this.__cache.push(n)},r.prototype.__add_outputline=function(){this.previous_line=this.current_line,this.current_line=this.next_line.clone_empty(),this.__lines.push(this.current_line)},r.prototype.get_line_number=function(){return this.__lines.length},r.prototype.get_indent_string=function(t,e){return this.__indent_cache.get_indent_string(t,e)},r.prototype.get_indent_size=function(t,e){return this.__indent_cache.get_indent_size(t,e)},r.prototype.is_empty=function(){return!this.previous_line&&this.current_line.is_empty()},r.prototype.add_new_line=function(t){return!(this.is_empty()||!t&&this.just_added_newline()||(this.raw||this.__add_outputline(),0))},r.prototype.get_code=function(t){this.trim(!0);var e=this.current_line.pop();e&&("\n"===e[e.length-1]&&(e=e.replace(/\n+$/g,"")),this.current_line.push(e)),this._end_with_newline&&this.__add_outputline();var n=this.__lines.join("\n");return"\n"!==t&&(n=n.replace(/[\n]/g,t)),n},r.prototype.set_wrap_point=function(){this.current_line._set_wrap_point()},r.prototype.set_indent=function(t,e){return t=t||0,e=e||0,this.next_line.set_indent(t,e),this.__lines.length>1?(this.current_line.set_indent(t,e),!0):(this.current_line.set_indent(),!1)},r.prototype.add_raw_token=function(t){for(var e=0;e<t.newlines;e++)this.__add_outputline();this.current_line.set_indent(-1),this.current_line.push(t.whitespace_before),this.current_line.push(t.text),this.space_before_token=!1,this.non_breaking_space=!1,this.previous_token_wrapped=!1},r.prototype.add_token=function(t){this.__add_space_before_token(),this.current_line.push(t),this.space_before_token=!1,this.non_breaking_space=!1,this.previous_token_wrapped=this.current_line._allow_wrap()},r.prototype.__add_space_before_token=function(){this.space_before_token&&!this.just_added_newline()&&(this.non_breaking_space||this.set_wrap_point(),this.current_line.push(" "))},r.prototype.remove_indent=function(t){for(var e=this.__lines.length;t<e;)this.__lines[t]._remove_indent(),t++;this.current_line._remove_wrap_indent()},r.prototype.trim=function(t){for(t=void 0!==t&&t,this.current_line.trim();t&&this.__lines.length>1&&this.current_line.is_empty();)this.__lines.pop(),this.current_line=this.__lines[this.__lines.length-1],this.current_line.trim();this.previous_line=this.__lines.length>1?this.__lines[this.__lines.length-2]:null},r.prototype.just_added_newline=function(){return this.current_line.is_empty()},r.prototype.just_added_blankline=function(){return this.is_empty()||this.current_line.is_empty()&&this.previous_line.is_empty()},r.prototype.ensure_empty_line_above=function(t,n){for(var r=this.__lines.length-2;r>=0;){var i=this.__lines[r];if(i.is_empty())break;if(0!==i.item(0).indexOf(t)&&i.item(-1)!==n){this.__lines.splice(r+1,0,new e(this)),this.previous_line=this.__lines[this.__lines.length-2];break}r--}},t.exports.Output=r},,,,function(t){function e(t,e){this.raw_options=n(t,e),this.disabled=this._get_boolean("disabled"),this.eol=this._get_characters("eol","auto"),this.end_with_newline=this._get_boolean("end_with_newline"),this.indent_size=this._get_number("indent_size",4),this.indent_char=this._get_characters("indent_char"," "),this.indent_level=this._get_number("indent_level"),this.preserve_newlines=this._get_boolean("preserve_newlines",!0),this.max_preserve_newlines=this._get_number("max_preserve_newlines",32786),this.preserve_newlines||(this.max_preserve_newlines=0),this.indent_with_tabs=this._get_boolean("indent_with_tabs","\t"===this.indent_char),this.indent_with_tabs&&(this.indent_char="\t",1===this.indent_size&&(this.indent_size=4)),this.wrap_line_length=this._get_number("wrap_line_length",this._get_number("max_char")),this.indent_empty_lines=this._get_boolean("indent_empty_lines"),this.templating=this._get_selection_list("templating",["auto","none","django","erb","handlebars","php","smarty"],["auto"])}function n(t,e){var n,i={};for(n in t=r(t))n!==e&&(i[n]=t[n]);if(e&&t[e])for(n in t[e])i[n]=t[e][n];return i}function r(t){var e,n={};for(e in t)n[e.replace(/-/g,"_")]=t[e];return n}e.prototype._get_array=function(t,e){var n=this.raw_options[t],r=e||[];return"object"==typeof n?null!==n&&"function"==typeof n.concat&&(r=n.concat()):"string"==typeof n&&(r=n.split(/[^a-zA-Z0-9_\/\-]+/)),r},e.prototype._get_boolean=function(t,e){var n=this.raw_options[t];return void 0===n?!!e:!!n},e.prototype._get_characters=function(t,e){var n=this.raw_options[t],r=e||"";return"string"==typeof n&&(r=n.replace(/\\r/,"\r").replace(/\\n/,"\n").replace(/\\t/,"\t")),r},e.prototype._get_number=function(t,e){var n=this.raw_options[t];e=parseInt(e,10),isNaN(e)&&(e=0);var r=parseInt(n,10);return isNaN(r)&&(r=e),r},e.prototype._get_selection=function(t,e,n){var r=this._get_selection_list(t,e,n);if(1!==r.length)throw new Error("Invalid Option Value: The option '"+t+"' can only be one of the following values:\n"+e+"\nYou passed in: '"+this.raw_options[t]+"'");return r[0]},e.prototype._get_selection_list=function(t,e,n){if(!e||0===e.length)throw new Error("Selection list cannot be empty.");if(n=n||[e[0]],!this._is_valid_selection(n,e))throw new Error("Invalid Default Value!");var r=this._get_array(t,n);if(!this._is_valid_selection(r,e))throw new Error("Invalid Option Value: The option '"+t+"' can contain only the following values:\n"+e+"\nYou passed in: '"+this.raw_options[t]+"'");return r},e.prototype._is_valid_selection=function(t,e){return t.length&&e.length&&!t.some((function(t){return-1===e.indexOf(t)}))},t.exports.Options=e,t.exports.normalizeOpts=r,t.exports.mergeOpts=n},,function(t){var e=RegExp.prototype.hasOwnProperty("sticky");function n(t){this.__input=t||"",this.__input_length=this.__input.length,this.__position=0}n.prototype.restart=function(){this.__position=0},n.prototype.back=function(){this.__position>0&&(this.__position-=1)},n.prototype.hasNext=function(){return this.__position<this.__input_length},n.prototype.next=function(){var t=null;return this.hasNext()&&(t=this.__input.charAt(this.__position),this.__position+=1),t},n.prototype.peek=function(t){var e=null;return t=t||0,(t+=this.__position)>=0&&t<this.__input_length&&(e=this.__input.charAt(t)),e},n.prototype.__match=function(t,n){t.lastIndex=n;var r=t.exec(this.__input);return!r||e&&t.sticky||r.index!==n&&(r=null),r},n.prototype.test=function(t,e){return e=e||0,(e+=this.__position)>=0&&e<this.__input_length&&!!this.__match(t,e)},n.prototype.testChar=function(t,e){var n=this.peek(e);return t.lastIndex=0,null!==n&&t.test(n)},n.prototype.match=function(t){var e=this.__match(t,this.__position);return e?this.__position+=e[0].length:e=null,e},n.prototype.read=function(t,e,n){var r,i="";return t&&(r=this.match(t))&&(i+=r[0]),!e||!r&&t||(i+=this.readUntil(e,n)),i},n.prototype.readUntil=function(t,e){var n,r=this.__position;t.lastIndex=this.__position;var i=t.exec(this.__input);return i?(r=i.index,e&&(r+=i[0].length)):r=this.__input_length,n=this.__input.substring(this.__position,r),this.__position=r,n},n.prototype.readUntilAfter=function(t){return this.readUntil(t,!0)},n.prototype.get_regexp=function(t,n){var r=null,i="g";return n&&e&&(i="y"),"string"==typeof t&&""!==t?r=new RegExp(t,i):t&&(r=new RegExp(t.source,i)),r},n.prototype.get_literal_regexp=function(t){return RegExp(t.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&"))},n.prototype.peekUntilAfter=function(t){var e=this.__position,n=this.readUntilAfter(t);return this.__position=e,n},n.prototype.lookBack=function(t){var e=this.__position-1;return e>=t.length&&this.__input.substring(e-t.length,e).toLowerCase()===t},t.exports.InputScanner=n},,,,,function(t){function e(t,e){t="string"==typeof t?t:t.source,e="string"==typeof e?e:e.source,this.__directives_block_pattern=new RegExp(t+/ beautify( \w+[:]\w+)+ /.source+e,"g"),this.__directive_pattern=/ (\w+)[:](\w+)/g,this.__directives_end_ignore_pattern=new RegExp(t+/\sbeautify\signore:end\s/.source+e,"g")}e.prototype.get_directives=function(t){if(!t.match(this.__directives_block_pattern))return null;var e={};this.__directive_pattern.lastIndex=0;for(var n=this.__directive_pattern.exec(t);n;)e[n[1]]=n[2],n=this.__directive_pattern.exec(t);return e},e.prototype.readIgnored=function(t){return t.readUntilAfter(this.__directives_end_ignore_pattern)},t.exports.Directives=e},,function(t,e,n){var r=n(16).Beautifier,i=n(17).Options;t.exports=function(t,e){return new r(t,e).beautify()},t.exports.defaultOptions=function(){return new i}},function(t,e,n){var r=n(17).Options,i=n(2).Output,o=n(8).InputScanner,s=new(0,n(13).Directives)(/\/\*/,/\*\//),a=/\r\n|[\r\n]/,l=/\r\n|[\r\n]/g,u=/\s/,c=/(?:\s|\n)+/g,h=/\/\*(?:[\s\S]*?)((?:\*\/)|$)/g,f=/\/\/(?:[^\n\r\u2028\u2029]*)/g;function p(t,e){this._source_text=t||"",this._options=new r(e),this._ch=null,this._input=null,this.NESTED_AT_RULE={"@page":!0,"@font-face":!0,"@keyframes":!0,"@media":!0,"@supports":!0,"@document":!0},this.CONDITIONAL_GROUP_RULE={"@media":!0,"@supports":!0,"@document":!0}}p.prototype.eatString=function(t){var e="";for(this._ch=this._input.next();this._ch;){if(e+=this._ch,"\\"===this._ch)e+=this._input.next();else if(-1!==t.indexOf(this._ch)||"\n"===this._ch)break;this._ch=this._input.next()}return e},p.prototype.eatWhitespace=function(t){for(var e=u.test(this._input.peek()),n=0;u.test(this._input.peek());)this._ch=this._input.next(),t&&"\n"===this._ch&&(0===n||n<this._options.max_preserve_newlines)&&(n++,this._output.add_new_line(!0));return e},p.prototype.foundNestedPseudoClass=function(){for(var t=0,e=1,n=this._input.peek(e);n;){if("{"===n)return!0;if("("===n)t+=1;else if(")"===n){if(0===t)return!1;t-=1}else if(";"===n||"}"===n)return!1;e++,n=this._input.peek(e)}return!1},p.prototype.print_string=function(t){this._output.set_indent(this._indentLevel),this._output.non_breaking_space=!0,this._output.add_token(t)},p.prototype.preserveSingleSpace=function(t){t&&(this._output.space_before_token=!0)},p.prototype.indent=function(){this._indentLevel++},p.prototype.outdent=function(){this._indentLevel>0&&this._indentLevel--},p.prototype.beautify=function(){if(this._options.disabled)return this._source_text;var t=this._source_text,e=this._options.eol;"auto"===e&&(e="\n",t&&a.test(t||"")&&(e=t.match(a)[0]));var n=(t=t.replace(l,"\n")).match(/^[\t ]*/)[0];this._output=new i(this._options,n),this._input=new o(t),this._indentLevel=0,this._nestedLevel=0,this._ch=null;for(var r,p,d=0,g=!1,m=!1,_=!1,y=!1,v=!1,b=this._ch;r=""!==this._input.read(c),p=b,this._ch=this._input.next(),"\\"===this._ch&&this._input.hasNext()&&(this._ch+=this._input.next()),b=this._ch,this._ch;)if("/"===this._ch&&"*"===this._input.peek()){this._output.add_new_line(),this._input.back();var w=this._input.read(h),x=s.get_directives(w);x&&"start"===x.ignore&&(w+=s.readIgnored(this._input)),this.print_string(w),this.eatWhitespace(!0),this._output.add_new_line()}else if("/"===this._ch&&"/"===this._input.peek())this._output.space_before_token=!0,this._input.back(),this.print_string(this._input.read(f)),this.eatWhitespace(!0);else if("@"===this._ch)if(this.preserveSingleSpace(r),"{"===this._input.peek())this.print_string(this._ch+this.eatString("}"));else{this.print_string(this._ch);var k=this._input.peekUntilAfter(/[: ,;{}()[\]\/='"]/g);k.match(/[ :]$/)&&(k=this.eatString(": ").replace(/\s$/,""),this.print_string(k),this._output.space_before_token=!0),"extend"===(k=k.replace(/\s$/,""))?y=!0:"import"===k&&(v=!0),k in this.NESTED_AT_RULE?(this._nestedLevel+=1,k in this.CONDITIONAL_GROUP_RULE&&(_=!0)):g||0!==d||-1===k.indexOf(":")||(m=!0,this.indent())}else"#"===this._ch&&"{"===this._input.peek()?(this.preserveSingleSpace(r),this.print_string(this._ch+this.eatString("}"))):"{"===this._ch?(m&&(m=!1,this.outdent()),_?(_=!1,g=this._indentLevel>=this._nestedLevel):g=this._indentLevel>=this._nestedLevel-1,this._options.newline_between_rules&&g&&this._output.previous_line&&"{"!==this._output.previous_line.item(-1)&&this._output.ensure_empty_line_above("/",","),this._output.space_before_token=!0,"expand"===this._options.brace_style?(this._output.add_new_line(),this.print_string(this._ch),this.indent(),this._output.set_indent(this._indentLevel)):(this.indent(),this.print_string(this._ch)),this.eatWhitespace(!0),this._output.add_new_line()):"}"===this._ch?(this.outdent(),this._output.add_new_line(),"{"===p&&this._output.trim(!0),v=!1,y=!1,m&&(this.outdent(),m=!1),this.print_string(this._ch),g=!1,this._nestedLevel&&this._nestedLevel--,this.eatWhitespace(!0),this._output.add_new_line(),this._options.newline_between_rules&&!this._output.just_added_blankline()&&"}"!==this._input.peek()&&this._output.add_new_line(!0)):":"===this._ch?!g&&!_||this._input.lookBack("&")||this.foundNestedPseudoClass()||this._input.lookBack("(")||y||0!==d?(this._input.lookBack(" ")&&(this._output.space_before_token=!0),":"===this._input.peek()?(this._ch=this._input.next(),this.print_string("::")):this.print_string(":")):(this.print_string(":"),m||(m=!0,this._output.space_before_token=!0,this.eatWhitespace(!0),this.indent())):'"'===this._ch||"'"===this._ch?(this.preserveSingleSpace(r),this.print_string(this._ch+this.eatString(this._ch)),this.eatWhitespace(!0)):";"===this._ch?0===d?(m&&(this.outdent(),m=!1),y=!1,v=!1,this.print_string(this._ch),this.eatWhitespace(!0),"/"!==this._input.peek()&&this._output.add_new_line()):(this.print_string(this._ch),this.eatWhitespace(!0),this._output.space_before_token=!0):"("===this._ch?this._input.lookBack("url")?(this.print_string(this._ch),this.eatWhitespace(),d++,this.indent(),this._ch=this._input.next(),")"===this._ch||'"'===this._ch||"'"===this._ch?this._input.back():this._ch&&(this.print_string(this._ch+this.eatString(")")),d&&(d--,this.outdent()))):(this.preserveSingleSpace(r),this.print_string(this._ch),this.eatWhitespace(),d++,this.indent()):")"===this._ch?(d&&(d--,this.outdent()),this.print_string(this._ch)):","===this._ch?(this.print_string(this._ch),this.eatWhitespace(!0),!this._options.selector_separator_newline||m||0!==d||v||y?this._output.space_before_token=!0:this._output.add_new_line()):">"!==this._ch&&"+"!==this._ch&&"~"!==this._ch||m||0!==d?"]"===this._ch?this.print_string(this._ch):"["===this._ch?(this.preserveSingleSpace(r),this.print_string(this._ch)):"="===this._ch?(this.eatWhitespace(),this.print_string("="),u.test(this._ch)&&(this._ch="")):"!"!==this._ch||this._input.lookBack("\\")?(this.preserveSingleSpace(r),this.print_string(this._ch)):(this.print_string(" "),this.print_string(this._ch)):this._options.space_around_combinator?(this._output.space_before_token=!0,this.print_string(this._ch),this._output.space_before_token=!0):(this.print_string(this._ch),this.eatWhitespace(),this._ch&&u.test(this._ch)&&(this._ch=""));return this._output.get_code(e)},t.exports.Beautifier=p},function(t,e,n){var r=n(6).Options;function i(t){r.call(this,t,"css"),this.selector_separator_newline=this._get_boolean("selector_separator_newline",!0),this.newline_between_rules=this._get_boolean("newline_between_rules",!0);var e=this._get_boolean("space_around_selector_separator");this.space_around_combinator=this._get_boolean("space_around_combinator")||e;var n=this._get_selection_list("brace_style",["collapse","expand","end-expand","none","preserve-inline"]);this.brace_style="collapse";for(var i=0;i<n.length;i++)"expand"!==n[i]?this.brace_style="collapse":this.brace_style=n[i]}i.prototype=new r,t.exports.Options=i}],e={},n=function n(r){var i=e[r];if(void 0!==i)return i.exports;var o=e[r]={exports:{}};return t[r](o,o.exports,n),o.exports}(15);r=n}();var i=r;void 0===(n=function(){return{css_beautify:i}}.apply(e,[]))||(t.exports=n)}()},3566:(t,e,n)=>{var r,i;!function(){var o;!function(){"use strict";var t=[,,function(t){function e(t){this.__parent=t,this.__character_count=0,this.__indent_count=-1,this.__alignment_count=0,this.__wrap_point_index=0,this.__wrap_point_character_count=0,this.__wrap_point_indent_count=-1,this.__wrap_point_alignment_count=0,this.__items=[]}function n(t,e){this.__cache=[""],this.__indent_size=t.indent_size,this.__indent_string=t.indent_char,t.indent_with_tabs||(this.__indent_string=new Array(t.indent_size+1).join(t.indent_char)),e=e||"",t.indent_level>0&&(e=new Array(t.indent_level+1).join(this.__indent_string)),this.__base_string=e,this.__base_string_length=e.length}function r(t,r){this.__indent_cache=new n(t,r),this.raw=!1,this._end_with_newline=t.end_with_newline,this.indent_size=t.indent_size,this.wrap_line_length=t.wrap_line_length,this.indent_empty_lines=t.indent_empty_lines,this.__lines=[],this.previous_line=null,this.current_line=null,this.next_line=new e(this),this.space_before_token=!1,this.non_breaking_space=!1,this.previous_token_wrapped=!1,this.__add_outputline()}e.prototype.clone_empty=function(){var t=new e(this.__parent);return t.set_indent(this.__indent_count,this.__alignment_count),t},e.prototype.item=function(t){return t<0?this.__items[this.__items.length+t]:this.__items[t]},e.prototype.has_match=function(t){for(var e=this.__items.length-1;e>=0;e--)if(this.__items[e].match(t))return!0;return!1},e.prototype.set_indent=function(t,e){this.is_empty()&&(this.__indent_count=t||0,this.__alignment_count=e||0,this.__character_count=this.__parent.get_indent_size(this.__indent_count,this.__alignment_count))},e.prototype._set_wrap_point=function(){this.__parent.wrap_line_length&&(this.__wrap_point_index=this.__items.length,this.__wrap_point_character_count=this.__character_count,this.__wrap_point_indent_count=this.__parent.next_line.__indent_count,this.__wrap_point_alignment_count=this.__parent.next_line.__alignment_count)},e.prototype._should_wrap=function(){return this.__wrap_point_index&&this.__character_count>this.__parent.wrap_line_length&&this.__wrap_point_character_count>this.__parent.next_line.__character_count},e.prototype._allow_wrap=function(){if(this._should_wrap()){this.__parent.add_new_line();var t=this.__parent.current_line;return t.set_indent(this.__wrap_point_indent_count,this.__wrap_point_alignment_count),t.__items=this.__items.slice(this.__wrap_point_index),this.__items=this.__items.slice(0,this.__wrap_point_index),t.__character_count+=this.__character_count-this.__wrap_point_character_count,this.__character_count=this.__wrap_point_character_count," "===t.__items[0]&&(t.__items.splice(0,1),t.__character_count-=1),!0}return!1},e.prototype.is_empty=function(){return 0===this.__items.length},e.prototype.last=function(){return this.is_empty()?null:this.__items[this.__items.length-1]},e.prototype.push=function(t){this.__items.push(t);var e=t.lastIndexOf("\n");-1!==e?this.__character_count=t.length-e:this.__character_count+=t.length},e.prototype.pop=function(){var t=null;return this.is_empty()||(t=this.__items.pop(),this.__character_count-=t.length),t},e.prototype._remove_indent=function(){this.__indent_count>0&&(this.__indent_count-=1,this.__character_count-=this.__parent.indent_size)},e.prototype._remove_wrap_indent=function(){this.__wrap_point_indent_count>0&&(this.__wrap_point_indent_count-=1)},e.prototype.trim=function(){for(;" "===this.last();)this.__items.pop(),this.__character_count-=1},e.prototype.toString=function(){var t="";return this.is_empty()?this.__parent.indent_empty_lines&&(t=this.__parent.get_indent_string(this.__indent_count)):(t=this.__parent.get_indent_string(this.__indent_count,this.__alignment_count),t+=this.__items.join("")),t},n.prototype.get_indent_size=function(t,e){var n=this.__base_string_length;return e=e||0,t<0&&(n=0),(n+=t*this.__indent_size)+e},n.prototype.get_indent_string=function(t,e){var n=this.__base_string;return e=e||0,t<0&&(t=0,n=""),e+=t*this.__indent_size,this.__ensure_cache(e),n+this.__cache[e]},n.prototype.__ensure_cache=function(t){for(;t>=this.__cache.length;)this.__add_column()},n.prototype.__add_column=function(){var t=this.__cache.length,e=0,n="";this.__indent_size&&t>=this.__indent_size&&(t-=(e=Math.floor(t/this.__indent_size))*this.__indent_size,n=new Array(e+1).join(this.__indent_string)),t&&(n+=new Array(t+1).join(" ")),this.__cache.push(n)},r.prototype.__add_outputline=function(){this.previous_line=this.current_line,this.current_line=this.next_line.clone_empty(),this.__lines.push(this.current_line)},r.prototype.get_line_number=function(){return this.__lines.length},r.prototype.get_indent_string=function(t,e){return this.__indent_cache.get_indent_string(t,e)},r.prototype.get_indent_size=function(t,e){return this.__indent_cache.get_indent_size(t,e)},r.prototype.is_empty=function(){return!this.previous_line&&this.current_line.is_empty()},r.prototype.add_new_line=function(t){return!(this.is_empty()||!t&&this.just_added_newline()||(this.raw||this.__add_outputline(),0))},r.prototype.get_code=function(t){this.trim(!0);var e=this.current_line.pop();e&&("\n"===e[e.length-1]&&(e=e.replace(/\n+$/g,"")),this.current_line.push(e)),this._end_with_newline&&this.__add_outputline();var n=this.__lines.join("\n");return"\n"!==t&&(n=n.replace(/[\n]/g,t)),n},r.prototype.set_wrap_point=function(){this.current_line._set_wrap_point()},r.prototype.set_indent=function(t,e){return t=t||0,e=e||0,this.next_line.set_indent(t,e),this.__lines.length>1?(this.current_line.set_indent(t,e),!0):(this.current_line.set_indent(),!1)},r.prototype.add_raw_token=function(t){for(var e=0;e<t.newlines;e++)this.__add_outputline();this.current_line.set_indent(-1),this.current_line.push(t.whitespace_before),this.current_line.push(t.text),this.space_before_token=!1,this.non_breaking_space=!1,this.previous_token_wrapped=!1},r.prototype.add_token=function(t){this.__add_space_before_token(),this.current_line.push(t),this.space_before_token=!1,this.non_breaking_space=!1,this.previous_token_wrapped=this.current_line._allow_wrap()},r.prototype.__add_space_before_token=function(){this.space_before_token&&!this.just_added_newline()&&(this.non_breaking_space||this.set_wrap_point(),this.current_line.push(" "))},r.prototype.remove_indent=function(t){for(var e=this.__lines.length;t<e;)this.__lines[t]._remove_indent(),t++;this.current_line._remove_wrap_indent()},r.prototype.trim=function(t){for(t=void 0!==t&&t,this.current_line.trim();t&&this.__lines.length>1&&this.current_line.is_empty();)this.__lines.pop(),this.current_line=this.__lines[this.__lines.length-1],this.current_line.trim();this.previous_line=this.__lines.length>1?this.__lines[this.__lines.length-2]:null},r.prototype.just_added_newline=function(){return this.current_line.is_empty()},r.prototype.just_added_blankline=function(){return this.is_empty()||this.current_line.is_empty()&&this.previous_line.is_empty()},r.prototype.ensure_empty_line_above=function(t,n){for(var r=this.__lines.length-2;r>=0;){var i=this.__lines[r];if(i.is_empty())break;if(0!==i.item(0).indexOf(t)&&i.item(-1)!==n){this.__lines.splice(r+1,0,new e(this)),this.previous_line=this.__lines[this.__lines.length-2];break}r--}},t.exports.Output=r},function(t){t.exports.Token=function(t,e,n,r){this.type=t,this.text=e,this.comments_before=null,this.newlines=n||0,this.whitespace_before=r||"",this.parent=null,this.next=null,this.previous=null,this.opened=null,this.closed=null,this.directives=null}},,,function(t){function e(t,e){this.raw_options=n(t,e),this.disabled=this._get_boolean("disabled"),this.eol=this._get_characters("eol","auto"),this.end_with_newline=this._get_boolean("end_with_newline"),this.indent_size=this._get_number("indent_size",4),this.indent_char=this._get_characters("indent_char"," "),this.indent_level=this._get_number("indent_level"),this.preserve_newlines=this._get_boolean("preserve_newlines",!0),this.max_preserve_newlines=this._get_number("max_preserve_newlines",32786),this.preserve_newlines||(this.max_preserve_newlines=0),this.indent_with_tabs=this._get_boolean("indent_with_tabs","\t"===this.indent_char),this.indent_with_tabs&&(this.indent_char="\t",1===this.indent_size&&(this.indent_size=4)),this.wrap_line_length=this._get_number("wrap_line_length",this._get_number("max_char")),this.indent_empty_lines=this._get_boolean("indent_empty_lines"),this.templating=this._get_selection_list("templating",["auto","none","django","erb","handlebars","php","smarty"],["auto"])}function n(t,e){var n,i={};for(n in t=r(t))n!==e&&(i[n]=t[n]);if(e&&t[e])for(n in t[e])i[n]=t[e][n];return i}function r(t){var e,n={};for(e in t)n[e.replace(/-/g,"_")]=t[e];return n}e.prototype._get_array=function(t,e){var n=this.raw_options[t],r=e||[];return"object"==typeof n?null!==n&&"function"==typeof n.concat&&(r=n.concat()):"string"==typeof n&&(r=n.split(/[^a-zA-Z0-9_\/\-]+/)),r},e.prototype._get_boolean=function(t,e){var n=this.raw_options[t];return void 0===n?!!e:!!n},e.prototype._get_characters=function(t,e){var n=this.raw_options[t],r=e||"";return"string"==typeof n&&(r=n.replace(/\\r/,"\r").replace(/\\n/,"\n").replace(/\\t/,"\t")),r},e.prototype._get_number=function(t,e){var n=this.raw_options[t];e=parseInt(e,10),isNaN(e)&&(e=0);var r=parseInt(n,10);return isNaN(r)&&(r=e),r},e.prototype._get_selection=function(t,e,n){var r=this._get_selection_list(t,e,n);if(1!==r.length)throw new Error("Invalid Option Value: The option '"+t+"' can only be one of the following values:\n"+e+"\nYou passed in: '"+this.raw_options[t]+"'");return r[0]},e.prototype._get_selection_list=function(t,e,n){if(!e||0===e.length)throw new Error("Selection list cannot be empty.");if(n=n||[e[0]],!this._is_valid_selection(n,e))throw new Error("Invalid Default Value!");var r=this._get_array(t,n);if(!this._is_valid_selection(r,e))throw new Error("Invalid Option Value: The option '"+t+"' can contain only the following values:\n"+e+"\nYou passed in: '"+this.raw_options[t]+"'");return r},e.prototype._is_valid_selection=function(t,e){return t.length&&e.length&&!t.some((function(t){return-1===e.indexOf(t)}))},t.exports.Options=e,t.exports.normalizeOpts=r,t.exports.mergeOpts=n},,function(t){var e=RegExp.prototype.hasOwnProperty("sticky");function n(t){this.__input=t||"",this.__input_length=this.__input.length,this.__position=0}n.prototype.restart=function(){this.__position=0},n.prototype.back=function(){this.__position>0&&(this.__position-=1)},n.prototype.hasNext=function(){return this.__position<this.__input_length},n.prototype.next=function(){var t=null;return this.hasNext()&&(t=this.__input.charAt(this.__position),this.__position+=1),t},n.prototype.peek=function(t){var e=null;return t=t||0,(t+=this.__position)>=0&&t<this.__input_length&&(e=this.__input.charAt(t)),e},n.prototype.__match=function(t,n){t.lastIndex=n;var r=t.exec(this.__input);return!r||e&&t.sticky||r.index!==n&&(r=null),r},n.prototype.test=function(t,e){return e=e||0,(e+=this.__position)>=0&&e<this.__input_length&&!!this.__match(t,e)},n.prototype.testChar=function(t,e){var n=this.peek(e);return t.lastIndex=0,null!==n&&t.test(n)},n.prototype.match=function(t){var e=this.__match(t,this.__position);return e?this.__position+=e[0].length:e=null,e},n.prototype.read=function(t,e,n){var r,i="";return t&&(r=this.match(t))&&(i+=r[0]),!e||!r&&t||(i+=this.readUntil(e,n)),i},n.prototype.readUntil=function(t,e){var n,r=this.__position;t.lastIndex=this.__position;var i=t.exec(this.__input);return i?(r=i.index,e&&(r+=i[0].length)):r=this.__input_length,n=this.__input.substring(this.__position,r),this.__position=r,n},n.prototype.readUntilAfter=function(t){return this.readUntil(t,!0)},n.prototype.get_regexp=function(t,n){var r=null,i="g";return n&&e&&(i="y"),"string"==typeof t&&""!==t?r=new RegExp(t,i):t&&(r=new RegExp(t.source,i)),r},n.prototype.get_literal_regexp=function(t){return RegExp(t.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&"))},n.prototype.peekUntilAfter=function(t){var e=this.__position,n=this.readUntilAfter(t);return this.__position=e,n},n.prototype.lookBack=function(t){var e=this.__position-1;return e>=t.length&&this.__input.substring(e-t.length,e).toLowerCase()===t},t.exports.InputScanner=n},function(t,e,n){var r=n(8).InputScanner,i=n(3).Token,o=n(10).TokenStream,s=n(11).WhitespacePattern,a={START:"TK_START",RAW:"TK_RAW",EOF:"TK_EOF"},l=function(t,e){this._input=new r(t),this._options=e||{},this.__tokens=null,this._patterns={},this._patterns.whitespace=new s(this._input)};l.prototype.tokenize=function(){var t;this._input.restart(),this.__tokens=new o,this._reset();for(var e=new i(a.START,""),n=null,r=[],s=new o;e.type!==a.EOF;){for(t=this._get_next_token(e,n);this._is_comment(t);)s.add(t),t=this._get_next_token(e,n);s.isEmpty()||(t.comments_before=s,s=new o),t.parent=n,this._is_opening(t)?(r.push(n),n=t):n&&this._is_closing(t,n)&&(t.opened=n,n.closed=t,n=r.pop(),t.parent=n),t.previous=e,e.next=t,this.__tokens.add(t),e=t}return this.__tokens},l.prototype._is_first_token=function(){return this.__tokens.isEmpty()},l.prototype._reset=function(){},l.prototype._get_next_token=function(t,e){this._readWhitespace();var n=this._input.read(/.+/g);return n?this._create_token(a.RAW,n):this._create_token(a.EOF,"")},l.prototype._is_comment=function(t){return!1},l.prototype._is_opening=function(t){return!1},l.prototype._is_closing=function(t,e){return!1},l.prototype._create_token=function(t,e){return new i(t,e,this._patterns.whitespace.newline_count,this._patterns.whitespace.whitespace_before_token)},l.prototype._readWhitespace=function(){return this._patterns.whitespace.read()},t.exports.Tokenizer=l,t.exports.TOKEN=a},function(t){function e(t){this.__tokens=[],this.__tokens_length=this.__tokens.length,this.__position=0,this.__parent_token=t}e.prototype.restart=function(){this.__position=0},e.prototype.isEmpty=function(){return 0===this.__tokens_length},e.prototype.hasNext=function(){return this.__position<this.__tokens_length},e.prototype.next=function(){var t=null;return this.hasNext()&&(t=this.__tokens[this.__position],this.__position+=1),t},e.prototype.peek=function(t){var e=null;return t=t||0,(t+=this.__position)>=0&&t<this.__tokens_length&&(e=this.__tokens[t]),e},e.prototype.add=function(t){this.__parent_token&&(t.parent=this.__parent_token),this.__tokens.push(t),this.__tokens_length+=1},t.exports.TokenStream=e},function(t,e,n){var r=n(12).Pattern;function i(t,e){r.call(this,t,e),e?this._line_regexp=this._input.get_regexp(e._line_regexp):this.__set_whitespace_patterns("",""),this.newline_count=0,this.whitespace_before_token=""}i.prototype=new r,i.prototype.__set_whitespace_patterns=function(t,e){t+="\\t ",e+="\\n\\r",this._match_pattern=this._input.get_regexp("["+t+e+"]+",!0),this._newline_regexp=this._input.get_regexp("\\r\\n|["+e+"]")},i.prototype.read=function(){this.newline_count=0,this.whitespace_before_token="";var t=this._input.read(this._match_pattern);if(" "===t)this.whitespace_before_token=" ";else if(t){var e=this.__split(this._newline_regexp,t);this.newline_count=e.length-1,this.whitespace_before_token=e[this.newline_count]}return t},i.prototype.matching=function(t,e){var n=this._create();return n.__set_whitespace_patterns(t,e),n._update(),n},i.prototype._create=function(){return new i(this._input,this)},i.prototype.__split=function(t,e){t.lastIndex=0;for(var n=0,r=[],i=t.exec(e);i;)r.push(e.substring(n,i.index)),n=i.index+i[0].length,i=t.exec(e);return n<e.length?r.push(e.substring(n,e.length)):r.push(""),r},t.exports.WhitespacePattern=i},function(t){function e(t,e){this._input=t,this._starting_pattern=null,this._match_pattern=null,this._until_pattern=null,this._until_after=!1,e&&(this._starting_pattern=this._input.get_regexp(e._starting_pattern,!0),this._match_pattern=this._input.get_regexp(e._match_pattern,!0),this._until_pattern=this._input.get_regexp(e._until_pattern),this._until_after=e._until_after)}e.prototype.read=function(){var t=this._input.read(this._starting_pattern);return this._starting_pattern&&!t||(t+=this._input.read(this._match_pattern,this._until_pattern,this._until_after)),t},e.prototype.read_match=function(){return this._input.match(this._match_pattern)},e.prototype.until_after=function(t){var e=this._create();return e._until_after=!0,e._until_pattern=this._input.get_regexp(t),e._update(),e},e.prototype.until=function(t){var e=this._create();return e._until_after=!1,e._until_pattern=this._input.get_regexp(t),e._update(),e},e.prototype.starting_with=function(t){var e=this._create();return e._starting_pattern=this._input.get_regexp(t,!0),e._update(),e},e.prototype.matching=function(t){var e=this._create();return e._match_pattern=this._input.get_regexp(t,!0),e._update(),e},e.prototype._create=function(){return new e(this._input,this)},e.prototype._update=function(){},t.exports.Pattern=e},function(t){function e(t,e){t="string"==typeof t?t:t.source,e="string"==typeof e?e:e.source,this.__directives_block_pattern=new RegExp(t+/ beautify( \w+[:]\w+)+ /.source+e,"g"),this.__directive_pattern=/ (\w+)[:](\w+)/g,this.__directives_end_ignore_pattern=new RegExp(t+/\sbeautify\signore:end\s/.source+e,"g")}e.prototype.get_directives=function(t){if(!t.match(this.__directives_block_pattern))return null;var e={};this.__directive_pattern.lastIndex=0;for(var n=this.__directive_pattern.exec(t);n;)e[n[1]]=n[2],n=this.__directive_pattern.exec(t);return e},e.prototype.readIgnored=function(t){return t.readUntilAfter(this.__directives_end_ignore_pattern)},t.exports.Directives=e},function(t,e,n){var r=n(12).Pattern,i={django:!1,erb:!1,handlebars:!1,php:!1,smarty:!1};function o(t,e){r.call(this,t,e),this.__template_pattern=null,this._disabled=Object.assign({},i),this._excluded=Object.assign({},i),e&&(this.__template_pattern=this._input.get_regexp(e.__template_pattern),this._excluded=Object.assign(this._excluded,e._excluded),this._disabled=Object.assign(this._disabled,e._disabled));var n=new r(t);this.__patterns={handlebars_comment:n.starting_with(/{{!--/).until_after(/--}}/),handlebars_unescaped:n.starting_with(/{{{/).until_after(/}}}/),handlebars:n.starting_with(/{{/).until_after(/}}/),php:n.starting_with(/<\?(?:[= ]|php)/).until_after(/\?>/),erb:n.starting_with(/<%[^%]/).until_after(/[^%]%>/),django:n.starting_with(/{%/).until_after(/%}/),django_value:n.starting_with(/{{/).until_after(/}}/),django_comment:n.starting_with(/{#/).until_after(/#}/),smarty:n.starting_with(/{(?=[^}{\s\n])/).until_after(/[^\s\n]}/),smarty_comment:n.starting_with(/{\*/).until_after(/\*}/),smarty_literal:n.starting_with(/{literal}/).until_after(/{\/literal}/)}}o.prototype=new r,o.prototype._create=function(){return new o(this._input,this)},o.prototype._update=function(){this.__set_templated_pattern()},o.prototype.disable=function(t){var e=this._create();return e._disabled[t]=!0,e._update(),e},o.prototype.read_options=function(t){var e=this._create();for(var n in i)e._disabled[n]=-1===t.templating.indexOf(n);return e._update(),e},o.prototype.exclude=function(t){var e=this._create();return e._excluded[t]=!0,e._update(),e},o.prototype.read=function(){var t="";t=this._match_pattern?this._input.read(this._starting_pattern):this._input.read(this._starting_pattern,this.__template_pattern);for(var e=this._read_template();e;)this._match_pattern?e+=this._input.read(this._match_pattern):e+=this._input.readUntil(this.__template_pattern),t+=e,e=this._read_template();return this._until_after&&(t+=this._input.readUntilAfter(this._until_pattern)),t},o.prototype.__set_templated_pattern=function(){var t=[];this._disabled.php||t.push(this.__patterns.php._starting_pattern.source),this._disabled.handlebars||t.push(this.__patterns.handlebars._starting_pattern.source),this._disabled.erb||t.push(this.__patterns.erb._starting_pattern.source),this._disabled.django||(t.push(this.__patterns.django._starting_pattern.source),t.push(this.__patterns.django_value._starting_pattern.source),t.push(this.__patterns.django_comment._starting_pattern.source)),this._disabled.smarty||t.push(this.__patterns.smarty._starting_pattern.source),this._until_pattern&&t.push(this._until_pattern.source),this.__template_pattern=this._input.get_regexp("(?:"+t.join("|")+")")},o.prototype._read_template=function(){var t="",e=this._input.peek();if("<"===e){var n=this._input.peek(1);this._disabled.php||this._excluded.php||"?"!==n||(t=t||this.__patterns.php.read()),this._disabled.erb||this._excluded.erb||"%"!==n||(t=t||this.__patterns.erb.read())}else"{"===e&&(this._disabled.handlebars||this._excluded.handlebars||(t=(t=(t=t||this.__patterns.handlebars_comment.read())||this.__patterns.handlebars_unescaped.read())||this.__patterns.handlebars.read()),this._disabled.django||(this._excluded.django||this._excluded.handlebars||(t=t||this.__patterns.django_value.read()),this._excluded.django||(t=(t=t||this.__patterns.django_comment.read())||this.__patterns.django.read())),this._disabled.smarty||this._disabled.django&&this._disabled.handlebars&&(t=(t=(t=t||this.__patterns.smarty_comment.read())||this.__patterns.smarty_literal.read())||this.__patterns.smarty.read()));return t},t.exports.TemplatablePattern=o},,,,function(t,e,n){var r=n(19).Beautifier,i=n(20).Options;t.exports=function(t,e,n,i){return new r(t,e,n,i).beautify()},t.exports.defaultOptions=function(){return new i}},function(t,e,n){var r=n(20).Options,i=n(2).Output,o=n(21).Tokenizer,s=n(21).TOKEN,a=/\r\n|[\r\n]/,l=/\r\n|[\r\n]/g,u=function(t,e){this.indent_level=0,this.alignment_size=0,this.max_preserve_newlines=t.max_preserve_newlines,this.preserve_newlines=t.preserve_newlines,this._output=new i(t,e)};u.prototype.current_line_has_match=function(t){return this._output.current_line.has_match(t)},u.prototype.set_space_before_token=function(t,e){this._output.space_before_token=t,this._output.non_breaking_space=e},u.prototype.set_wrap_point=function(){this._output.set_indent(this.indent_level,this.alignment_size),this._output.set_wrap_point()},u.prototype.add_raw_token=function(t){this._output.add_raw_token(t)},u.prototype.print_preserved_newlines=function(t){var e=0;t.type!==s.TEXT&&t.previous.type!==s.TEXT&&(e=t.newlines?1:0),this.preserve_newlines&&(e=t.newlines<this.max_preserve_newlines+1?t.newlines:this.max_preserve_newlines+1);for(var n=0;n<e;n++)this.print_newline(n>0);return 0!==e},u.prototype.traverse_whitespace=function(t){return!(!t.whitespace_before&&!t.newlines||(this.print_preserved_newlines(t)||(this._output.space_before_token=!0),0))},u.prototype.previous_token_wrapped=function(){return this._output.previous_token_wrapped},u.prototype.print_newline=function(t){this._output.add_new_line(t)},u.prototype.print_token=function(t){t.text&&(this._output.set_indent(this.indent_level,this.alignment_size),this._output.add_token(t.text))},u.prototype.indent=function(){this.indent_level++},u.prototype.get_full_indent=function(t){return(t=this.indent_level+(t||0))<1?"":this._output.get_indent_string(t)};function c(t,e){return-1!==e.indexOf(t)}function h(t,e,n){this.parent=t||null,this.tag=e?e.tag_name:"",this.indent_level=n||0,this.parser_token=e||null}function f(t){this._printer=t,this._current_frame=null}function p(t,e,n,i){this._source_text=t||"",e=e||{},this._js_beautify=n,this._css_beautify=i,this._tag_stack=null;var o=new r(e,"html");this._options=o,this._is_wrap_attributes_force="force"===this._options.wrap_attributes.substr(0,"force".length),this._is_wrap_attributes_force_expand_multiline="force-expand-multiline"===this._options.wrap_attributes,this._is_wrap_attributes_force_aligned="force-aligned"===this._options.wrap_attributes,this._is_wrap_attributes_aligned_multiple="aligned-multiple"===this._options.wrap_attributes,this._is_wrap_attributes_preserve="preserve"===this._options.wrap_attributes.substr(0,"preserve".length),this._is_wrap_attributes_preserve_aligned="preserve-aligned"===this._options.wrap_attributes}f.prototype.get_parser_token=function(){return this._current_frame?this._current_frame.parser_token:null},f.prototype.record_tag=function(t){var e=new h(this._current_frame,t,this._printer.indent_level);this._current_frame=e},f.prototype._try_pop_frame=function(t){var e=null;return t&&(e=t.parser_token,this._printer.indent_level=t.indent_level,this._current_frame=t.parent),e},f.prototype._get_frame=function(t,e){for(var n=this._current_frame;n&&-1===t.indexOf(n.tag);){if(e&&-1!==e.indexOf(n.tag)){n=null;break}n=n.parent}return n},f.prototype.try_pop=function(t,e){var n=this._get_frame([t],e);return this._try_pop_frame(n)},f.prototype.indent_to_tag=function(t){var e=this._get_frame(t);e&&(this._printer.indent_level=e.indent_level)},p.prototype.beautify=function(){if(this._options.disabled)return this._source_text;var t=this._source_text,e=this._options.eol;"auto"===this._options.eol&&(e="\n",t&&a.test(t)&&(e=t.match(a)[0]));var n=(t=t.replace(l,"\n")).match(/^[\t ]*/)[0],r={text:"",type:""},i=new d,c=new u(this._options,n),h=new o(t,this._options).tokenize();this._tag_stack=new f(c);for(var p=null,g=h.next();g.type!==s.EOF;)g.type===s.TAG_OPEN||g.type===s.COMMENT?i=p=this._handle_tag_open(c,g,i,r):g.type===s.ATTRIBUTE||g.type===s.EQUALS||g.type===s.VALUE||g.type===s.TEXT&&!i.tag_complete?p=this._handle_inside_tag(c,g,i,h):g.type===s.TAG_CLOSE?p=this._handle_tag_close(c,g,i):g.type===s.TEXT?p=this._handle_text(c,g,i):c.add_raw_token(g),r=p,g=h.next();return c._output.get_code(e)},p.prototype._handle_tag_close=function(t,e,n){var r={text:e.text,type:e.type};return t.alignment_size=0,n.tag_complete=!0,t.set_space_before_token(e.newlines||""!==e.whitespace_before,!0),n.is_unformatted?t.add_raw_token(e):("<"===n.tag_start_char&&(t.set_space_before_token("/"===e.text[0],!0),this._is_wrap_attributes_force_expand_multiline&&n.has_wrapped_attrs&&t.print_newline(!1)),t.print_token(e)),!n.indent_content||n.is_unformatted||n.is_content_unformatted||(t.indent(),n.indent_content=!1),n.is_inline_element||n.is_unformatted||n.is_content_unformatted||t.set_wrap_point(),r},p.prototype._handle_inside_tag=function(t,e,n,r){var i=n.has_wrapped_attrs,o={text:e.text,type:e.type};if(t.set_space_before_token(e.newlines||""!==e.whitespace_before,!0),n.is_unformatted)t.add_raw_token(e);else if("{"===n.tag_start_char&&e.type===s.TEXT)t.print_preserved_newlines(e)?(e.newlines=0,t.add_raw_token(e)):t.print_token(e);else{if(e.type===s.ATTRIBUTE?(t.set_space_before_token(!0),n.attr_count+=1):(e.type===s.EQUALS||e.type===s.VALUE&&e.previous.type===s.EQUALS)&&t.set_space_before_token(!1),e.type===s.ATTRIBUTE&&"<"===n.tag_start_char&&((this._is_wrap_attributes_preserve||this._is_wrap_attributes_preserve_aligned)&&(t.traverse_whitespace(e),i=i||0!==e.newlines),this._is_wrap_attributes_force)){var a=n.attr_count>1;if(this._is_wrap_attributes_force_expand_multiline&&1===n.attr_count){var l,u=!0,c=0;do{if((l=r.peek(c)).type===s.ATTRIBUTE){u=!1;break}c+=1}while(c<4&&l.type!==s.EOF&&l.type!==s.TAG_CLOSE);a=!u}a&&(t.print_newline(!1),i=!0)}t.print_token(e),i=i||t.previous_token_wrapped(),n.has_wrapped_attrs=i}return o},p.prototype._handle_text=function(t,e,n){var r={text:e.text,type:"TK_CONTENT"};return n.custom_beautifier_name?this._print_custom_beatifier_text(t,e,n):n.is_unformatted||n.is_content_unformatted?t.add_raw_token(e):(t.traverse_whitespace(e),t.print_token(e)),r},p.prototype._print_custom_beatifier_text=function(t,e,n){var r=this;if(""!==e.text){var i,o=e.text,s=1,a="",l="";"javascript"===n.custom_beautifier_name&&"function"==typeof this._js_beautify?i=this._js_beautify:"css"===n.custom_beautifier_name&&"function"==typeof this._css_beautify?i=this._css_beautify:"html"===n.custom_beautifier_name&&(i=function(t,e){return new p(t,e,r._js_beautify,r._css_beautify).beautify()}),"keep"===this._options.indent_scripts?s=0:"separate"===this._options.indent_scripts&&(s=-t.indent_level);var u=t.get_full_indent(s);if(o=o.replace(/\n[ \t]*$/,""),"html"!==n.custom_beautifier_name&&"<"===o[0]&&o.match(/^(<!--|<!\[CDATA\[)/)){var c=/^(<!--[^\n]*|<!\[CDATA\[)(\n?)([ \t\n]*)([\s\S]*)(-->|]]>)$/.exec(o);if(!c)return void t.add_raw_token(e);a=u+c[1]+"\n",o=c[4],c[5]&&(l=u+c[5]),o=o.replace(/\n[ \t]*$/,""),(c[2]||-1!==c[3].indexOf("\n"))&&(c=c[3].match(/[ \t]+$/))&&(e.whitespace_before=c[0])}if(o)if(i){var h=function(){this.eol="\n"};h.prototype=this._options.raw_options,o=i(u+o,new h)}else{var f=e.whitespace_before;f&&(o=o.replace(new RegExp("\n("+f+")?","g"),"\n")),o=u+o.replace(/\n/g,"\n"+u)}a&&(o=o?a+o+"\n"+l:a+l),t.print_newline(!1),o&&(e.text=o,e.whitespace_before="",e.newlines=0,t.add_raw_token(e),t.print_newline(!0))}},p.prototype._handle_tag_open=function(t,e,n,r){var i=this._get_tag_open_token(e);return!n.is_unformatted&&!n.is_content_unformatted||n.is_empty_element||e.type!==s.TAG_OPEN||0!==e.text.indexOf("</")?(t.traverse_whitespace(e),this._set_tag_position(t,e,i,n,r),i.is_inline_element||t.set_wrap_point(),t.print_token(e)):(t.add_raw_token(e),i.start_tag_token=this._tag_stack.try_pop(i.tag_name)),(this._is_wrap_attributes_force_aligned||this._is_wrap_attributes_aligned_multiple||this._is_wrap_attributes_preserve_aligned)&&(i.alignment_size=e.text.length+1),i.tag_complete||i.is_unformatted||(t.alignment_size=i.alignment_size),i};var d=function(t,e){var n;this.parent=t||null,this.text="",this.type="TK_TAG_OPEN",this.tag_name="",this.is_inline_element=!1,this.is_unformatted=!1,this.is_content_unformatted=!1,this.is_empty_element=!1,this.is_start_tag=!1,this.is_end_tag=!1,this.indent_content=!1,this.multiline_content=!1,this.custom_beautifier_name=null,this.start_tag_token=null,this.attr_count=0,this.has_wrapped_attrs=!1,this.alignment_size=0,this.tag_complete=!1,this.tag_start_char="",this.tag_check="",e?(this.tag_start_char=e.text[0],this.text=e.text,"<"===this.tag_start_char?(n=e.text.match(/^<([^\s>]*)/),this.tag_check=n?n[1]:""):(n=e.text.match(/^{{(?:[\^]|#\*?)?([^\s}]+)/),this.tag_check=n?n[1]:"","{{#>"===e.text&&">"===this.tag_check&&null!==e.next&&(this.tag_check=e.next.text)),this.tag_check=this.tag_check.toLowerCase(),e.type===s.COMMENT&&(this.tag_complete=!0),this.is_start_tag="/"!==this.tag_check.charAt(0),this.tag_name=this.is_start_tag?this.tag_check:this.tag_check.substr(1),this.is_end_tag=!this.is_start_tag||e.closed&&"/>"===e.closed.text,this.is_end_tag=this.is_end_tag||"{"===this.tag_start_char&&(this.text.length<3||/[^#\^]/.test(this.text.charAt(2)))):this.tag_complete=!0};p.prototype._get_tag_open_token=function(t){var e=new d(this._tag_stack.get_parser_token(),t);return e.alignment_size=this._options.wrap_attributes_indent_size,e.is_end_tag=e.is_end_tag||c(e.tag_check,this._options.void_elements),e.is_empty_element=e.tag_complete||e.is_start_tag&&e.is_end_tag,e.is_unformatted=!e.tag_complete&&c(e.tag_check,this._options.unformatted),e.is_content_unformatted=!e.is_empty_element&&c(e.tag_check,this._options.content_unformatted),e.is_inline_element=c(e.tag_name,this._options.inline)||"{"===e.tag_start_char,e},p.prototype._set_tag_position=function(t,e,n,r,i){if(n.is_empty_element||(n.is_end_tag?n.start_tag_token=this._tag_stack.try_pop(n.tag_name):(this._do_optional_end_element(n)&&(n.is_inline_element||t.print_newline(!1)),this._tag_stack.record_tag(n),"script"!==n.tag_name&&"style"!==n.tag_name||n.is_unformatted||n.is_content_unformatted||(n.custom_beautifier_name=function(t,e){var n=null,r=null;return e.closed?("script"===t?n="text/javascript":"style"===t&&(n="text/css"),n=function(t){for(var e=null,n=t.next;n.type!==s.EOF&&t.closed!==n;){if(n.type===s.ATTRIBUTE&&"type"===n.text){n.next&&n.next.type===s.EQUALS&&n.next.next&&n.next.next.type===s.VALUE&&(e=n.next.next.text);break}n=n.next}return e}(e)||n,n.search("text/css")>-1?r="css":n.search(/module|((text|application|dojo)\/(x-)?(javascript|ecmascript|jscript|livescript|(ld\+)?json|method|aspect))/)>-1?r="javascript":n.search(/(text|application|dojo)\/(x-)?(html)/)>-1?r="html":n.search(/test\/null/)>-1&&(r="null"),r):null}(n.tag_check,e)))),c(n.tag_check,this._options.extra_liners)&&(t.print_newline(!1),t._output.just_added_blankline()||t.print_newline(!0)),n.is_empty_element)"{"===n.tag_start_char&&"else"===n.tag_check&&(this._tag_stack.indent_to_tag(["if","unless","each"]),n.indent_content=!0,t.current_line_has_match(/{{#if/)||t.print_newline(!1)),"!--"===n.tag_name&&i.type===s.TAG_CLOSE&&r.is_end_tag&&-1===n.text.indexOf("\n")||(n.is_inline_element||n.is_unformatted||t.print_newline(!1),this._calcluate_parent_multiline(t,n));else if(n.is_end_tag){var o=!1;o=(o=n.start_tag_token&&n.start_tag_token.multiline_content)||!n.is_inline_element&&!(r.is_inline_element||r.is_unformatted)&&!(i.type===s.TAG_CLOSE&&n.start_tag_token===r)&&"TK_CONTENT"!==i.type,(n.is_content_unformatted||n.is_unformatted)&&(o=!1),o&&t.print_newline(!1)}else n.indent_content=!n.custom_beautifier_name,"<"===n.tag_start_char&&("html"===n.tag_name?n.indent_content=this._options.indent_inner_html:"head"===n.tag_name?n.indent_content=this._options.indent_head_inner_html:"body"===n.tag_name&&(n.indent_content=this._options.indent_body_inner_html)),n.is_inline_element||n.is_unformatted||"TK_CONTENT"===i.type&&!n.is_content_unformatted||t.print_newline(!1),this._calcluate_parent_multiline(t,n)},p.prototype._calcluate_parent_multiline=function(t,e){!e.parent||!t._output.just_added_newline()||(e.is_inline_element||e.is_unformatted)&&e.parent.is_inline_element||(e.parent.multiline_content=!0)};var g=["address","article","aside","blockquote","details","div","dl","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hr","main","nav","ol","p","pre","section","table","ul"],m=["a","audio","del","ins","map","noscript","video"];p.prototype._do_optional_end_element=function(t){var e=null;if(!t.is_empty_element&&t.is_start_tag&&t.parent){if("body"===t.tag_name)e=e||this._tag_stack.try_pop("head");else if("li"===t.tag_name)e=e||this._tag_stack.try_pop("li",["ol","ul"]);else if("dd"===t.tag_name||"dt"===t.tag_name)e=(e=e||this._tag_stack.try_pop("dt",["dl"]))||this._tag_stack.try_pop("dd",["dl"]);else if("p"===t.parent.tag_name&&-1!==g.indexOf(t.tag_name)){var n=t.parent.parent;n&&-1!==m.indexOf(n.tag_name)||(e=e||this._tag_stack.try_pop("p"))}else"rp"===t.tag_name||"rt"===t.tag_name?e=(e=e||this._tag_stack.try_pop("rt",["ruby","rtc"]))||this._tag_stack.try_pop("rp",["ruby","rtc"]):"optgroup"===t.tag_name?e=e||this._tag_stack.try_pop("optgroup",["select"]):"option"===t.tag_name?e=e||this._tag_stack.try_pop("option",["select","datalist","optgroup"]):"colgroup"===t.tag_name?e=e||this._tag_stack.try_pop("caption",["table"]):"thead"===t.tag_name?e=(e=e||this._tag_stack.try_pop("caption",["table"]))||this._tag_stack.try_pop("colgroup",["table"]):"tbody"===t.tag_name||"tfoot"===t.tag_name?e=(e=(e=(e=e||this._tag_stack.try_pop("caption",["table"]))||this._tag_stack.try_pop("colgroup",["table"]))||this._tag_stack.try_pop("thead",["table"]))||this._tag_stack.try_pop("tbody",["table"]):"tr"===t.tag_name?e=(e=(e=e||this._tag_stack.try_pop("caption",["table"]))||this._tag_stack.try_pop("colgroup",["table"]))||this._tag_stack.try_pop("tr",["table","thead","tbody","tfoot"]):"th"!==t.tag_name&&"td"!==t.tag_name||(e=(e=e||this._tag_stack.try_pop("td",["table","thead","tbody","tfoot","tr"]))||this._tag_stack.try_pop("th",["table","thead","tbody","tfoot","tr"]));return t.parent=this._tag_stack.get_parser_token(),e}},t.exports.Beautifier=p},function(t,e,n){var r=n(6).Options;function i(t){r.call(this,t,"html"),1===this.templating.length&&"auto"===this.templating[0]&&(this.templating=["django","erb","handlebars","php"]),this.indent_inner_html=this._get_boolean("indent_inner_html"),this.indent_body_inner_html=this._get_boolean("indent_body_inner_html",!0),this.indent_head_inner_html=this._get_boolean("indent_head_inner_html",!0),this.indent_handlebars=this._get_boolean("indent_handlebars",!0),this.wrap_attributes=this._get_selection("wrap_attributes",["auto","force","force-aligned","force-expand-multiline","aligned-multiple","preserve","preserve-aligned"]),this.wrap_attributes_indent_size=this._get_number("wrap_attributes_indent_size",this.indent_size),this.extra_liners=this._get_array("extra_liners",["head","body","/html"]),this.inline=this._get_array("inline",["a","abbr","area","audio","b","bdi","bdo","br","button","canvas","cite","code","data","datalist","del","dfn","em","embed","i","iframe","img","input","ins","kbd","keygen","label","map","mark","math","meter","noscript","object","output","progress","q","ruby","s","samp","select","small","span","strong","sub","sup","svg","template","textarea","time","u","var","video","wbr","text","acronym","big","strike","tt"]),this.void_elements=this._get_array("void_elements",["area","base","br","col","embed","hr","img","input","keygen","link","menuitem","meta","param","source","track","wbr","!doctype","?xml","basefont","isindex"]),this.unformatted=this._get_array("unformatted",[]),this.content_unformatted=this._get_array("content_unformatted",["pre","textarea"]),this.unformatted_content_delimiter=this._get_characters("unformatted_content_delimiter"),this.indent_scripts=this._get_selection("indent_scripts",["normal","keep","separate"])}i.prototype=new r,t.exports.Options=i},function(t,e,n){var r=n(9).Tokenizer,i=n(9).TOKEN,o=n(13).Directives,s=n(14).TemplatablePattern,a=n(12).Pattern,l={TAG_OPEN:"TK_TAG_OPEN",TAG_CLOSE:"TK_TAG_CLOSE",ATTRIBUTE:"TK_ATTRIBUTE",EQUALS:"TK_EQUALS",VALUE:"TK_VALUE",COMMENT:"TK_COMMENT",TEXT:"TK_TEXT",UNKNOWN:"TK_UNKNOWN",START:i.START,RAW:i.RAW,EOF:i.EOF},u=new o(/<\!--/,/-->/),c=function(t,e){r.call(this,t,e),this._current_tag_name="";var n=new s(this._input).read_options(this._options),i=new a(this._input);if(this.__patterns={word:n.until(/[\n\r\t <]/),single_quote:n.until_after(/'/),double_quote:n.until_after(/"/),attribute:n.until(/[\n\r\t =>]|\/>/),element_name:n.until(/[\n\r\t >\/]/),handlebars_comment:i.starting_with(/{{!--/).until_after(/--}}/),handlebars:i.starting_with(/{{/).until_after(/}}/),handlebars_open:i.until(/[\n\r\t }]/),handlebars_raw_close:i.until(/}}/),comment:i.starting_with(/<!--/).until_after(/-->/),cdata:i.starting_with(/<!\[CDATA\[/).until_after(/]]>/),conditional_comment:i.starting_with(/<!\[/).until_after(/]>/),processing:i.starting_with(/<\?/).until_after(/\?>/)},this._options.indent_handlebars&&(this.__patterns.word=this.__patterns.word.exclude("handlebars")),this._unformatted_content_delimiter=null,this._options.unformatted_content_delimiter){var o=this._input.get_literal_regexp(this._options.unformatted_content_delimiter);this.__patterns.unformatted_content_delimiter=i.matching(o).until_after(o)}};(c.prototype=new r)._is_comment=function(t){return!1},c.prototype._is_opening=function(t){return t.type===l.TAG_OPEN},c.prototype._is_closing=function(t,e){return t.type===l.TAG_CLOSE&&e&&((">"===t.text||"/>"===t.text)&&"<"===e.text[0]||"}}"===t.text&&"{"===e.text[0]&&"{"===e.text[1])},c.prototype._reset=function(){this._current_tag_name=""},c.prototype._get_next_token=function(t,e){var n=null;this._readWhitespace();var r=this._input.peek();return null===r?this._create_token(l.EOF,""):n=(n=(n=(n=(n=(n=(n=(n=(n=n||this._read_open_handlebars(r,e))||this._read_attribute(r,t,e))||this._read_close(r,e))||this._read_raw_content(r,t,e))||this._read_content_word(r))||this._read_comment_or_cdata(r))||this._read_processing(r))||this._read_open(r,e))||this._create_token(l.UNKNOWN,this._input.next())},c.prototype._read_comment_or_cdata=function(t){var e=null,n=null,r=null;return"<"===t&&("!"===this._input.peek(1)&&((n=this.__patterns.comment.read())?(r=u.get_directives(n))&&"start"===r.ignore&&(n+=u.readIgnored(this._input)):n=this.__patterns.cdata.read()),n&&((e=this._create_token(l.COMMENT,n)).directives=r)),e},c.prototype._read_processing=function(t){var e=null,n=null;if("<"===t){var r=this._input.peek(1);"!"!==r&&"?"!==r||(n=(n=this.__patterns.conditional_comment.read())||this.__patterns.processing.read()),n&&((e=this._create_token(l.COMMENT,n)).directives=null)}return e},c.prototype._read_open=function(t,e){var n=null,r=null;return e||"<"===t&&(n=this._input.next(),"/"===this._input.peek()&&(n+=this._input.next()),n+=this.__patterns.element_name.read(),r=this._create_token(l.TAG_OPEN,n)),r},c.prototype._read_open_handlebars=function(t,e){var n=null,r=null;return e||this._options.indent_handlebars&&"{"===t&&"{"===this._input.peek(1)&&("!"===this._input.peek(2)?(n=(n=this.__patterns.handlebars_comment.read())||this.__patterns.handlebars.read(),r=this._create_token(l.COMMENT,n)):(n=this.__patterns.handlebars_open.read(),r=this._create_token(l.TAG_OPEN,n))),r},c.prototype._read_close=function(t,e){var n=null,r=null;return e&&("<"===e.text[0]&&(">"===t||"/"===t&&">"===this._input.peek(1))?(n=this._input.next(),"/"===t&&(n+=this._input.next()),r=this._create_token(l.TAG_CLOSE,n)):"{"===e.text[0]&&"}"===t&&"}"===this._input.peek(1)&&(this._input.next(),this._input.next(),r=this._create_token(l.TAG_CLOSE,"}}"))),r},c.prototype._read_attribute=function(t,e,n){var r=null,i="";if(n&&"<"===n.text[0])if("="===t)r=this._create_token(l.EQUALS,this._input.next());else if('"'===t||"'"===t){var o=this._input.next();o+='"'===t?this.__patterns.double_quote.read():this.__patterns.single_quote.read(),r=this._create_token(l.VALUE,o)}else(i=this.__patterns.attribute.read())&&(r=e.type===l.EQUALS?this._create_token(l.VALUE,i):this._create_token(l.ATTRIBUTE,i));return r},c.prototype._is_content_unformatted=function(t){return-1===this._options.void_elements.indexOf(t)&&(-1!==this._options.content_unformatted.indexOf(t)||-1!==this._options.unformatted.indexOf(t))},c.prototype._read_raw_content=function(t,e,n){var r="";if(n&&"{"===n.text[0])r=this.__patterns.handlebars_raw_close.read();else if(e.type===l.TAG_CLOSE&&"<"===e.opened.text[0]&&"/"!==e.text[0]){var i=e.opened.text.substr(1).toLowerCase();if("script"===i||"style"===i){var o=this._read_comment_or_cdata(t);if(o)return o.type=l.TEXT,o;r=this._input.readUntil(new RegExp("</"+i+"[\\n\\r\\t ]*?>","ig"))}else this._is_content_unformatted(i)&&(r=this._input.readUntil(new RegExp("</"+i+"[\\n\\r\\t ]*?>","ig")))}return r?this._create_token(l.TEXT,r):null},c.prototype._read_content_word=function(t){var e="";if(this._options.unformatted_content_delimiter&&t===this._options.unformatted_content_delimiter[0]&&(e=this.__patterns.unformatted_content_delimiter.read()),e||(e=this.__patterns.word.read()),e)return this._create_token(l.TEXT,e)},t.exports.Tokenizer=c,t.exports.TOKEN=l}],e={},n=function n(r){var i=e[r];if(void 0!==i)return i.exports;var o=e[r]={exports:{}};return t[r](o,o.exports,n),o.exports}(18);o=n}();var s=o;r=[n,n(7937),n(5040)],void 0===(i=function(t){var e=n(7937),r=n(5040);return{html_beautify:function(t,n){return s(t,n,e.js_beautify,r.css_beautify)}}}.apply(e,r))||(t.exports=i)}()},7937:(t,e)=>{var n;!function(){var r;!function(){"use strict";var t=[function(t,e,n){var r=n(1).Beautifier,i=n(5).Options;t.exports=function(t,e){return new r(t,e).beautify()},t.exports.defaultOptions=function(){return new i}},function(t,e,n){var r=n(2).Output,i=n(3).Token,o=n(4),s=n(5).Options,a=n(7).Tokenizer,l=n(7).line_starters,u=n(7).positionable_operators,c=n(7).TOKEN;function h(t,e){return-1!==e.indexOf(t)}function f(t,e){return t&&t.type===c.RESERVED&&t.text===e}function p(t,e){return t&&t.type===c.RESERVED&&h(t.text,e)}var d=["case","return","do","if","throw","else","await","break","continue","async"],g=function(t){for(var e={},n=0;n<t.length;n++)e[t[n].replace(/-/g,"_")]=t[n];return e}(["before-newline","after-newline","preserve-newline"]),m=[g.before_newline,g.preserve_newline],_="BlockStatement",y="Statement",v="ObjectLiteral",b="ArrayLiteral",w="ForInitializer",x="Conditional",k="Expression";function S(t,e){e.multiline_frame||e.mode===w||e.mode===x||t.remove_indent(e.start_line_index)}function O(t){return t===b}function E(t){return h(t,[k,w,x])}function C(t,e){e=e||{},this._source_text=t||"",this._output=null,this._tokens=null,this._last_last_text=null,this._flags=null,this._previous_flags=null,this._flag_store=null,this._options=new s(e)}C.prototype.create_flags=function(t,e){var n=0;return t&&(n=t.indentation_level,!this._output.just_added_newline()&&t.line_indent_level>n&&(n=t.line_indent_level)),{mode:e,parent:t,last_token:t?t.last_token:new i(c.START_BLOCK,""),last_word:t?t.last_word:"",declaration_statement:!1,declaration_assignment:!1,multiline_frame:!1,inline_frame:!1,if_block:!1,else_block:!1,do_block:!1,do_while:!1,import_block:!1,in_case_statement:!1,in_case:!1,case_body:!1,indentation_level:n,alignment:0,line_indent_level:t?t.line_indent_level:n,start_line_index:this._output.get_line_number(),ternary_depth:0}},C.prototype._reset=function(t){var e=t.match(/^[\t ]*/)[0];this._last_last_text="",this._output=new r(this._options,e),this._output.raw=this._options.test_output_raw,this._flag_store=[],this.set_mode(_);var n=new a(t,this._options);return this._tokens=n.tokenize(),t},C.prototype.beautify=function(){if(this._options.disabled)return this._source_text;var t=this._reset(this._source_text),e=this._options.eol;"auto"===this._options.eol&&(e="\n",t&&o.lineBreak.test(t||"")&&(e=t.match(o.lineBreak)[0]));for(var n=this._tokens.next();n;)this.handle_token(n),this._last_last_text=this._flags.last_token.text,this._flags.last_token=n,n=this._tokens.next();return this._output.get_code(e)},C.prototype.handle_token=function(t,e){t.type===c.START_EXPR?this.handle_start_expr(t):t.type===c.END_EXPR?this.handle_end_expr(t):t.type===c.START_BLOCK?this.handle_start_block(t):t.type===c.END_BLOCK?this.handle_end_block(t):t.type===c.WORD||t.type===c.RESERVED?this.handle_word(t):t.type===c.SEMICOLON?this.handle_semicolon(t):t.type===c.STRING?this.handle_string(t):t.type===c.EQUALS?this.handle_equals(t):t.type===c.OPERATOR?this.handle_operator(t):t.type===c.COMMA?this.handle_comma(t):t.type===c.BLOCK_COMMENT?this.handle_block_comment(t,e):t.type===c.COMMENT?this.handle_comment(t,e):t.type===c.DOT?this.handle_dot(t):t.type===c.EOF?this.handle_eof(t):(t.type,c.UNKNOWN,this.handle_unknown(t,e))},C.prototype.handle_whitespace_and_comments=function(t,e){var n=t.newlines,r=this._options.keep_array_indentation&&O(this._flags.mode);if(t.comments_before)for(var i=t.comments_before.next();i;)this.handle_whitespace_and_comments(i,e),this.handle_token(i,e),i=t.comments_before.next();if(r)for(var o=0;o<n;o+=1)this.print_newline(o>0,e);else if(this._options.max_preserve_newlines&&n>this._options.max_preserve_newlines&&(n=this._options.max_preserve_newlines),this._options.preserve_newlines&&n>1){this.print_newline(!1,e);for(var s=1;s<n;s+=1)this.print_newline(!0,e)}};var A=["async","break","continue","return","throw","yield"];C.prototype.allow_wrap_or_preserved_newline=function(t,e){if(e=void 0!==e&&e,!this._output.just_added_newline()){var n=this._options.preserve_newlines&&t.newlines||e;if(h(this._flags.last_token.text,u)||h(t.text,u)){var r=h(this._flags.last_token.text,u)&&h(this._options.operator_position,m)||h(t.text,u);n=n&&r}if(n)this.print_newline(!1,!0);else if(this._options.wrap_line_length){if(p(this._flags.last_token,A))return;this._output.set_wrap_point()}}},C.prototype.print_newline=function(t,e){if(!e&&";"!==this._flags.last_token.text&&","!==this._flags.last_token.text&&"="!==this._flags.last_token.text&&(this._flags.last_token.type!==c.OPERATOR||"--"===this._flags.last_token.text||"++"===this._flags.last_token.text))for(var n=this._tokens.peek();!(this._flags.mode!==y||this._flags.if_block&&f(n,"else")||this._flags.do_block);)this.restore_mode();this._output.add_new_line(t)&&(this._flags.multiline_frame=!0)},C.prototype.print_token_line_indentation=function(t){this._output.just_added_newline()&&(this._options.keep_array_indentation&&t.newlines&&("["===t.text||O(this._flags.mode))?(this._output.current_line.set_indent(-1),this._output.current_line.push(t.whitespace_before),this._output.space_before_token=!1):this._output.set_indent(this._flags.indentation_level,this._flags.alignment)&&(this._flags.line_indent_level=this._flags.indentation_level))},C.prototype.print_token=function(t){if(this._output.raw)this._output.add_raw_token(t);else{if(this._options.comma_first&&t.previous&&t.previous.type===c.COMMA&&this._output.just_added_newline()&&","===this._output.previous_line.last()){var e=this._output.previous_line.pop();this._output.previous_line.is_empty()&&(this._output.previous_line.push(e),this._output.trim(!0),this._output.current_line.pop(),this._output.trim()),this.print_token_line_indentation(t),this._output.add_token(","),this._output.space_before_token=!0}this.print_token_line_indentation(t),this._output.non_breaking_space=!0,this._output.add_token(t.text),this._output.previous_token_wrapped&&(this._flags.multiline_frame=!0)}},C.prototype.indent=function(){this._flags.indentation_level+=1,this._output.set_indent(this._flags.indentation_level,this._flags.alignment)},C.prototype.deindent=function(){this._flags.indentation_level>0&&(!this._flags.parent||this._flags.indentation_level>this._flags.parent.indentation_level)&&(this._flags.indentation_level-=1,this._output.set_indent(this._flags.indentation_level,this._flags.alignment))},C.prototype.set_mode=function(t){this._flags?(this._flag_store.push(this._flags),this._previous_flags=this._flags):this._previous_flags=this.create_flags(null,t),this._flags=this.create_flags(this._previous_flags,t),this._output.set_indent(this._flags.indentation_level,this._flags.alignment)},C.prototype.restore_mode=function(){this._flag_store.length>0&&(this._previous_flags=this._flags,this._flags=this._flag_store.pop(),this._previous_flags.mode===y&&S(this._output,this._previous_flags),this._output.set_indent(this._flags.indentation_level,this._flags.alignment))},C.prototype.start_of_object_property=function(){return this._flags.parent.mode===v&&this._flags.mode===y&&(":"===this._flags.last_token.text&&0===this._flags.ternary_depth||p(this._flags.last_token,["get","set"]))},C.prototype.start_of_statement=function(t){var e=!1;return!!(e=(e=(e=(e=(e=(e=(e=e||p(this._flags.last_token,["var","let","const"])&&t.type===c.WORD)||f(this._flags.last_token,"do"))||!(this._flags.parent.mode===v&&this._flags.mode===y)&&p(this._flags.last_token,A)&&!t.newlines)||f(this._flags.last_token,"else")&&!(f(t,"if")&&!t.comments_before))||this._flags.last_token.type===c.END_EXPR&&(this._previous_flags.mode===w||this._previous_flags.mode===x))||this._flags.last_token.type===c.WORD&&this._flags.mode===_&&!this._flags.in_case&&!("--"===t.text||"++"===t.text)&&"function"!==this._last_last_text&&t.type!==c.WORD&&t.type!==c.RESERVED)||this._flags.mode===v&&(":"===this._flags.last_token.text&&0===this._flags.ternary_depth||p(this._flags.last_token,["get","set"])))&&(this.set_mode(y),this.indent(),this.handle_whitespace_and_comments(t,!0),this.start_of_object_property()||this.allow_wrap_or_preserved_newline(t,p(t,["do","for","if","while"])),!0)},C.prototype.handle_start_expr=function(t){this.start_of_statement(t)||this.handle_whitespace_and_comments(t);var e=k;if("["===t.text){if(this._flags.last_token.type===c.WORD||")"===this._flags.last_token.text)return p(this._flags.last_token,l)&&(this._output.space_before_token=!0),this.print_token(t),this.set_mode(e),this.indent(),void(this._options.space_in_paren&&(this._output.space_before_token=!0));e=b,O(this._flags.mode)&&("["!==this._flags.last_token.text&&(","!==this._flags.last_token.text||"]"!==this._last_last_text&&"}"!==this._last_last_text)||this._options.keep_array_indentation||this.print_newline()),h(this._flags.last_token.type,[c.START_EXPR,c.END_EXPR,c.WORD,c.OPERATOR,c.DOT])||(this._output.space_before_token=!0)}else{if(this._flags.last_token.type===c.RESERVED)"for"===this._flags.last_token.text?(this._output.space_before_token=this._options.space_before_conditional,e=w):h(this._flags.last_token.text,["if","while","switch"])?(this._output.space_before_token=this._options.space_before_conditional,e=x):h(this._flags.last_word,["await","async"])?this._output.space_before_token=!0:"import"===this._flags.last_token.text&&""===t.whitespace_before?this._output.space_before_token=!1:(h(this._flags.last_token.text,l)||"catch"===this._flags.last_token.text)&&(this._output.space_before_token=!0);else if(this._flags.last_token.type===c.EQUALS||this._flags.last_token.type===c.OPERATOR)this.start_of_object_property()||this.allow_wrap_or_preserved_newline(t);else if(this._flags.last_token.type===c.WORD){this._output.space_before_token=!1;var n=this._tokens.peek(-3);if(this._options.space_after_named_function&&n){var r=this._tokens.peek(-4);p(n,["async","function"])||"*"===n.text&&p(r,["async","function"])?this._output.space_before_token=!0:this._flags.mode===v&&("{"!==n.text&&","!==n.text&&("*"!==n.text||"{"!==r.text&&","!==r.text)||(this._output.space_before_token=!0))}}else this.allow_wrap_or_preserved_newline(t);(this._flags.last_token.type===c.RESERVED&&("function"===this._flags.last_word||"typeof"===this._flags.last_word)||"*"===this._flags.last_token.text&&(h(this._last_last_text,["function","yield"])||this._flags.mode===v&&h(this._last_last_text,["{",","])))&&(this._output.space_before_token=this._options.space_after_anon_function)}";"===this._flags.last_token.text||this._flags.last_token.type===c.START_BLOCK?this.print_newline():this._flags.last_token.type!==c.END_EXPR&&this._flags.last_token.type!==c.START_EXPR&&this._flags.last_token.type!==c.END_BLOCK&&"."!==this._flags.last_token.text&&this._flags.last_token.type!==c.COMMA||this.allow_wrap_or_preserved_newline(t,t.newlines),this.print_token(t),this.set_mode(e),this._options.space_in_paren&&(this._output.space_before_token=!0),this.indent()},C.prototype.handle_end_expr=function(t){for(;this._flags.mode===y;)this.restore_mode();this.handle_whitespace_and_comments(t),this._flags.multiline_frame&&this.allow_wrap_or_preserved_newline(t,"]"===t.text&&O(this._flags.mode)&&!this._options.keep_array_indentation),this._options.space_in_paren&&(this._flags.last_token.type!==c.START_EXPR||this._options.space_in_empty_paren?this._output.space_before_token=!0:(this._output.trim(),this._output.space_before_token=!1)),this.deindent(),this.print_token(t),this.restore_mode(),S(this._output,this._previous_flags),this._flags.do_while&&this._previous_flags.mode===x&&(this._previous_flags.mode=k,this._flags.do_block=!1,this._flags.do_while=!1)},C.prototype.handle_start_block=function(t){this.handle_whitespace_and_comments(t);var e=this._tokens.peek(),n=this._tokens.peek(1);"switch"===this._flags.last_word&&this._flags.last_token.type===c.END_EXPR?(this.set_mode(_),this._flags.in_case_statement=!0):this._flags.case_body?this.set_mode(_):n&&(h(n.text,[":",","])&&h(e.type,[c.STRING,c.WORD,c.RESERVED])||h(e.text,["get","set","..."])&&h(n.type,[c.WORD,c.RESERVED]))?h(this._last_last_text,["class","interface"])?this.set_mode(_):this.set_mode(v):this._flags.last_token.type===c.OPERATOR&&"=>"===this._flags.last_token.text?this.set_mode(_):h(this._flags.last_token.type,[c.EQUALS,c.START_EXPR,c.COMMA,c.OPERATOR])||p(this._flags.last_token,["return","throw","import","default"])?this.set_mode(v):this.set_mode(_);var r=!e.comments_before&&"}"===e.text,i=r&&"function"===this._flags.last_word&&this._flags.last_token.type===c.END_EXPR;if(this._options.brace_preserve_inline){var o=0,s=null;this._flags.inline_frame=!0;do{if(o+=1,(s=this._tokens.peek(o-1)).newlines){this._flags.inline_frame=!1;break}}while(s.type!==c.EOF&&(s.type!==c.END_BLOCK||s.opened!==t))}("expand"===this._options.brace_style||"none"===this._options.brace_style&&t.newlines)&&!this._flags.inline_frame?this._flags.last_token.type!==c.OPERATOR&&(i||this._flags.last_token.type===c.EQUALS||p(this._flags.last_token,d)&&"else"!==this._flags.last_token.text)?this._output.space_before_token=!0:this.print_newline(!1,!0):(!O(this._previous_flags.mode)||this._flags.last_token.type!==c.START_EXPR&&this._flags.last_token.type!==c.COMMA||((this._flags.last_token.type===c.COMMA||this._options.space_in_paren)&&(this._output.space_before_token=!0),(this._flags.last_token.type===c.COMMA||this._flags.last_token.type===c.START_EXPR&&this._flags.inline_frame)&&(this.allow_wrap_or_preserved_newline(t),this._previous_flags.multiline_frame=this._previous_flags.multiline_frame||this._flags.multiline_frame,this._flags.multiline_frame=!1)),this._flags.last_token.type!==c.OPERATOR&&this._flags.last_token.type!==c.START_EXPR&&(this._flags.last_token.type!==c.START_BLOCK||this._flags.inline_frame?this._output.space_before_token=!0:this.print_newline())),this.print_token(t),this.indent(),r||this._options.brace_preserve_inline&&this._flags.inline_frame||this.print_newline()},C.prototype.handle_end_block=function(t){for(this.handle_whitespace_and_comments(t);this._flags.mode===y;)this.restore_mode();var e=this._flags.last_token.type===c.START_BLOCK;this._flags.inline_frame&&!e?this._output.space_before_token=!0:"expand"===this._options.brace_style?e||this.print_newline():e||(O(this._flags.mode)&&this._options.keep_array_indentation?(this._options.keep_array_indentation=!1,this.print_newline(),this._options.keep_array_indentation=!0):this.print_newline()),this.restore_mode(),this.print_token(t)},C.prototype.handle_word=function(t){if(t.type===c.RESERVED&&(h(t.text,["set","get"])&&this._flags.mode!==v||"import"===t.text&&"("===this._tokens.peek().text||h(t.text,["as","from"])&&!this._flags.import_block||this._flags.mode===v&&":"===this._tokens.peek().text)&&(t.type=c.WORD),this.start_of_statement(t)?p(this._flags.last_token,["var","let","const"])&&t.type===c.WORD&&(this._flags.declaration_statement=!0):!t.newlines||E(this._flags.mode)||this._flags.last_token.type===c.OPERATOR&&"--"!==this._flags.last_token.text&&"++"!==this._flags.last_token.text||this._flags.last_token.type===c.EQUALS||!this._options.preserve_newlines&&p(this._flags.last_token,["var","let","const","set","get"])?this.handle_whitespace_and_comments(t):(this.handle_whitespace_and_comments(t),this.print_newline()),this._flags.do_block&&!this._flags.do_while){if(f(t,"while"))return this._output.space_before_token=!0,this.print_token(t),this._output.space_before_token=!0,void(this._flags.do_while=!0);this.print_newline(),this._flags.do_block=!1}if(this._flags.if_block)if(!this._flags.else_block&&f(t,"else"))this._flags.else_block=!0;else{for(;this._flags.mode===y;)this.restore_mode();this._flags.if_block=!1,this._flags.else_block=!1}if(this._flags.in_case_statement&&p(t,["case","default"]))return this.print_newline(),this._flags.last_token.type!==c.END_BLOCK&&(this._flags.case_body||this._options.jslint_happy)&&this.deindent(),this._flags.case_body=!1,this.print_token(t),void(this._flags.in_case=!0);if(this._flags.last_token.type!==c.COMMA&&this._flags.last_token.type!==c.START_EXPR&&this._flags.last_token.type!==c.EQUALS&&this._flags.last_token.type!==c.OPERATOR||this.start_of_object_property()||this.allow_wrap_or_preserved_newline(t),f(t,"function"))return(h(this._flags.last_token.text,["}",";"])||this._output.just_added_newline()&&!h(this._flags.last_token.text,["(","[","{",":","=",","])&&this._flags.last_token.type!==c.OPERATOR)&&(this._output.just_added_blankline()||t.comments_before||(this.print_newline(),this.print_newline(!0))),this._flags.last_token.type===c.RESERVED||this._flags.last_token.type===c.WORD?p(this._flags.last_token,["get","set","new","export"])||p(this._flags.last_token,A)||f(this._flags.last_token,"default")&&"export"===this._last_last_text||"declare"===this._flags.last_token.text?this._output.space_before_token=!0:this.print_newline():this._flags.last_token.type===c.OPERATOR||"="===this._flags.last_token.text?this._output.space_before_token=!0:(this._flags.multiline_frame||!E(this._flags.mode)&&!O(this._flags.mode))&&this.print_newline(),this.print_token(t),void(this._flags.last_word=t.text);var e="NONE";this._flags.last_token.type===c.END_BLOCK?this._previous_flags.inline_frame?e="SPACE":p(t,["else","catch","finally","from"])?"expand"===this._options.brace_style||"end-expand"===this._options.brace_style||"none"===this._options.brace_style&&t.newlines?e="NEWLINE":(e="SPACE",this._output.space_before_token=!0):e="NEWLINE":this._flags.last_token.type===c.SEMICOLON&&this._flags.mode===_?e="NEWLINE":this._flags.last_token.type===c.SEMICOLON&&E(this._flags.mode)?e="SPACE":this._flags.last_token.type===c.STRING?e="NEWLINE":this._flags.last_token.type===c.RESERVED||this._flags.last_token.type===c.WORD||"*"===this._flags.last_token.text&&(h(this._last_last_text,["function","yield"])||this._flags.mode===v&&h(this._last_last_text,["{",","]))?e="SPACE":this._flags.last_token.type===c.START_BLOCK?e=this._flags.inline_frame?"SPACE":"NEWLINE":this._flags.last_token.type===c.END_EXPR&&(this._output.space_before_token=!0,e="NEWLINE"),p(t,l)&&")"!==this._flags.last_token.text&&(e=this._flags.inline_frame||"else"===this._flags.last_token.text||"export"===this._flags.last_token.text?"SPACE":"NEWLINE"),p(t,["else","catch","finally"])?(this._flags.last_token.type!==c.END_BLOCK||this._previous_flags.mode!==_||"expand"===this._options.brace_style||"end-expand"===this._options.brace_style||"none"===this._options.brace_style&&t.newlines)&&!this._flags.inline_frame?this.print_newline():(this._output.trim(!0),"}"!==this._output.current_line.last()&&this.print_newline(),this._output.space_before_token=!0):"NEWLINE"===e?p(this._flags.last_token,d)||"declare"===this._flags.last_token.text&&p(t,["var","let","const"])?this._output.space_before_token=!0:this._flags.last_token.type!==c.END_EXPR?this._flags.last_token.type===c.START_EXPR&&p(t,["var","let","const"])||":"===this._flags.last_token.text||(f(t,"if")&&f(t.previous,"else")?this._output.space_before_token=!0:this.print_newline()):p(t,l)&&")"!==this._flags.last_token.text&&this.print_newline():this._flags.multiline_frame&&O(this._flags.mode)&&","===this._flags.last_token.text&&"}"===this._last_last_text?this.print_newline():"SPACE"===e&&(this._output.space_before_token=!0),!t.previous||t.previous.type!==c.WORD&&t.previous.type!==c.RESERVED||(this._output.space_before_token=!0),this.print_token(t),this._flags.last_word=t.text,t.type===c.RESERVED&&("do"===t.text?this._flags.do_block=!0:"if"===t.text?this._flags.if_block=!0:"import"===t.text?this._flags.import_block=!0:this._flags.import_block&&f(t,"from")&&(this._flags.import_block=!1))},C.prototype.handle_semicolon=function(t){this.start_of_statement(t)?this._output.space_before_token=!1:this.handle_whitespace_and_comments(t);for(var e=this._tokens.peek();!(this._flags.mode!==y||this._flags.if_block&&f(e,"else")||this._flags.do_block);)this.restore_mode();this._flags.import_block&&(this._flags.import_block=!1),this.print_token(t)},C.prototype.handle_string=function(t){(!t.text.startsWith("`")||0!==t.newlines||""!==t.whitespace_before||")"!==t.previous.text&&this._flags.last_token.type!==c.WORD)&&(this.start_of_statement(t)?this._output.space_before_token=!0:(this.handle_whitespace_and_comments(t),this._flags.last_token.type===c.RESERVED||this._flags.last_token.type===c.WORD||this._flags.inline_frame?this._output.space_before_token=!0:this._flags.last_token.type===c.COMMA||this._flags.last_token.type===c.START_EXPR||this._flags.last_token.type===c.EQUALS||this._flags.last_token.type===c.OPERATOR?this.start_of_object_property()||this.allow_wrap_or_preserved_newline(t):!t.text.startsWith("`")||this._flags.last_token.type!==c.END_EXPR||"]"!==t.previous.text&&")"!==t.previous.text||0!==t.newlines?this.print_newline():this._output.space_before_token=!0)),this.print_token(t)},C.prototype.handle_equals=function(t){this.start_of_statement(t)||this.handle_whitespace_and_comments(t),this._flags.declaration_statement&&(this._flags.declaration_assignment=!0),this._output.space_before_token=!0,this.print_token(t),this._output.space_before_token=!0},C.prototype.handle_comma=function(t){this.handle_whitespace_and_comments(t,!0),this.print_token(t),this._output.space_before_token=!0,this._flags.declaration_statement?(E(this._flags.parent.mode)&&(this._flags.declaration_assignment=!1),this._flags.declaration_assignment?(this._flags.declaration_assignment=!1,this.print_newline(!1,!0)):this._options.comma_first&&this.allow_wrap_or_preserved_newline(t)):this._flags.mode===v||this._flags.mode===y&&this._flags.parent.mode===v?(this._flags.mode===y&&this.restore_mode(),this._flags.inline_frame||this.print_newline()):this._options.comma_first&&this.allow_wrap_or_preserved_newline(t)},C.prototype.handle_operator=function(t){var e="*"===t.text&&(p(this._flags.last_token,["function","yield"])||h(this._flags.last_token.type,[c.START_BLOCK,c.COMMA,c.END_BLOCK,c.SEMICOLON])),n=h(t.text,["-","+"])&&(h(this._flags.last_token.type,[c.START_BLOCK,c.START_EXPR,c.EQUALS,c.OPERATOR])||h(this._flags.last_token.text,l)||","===this._flags.last_token.text);if(this.start_of_statement(t));else{var r=!e;this.handle_whitespace_and_comments(t,r)}if(p(this._flags.last_token,d))return this._output.space_before_token=!0,void this.print_token(t);if("*"!==t.text||this._flags.last_token.type!==c.DOT)if("::"!==t.text){if(this._flags.last_token.type===c.OPERATOR&&h(this._options.operator_position,m)&&this.allow_wrap_or_preserved_newline(t),":"===t.text&&this._flags.in_case)return this.print_token(t),this._flags.in_case=!1,this._flags.case_body=!0,void(this._tokens.peek().type!==c.START_BLOCK?(this.indent(),this.print_newline()):this._output.space_before_token=!0);var i=!0,o=!0,s=!1;if(":"===t.text?0===this._flags.ternary_depth?i=!1:(this._flags.ternary_depth-=1,s=!0):"?"===t.text&&(this._flags.ternary_depth+=1),!n&&!e&&this._options.preserve_newlines&&h(t.text,u)){var a=":"===t.text,f=a&&s,v=a&&!s;switch(this._options.operator_position){case g.before_newline:return this._output.space_before_token=!v,this.print_token(t),a&&!f||this.allow_wrap_or_preserved_newline(t),void(this._output.space_before_token=!0);case g.after_newline:return this._output.space_before_token=!0,!a||f?this._tokens.peek().newlines?this.print_newline(!1,!0):this.allow_wrap_or_preserved_newline(t):this._output.space_before_token=!1,this.print_token(t),void(this._output.space_before_token=!0);case g.preserve_newline:return v||this.allow_wrap_or_preserved_newline(t),i=!(this._output.just_added_newline()||v),this._output.space_before_token=i,this.print_token(t),void(this._output.space_before_token=!0)}}if(e){this.allow_wrap_or_preserved_newline(t),i=!1;var b=this._tokens.peek();o=b&&h(b.type,[c.WORD,c.RESERVED])}else"..."===t.text?(this.allow_wrap_or_preserved_newline(t),i=this._flags.last_token.type===c.START_BLOCK,o=!1):(h(t.text,["--","++","!","~"])||n)&&(this._flags.last_token.type!==c.COMMA&&this._flags.last_token.type!==c.START_EXPR||this.allow_wrap_or_preserved_newline(t),i=!1,o=!1,!t.newlines||"--"!==t.text&&"++"!==t.text||this.print_newline(!1,!0),";"===this._flags.last_token.text&&E(this._flags.mode)&&(i=!0),this._flags.last_token.type===c.RESERVED?i=!0:this._flags.last_token.type===c.END_EXPR?i=!("]"===this._flags.last_token.text&&("--"===t.text||"++"===t.text)):this._flags.last_token.type===c.OPERATOR&&(i=h(t.text,["--","-","++","+"])&&h(this._flags.last_token.text,["--","-","++","+"]),h(t.text,["+","-"])&&h(this._flags.last_token.text,["--","++"])&&(o=!0)),(this._flags.mode!==_||this._flags.inline_frame)&&this._flags.mode!==y||"{"!==this._flags.last_token.text&&";"!==this._flags.last_token.text||this.print_newline());this._output.space_before_token=this._output.space_before_token||i,this.print_token(t),this._output.space_before_token=o}else this.print_token(t);else this.print_token(t)},C.prototype.handle_block_comment=function(t,e){return this._output.raw?(this._output.add_raw_token(t),void(t.directives&&"end"===t.directives.preserve&&(this._output.raw=this._options.test_output_raw))):t.directives?(this.print_newline(!1,e),this.print_token(t),"start"===t.directives.preserve&&(this._output.raw=!0),void this.print_newline(!1,!0)):o.newline.test(t.text)||t.newlines?void this.print_block_commment(t,e):(this._output.space_before_token=!0,this.print_token(t),void(this._output.space_before_token=!0))},C.prototype.print_block_commment=function(t,e){var n,r=function(t){for(var e=[],n=(t=t.replace(o.allLineBreaks,"\n")).indexOf("\n");-1!==n;)e.push(t.substring(0,n)),n=(t=t.substring(n+1)).indexOf("\n");return t.length&&e.push(t),e}(t.text),i=!1,s=!1,a=t.whitespace_before,l=a.length;if(this.print_newline(!1,e),this.print_token_line_indentation(t),this._output.add_token(r[0]),this.print_newline(!1,e),r.length>1){for(i=function(t,e){for(var n=0;n<t.length;n++)if("*"!==t[n].trim().charAt(0))return!1;return!0}(r=r.slice(1)),s=function(t,e){for(var n,r=0,i=t.length;r<i;r++)if((n=t[r])&&0!==n.indexOf(e))return!1;return!0}(r,a),i&&(this._flags.alignment=1),n=0;n<r.length;n++)i?(this.print_token_line_indentation(t),this._output.add_token(r[n].replace(/^\s+/g,""))):s&&r[n]?(this.print_token_line_indentation(t),this._output.add_token(r[n].substring(l))):(this._output.current_line.set_indent(-1),this._output.add_token(r[n])),this.print_newline(!1,e);this._flags.alignment=0}},C.prototype.handle_comment=function(t,e){t.newlines?this.print_newline(!1,e):this._output.trim(!0),this._output.space_before_token=!0,this.print_token(t),this.print_newline(!1,e)},C.prototype.handle_dot=function(t){this.start_of_statement(t)||this.handle_whitespace_and_comments(t,!0),p(this._flags.last_token,d)?this._output.space_before_token=!1:this.allow_wrap_or_preserved_newline(t,")"===this._flags.last_token.text&&this._options.break_chained_methods),this._options.unindent_chained_methods&&this._output.just_added_newline()&&this.deindent(),this.print_token(t)},C.prototype.handle_unknown=function(t,e){this.print_token(t),"\n"===t.text[t.text.length-1]&&this.print_newline(!1,e)},C.prototype.handle_eof=function(t){for(;this._flags.mode===y;)this.restore_mode();this.handle_whitespace_and_comments(t)},t.exports.Beautifier=C},function(t){function e(t){this.__parent=t,this.__character_count=0,this.__indent_count=-1,this.__alignment_count=0,this.__wrap_point_index=0,this.__wrap_point_character_count=0,this.__wrap_point_indent_count=-1,this.__wrap_point_alignment_count=0,this.__items=[]}function n(t,e){this.__cache=[""],this.__indent_size=t.indent_size,this.__indent_string=t.indent_char,t.indent_with_tabs||(this.__indent_string=new Array(t.indent_size+1).join(t.indent_char)),e=e||"",t.indent_level>0&&(e=new Array(t.indent_level+1).join(this.__indent_string)),this.__base_string=e,this.__base_string_length=e.length}function r(t,r){this.__indent_cache=new n(t,r),this.raw=!1,this._end_with_newline=t.end_with_newline,this.indent_size=t.indent_size,this.wrap_line_length=t.wrap_line_length,this.indent_empty_lines=t.indent_empty_lines,this.__lines=[],this.previous_line=null,this.current_line=null,this.next_line=new e(this),this.space_before_token=!1,this.non_breaking_space=!1,this.previous_token_wrapped=!1,this.__add_outputline()}e.prototype.clone_empty=function(){var t=new e(this.__parent);return t.set_indent(this.__indent_count,this.__alignment_count),t},e.prototype.item=function(t){return t<0?this.__items[this.__items.length+t]:this.__items[t]},e.prototype.has_match=function(t){for(var e=this.__items.length-1;e>=0;e--)if(this.__items[e].match(t))return!0;return!1},e.prototype.set_indent=function(t,e){this.is_empty()&&(this.__indent_count=t||0,this.__alignment_count=e||0,this.__character_count=this.__parent.get_indent_size(this.__indent_count,this.__alignment_count))},e.prototype._set_wrap_point=function(){this.__parent.wrap_line_length&&(this.__wrap_point_index=this.__items.length,this.__wrap_point_character_count=this.__character_count,this.__wrap_point_indent_count=this.__parent.next_line.__indent_count,this.__wrap_point_alignment_count=this.__parent.next_line.__alignment_count)},e.prototype._should_wrap=function(){return this.__wrap_point_index&&this.__character_count>this.__parent.wrap_line_length&&this.__wrap_point_character_count>this.__parent.next_line.__character_count},e.prototype._allow_wrap=function(){if(this._should_wrap()){this.__parent.add_new_line();var t=this.__parent.current_line;return t.set_indent(this.__wrap_point_indent_count,this.__wrap_point_alignment_count),t.__items=this.__items.slice(this.__wrap_point_index),this.__items=this.__items.slice(0,this.__wrap_point_index),t.__character_count+=this.__character_count-this.__wrap_point_character_count,this.__character_count=this.__wrap_point_character_count," "===t.__items[0]&&(t.__items.splice(0,1),t.__character_count-=1),!0}return!1},e.prototype.is_empty=function(){return 0===this.__items.length},e.prototype.last=function(){return this.is_empty()?null:this.__items[this.__items.length-1]},e.prototype.push=function(t){this.__items.push(t);var e=t.lastIndexOf("\n");-1!==e?this.__character_count=t.length-e:this.__character_count+=t.length},e.prototype.pop=function(){var t=null;return this.is_empty()||(t=this.__items.pop(),this.__character_count-=t.length),t},e.prototype._remove_indent=function(){this.__indent_count>0&&(this.__indent_count-=1,this.__character_count-=this.__parent.indent_size)},e.prototype._remove_wrap_indent=function(){this.__wrap_point_indent_count>0&&(this.__wrap_point_indent_count-=1)},e.prototype.trim=function(){for(;" "===this.last();)this.__items.pop(),this.__character_count-=1},e.prototype.toString=function(){var t="";return this.is_empty()?this.__parent.indent_empty_lines&&(t=this.__parent.get_indent_string(this.__indent_count)):(t=this.__parent.get_indent_string(this.__indent_count,this.__alignment_count),t+=this.__items.join("")),t},n.prototype.get_indent_size=function(t,e){var n=this.__base_string_length;return e=e||0,t<0&&(n=0),(n+=t*this.__indent_size)+e},n.prototype.get_indent_string=function(t,e){var n=this.__base_string;return e=e||0,t<0&&(t=0,n=""),e+=t*this.__indent_size,this.__ensure_cache(e),n+this.__cache[e]},n.prototype.__ensure_cache=function(t){for(;t>=this.__cache.length;)this.__add_column()},n.prototype.__add_column=function(){var t=this.__cache.length,e=0,n="";this.__indent_size&&t>=this.__indent_size&&(t-=(e=Math.floor(t/this.__indent_size))*this.__indent_size,n=new Array(e+1).join(this.__indent_string)),t&&(n+=new Array(t+1).join(" ")),this.__cache.push(n)},r.prototype.__add_outputline=function(){this.previous_line=this.current_line,this.current_line=this.next_line.clone_empty(),this.__lines.push(this.current_line)},r.prototype.get_line_number=function(){return this.__lines.length},r.prototype.get_indent_string=function(t,e){return this.__indent_cache.get_indent_string(t,e)},r.prototype.get_indent_size=function(t,e){return this.__indent_cache.get_indent_size(t,e)},r.prototype.is_empty=function(){return!this.previous_line&&this.current_line.is_empty()},r.prototype.add_new_line=function(t){return!(this.is_empty()||!t&&this.just_added_newline()||(this.raw||this.__add_outputline(),0))},r.prototype.get_code=function(t){this.trim(!0);var e=this.current_line.pop();e&&("\n"===e[e.length-1]&&(e=e.replace(/\n+$/g,"")),this.current_line.push(e)),this._end_with_newline&&this.__add_outputline();var n=this.__lines.join("\n");return"\n"!==t&&(n=n.replace(/[\n]/g,t)),n},r.prototype.set_wrap_point=function(){this.current_line._set_wrap_point()},r.prototype.set_indent=function(t,e){return t=t||0,e=e||0,this.next_line.set_indent(t,e),this.__lines.length>1?(this.current_line.set_indent(t,e),!0):(this.current_line.set_indent(),!1)},r.prototype.add_raw_token=function(t){for(var e=0;e<t.newlines;e++)this.__add_outputline();this.current_line.set_indent(-1),this.current_line.push(t.whitespace_before),this.current_line.push(t.text),this.space_before_token=!1,this.non_breaking_space=!1,this.previous_token_wrapped=!1},r.prototype.add_token=function(t){this.__add_space_before_token(),this.current_line.push(t),this.space_before_token=!1,this.non_breaking_space=!1,this.previous_token_wrapped=this.current_line._allow_wrap()},r.prototype.__add_space_before_token=function(){this.space_before_token&&!this.just_added_newline()&&(this.non_breaking_space||this.set_wrap_point(),this.current_line.push(" "))},r.prototype.remove_indent=function(t){for(var e=this.__lines.length;t<e;)this.__lines[t]._remove_indent(),t++;this.current_line._remove_wrap_indent()},r.prototype.trim=function(t){for(t=void 0!==t&&t,this.current_line.trim();t&&this.__lines.length>1&&this.current_line.is_empty();)this.__lines.pop(),this.current_line=this.__lines[this.__lines.length-1],this.current_line.trim();this.previous_line=this.__lines.length>1?this.__lines[this.__lines.length-2]:null},r.prototype.just_added_newline=function(){return this.current_line.is_empty()},r.prototype.just_added_blankline=function(){return this.is_empty()||this.current_line.is_empty()&&this.previous_line.is_empty()},r.prototype.ensure_empty_line_above=function(t,n){for(var r=this.__lines.length-2;r>=0;){var i=this.__lines[r];if(i.is_empty())break;if(0!==i.item(0).indexOf(t)&&i.item(-1)!==n){this.__lines.splice(r+1,0,new e(this)),this.previous_line=this.__lines[this.__lines.length-2];break}r--}},t.exports.Output=r},function(t){t.exports.Token=function(t,e,n,r){this.type=t,this.text=e,this.comments_before=null,this.newlines=n||0,this.whitespace_before=r||"",this.parent=null,this.next=null,this.previous=null,this.opened=null,this.closed=null,this.directives=null}},function(t,e){var n="\\xaa\\xb5\\xba\\xc0-\\xd6\\xd8-\\xf6\\xf8-\\u02c1\\u02c6-\\u02d1\\u02e0-\\u02e4\\u02ec\\u02ee\\u0370-\\u0374\\u0376\\u0377\\u037a-\\u037d\\u0386\\u0388-\\u038a\\u038c\\u038e-\\u03a1\\u03a3-\\u03f5\\u03f7-\\u0481\\u048a-\\u0527\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u05d0-\\u05ea\\u05f0-\\u05f2\\u0620-\\u064a\\u066e\\u066f\\u0671-\\u06d3\\u06d5\\u06e5\\u06e6\\u06ee\\u06ef\\u06fa-\\u06fc\\u06ff\\u0710\\u0712-\\u072f\\u074d-\\u07a5\\u07b1\\u07ca-\\u07ea\\u07f4\\u07f5\\u07fa\\u0800-\\u0815\\u081a\\u0824\\u0828\\u0840-\\u0858\\u08a0\\u08a2-\\u08ac\\u0904-\\u0939\\u093d\\u0950\\u0958-\\u0961\\u0971-\\u0977\\u0979-\\u097f\\u0985-\\u098c\\u098f\\u0990\\u0993-\\u09a8\\u09aa-\\u09b0\\u09b2\\u09b6-\\u09b9\\u09bd\\u09ce\\u09dc\\u09dd\\u09df-\\u09e1\\u09f0\\u09f1\\u0a05-\\u0a0a\\u0a0f\\u0a10\\u0a13-\\u0a28\\u0a2a-\\u0a30\\u0a32\\u0a33\\u0a35\\u0a36\\u0a38\\u0a39\\u0a59-\\u0a5c\\u0a5e\\u0a72-\\u0a74\\u0a85-\\u0a8d\\u0a8f-\\u0a91\\u0a93-\\u0aa8\\u0aaa-\\u0ab0\\u0ab2\\u0ab3\\u0ab5-\\u0ab9\\u0abd\\u0ad0\\u0ae0\\u0ae1\\u0b05-\\u0b0c\\u0b0f\\u0b10\\u0b13-\\u0b28\\u0b2a-\\u0b30\\u0b32\\u0b33\\u0b35-\\u0b39\\u0b3d\\u0b5c\\u0b5d\\u0b5f-\\u0b61\\u0b71\\u0b83\\u0b85-\\u0b8a\\u0b8e-\\u0b90\\u0b92-\\u0b95\\u0b99\\u0b9a\\u0b9c\\u0b9e\\u0b9f\\u0ba3\\u0ba4\\u0ba8-\\u0baa\\u0bae-\\u0bb9\\u0bd0\\u0c05-\\u0c0c\\u0c0e-\\u0c10\\u0c12-\\u0c28\\u0c2a-\\u0c33\\u0c35-\\u0c39\\u0c3d\\u0c58\\u0c59\\u0c60\\u0c61\\u0c85-\\u0c8c\\u0c8e-\\u0c90\\u0c92-\\u0ca8\\u0caa-\\u0cb3\\u0cb5-\\u0cb9\\u0cbd\\u0cde\\u0ce0\\u0ce1\\u0cf1\\u0cf2\\u0d05-\\u0d0c\\u0d0e-\\u0d10\\u0d12-\\u0d3a\\u0d3d\\u0d4e\\u0d60\\u0d61\\u0d7a-\\u0d7f\\u0d85-\\u0d96\\u0d9a-\\u0db1\\u0db3-\\u0dbb\\u0dbd\\u0dc0-\\u0dc6\\u0e01-\\u0e30\\u0e32\\u0e33\\u0e40-\\u0e46\\u0e81\\u0e82\\u0e84\\u0e87\\u0e88\\u0e8a\\u0e8d\\u0e94-\\u0e97\\u0e99-\\u0e9f\\u0ea1-\\u0ea3\\u0ea5\\u0ea7\\u0eaa\\u0eab\\u0ead-\\u0eb0\\u0eb2\\u0eb3\\u0ebd\\u0ec0-\\u0ec4\\u0ec6\\u0edc-\\u0edf\\u0f00\\u0f40-\\u0f47\\u0f49-\\u0f6c\\u0f88-\\u0f8c\\u1000-\\u102a\\u103f\\u1050-\\u1055\\u105a-\\u105d\\u1061\\u1065\\u1066\\u106e-\\u1070\\u1075-\\u1081\\u108e\\u10a0-\\u10c5\\u10c7\\u10cd\\u10d0-\\u10fa\\u10fc-\\u1248\\u124a-\\u124d\\u1250-\\u1256\\u1258\\u125a-\\u125d\\u1260-\\u1288\\u128a-\\u128d\\u1290-\\u12b0\\u12b2-\\u12b5\\u12b8-\\u12be\\u12c0\\u12c2-\\u12c5\\u12c8-\\u12d6\\u12d8-\\u1310\\u1312-\\u1315\\u1318-\\u135a\\u1380-\\u138f\\u13a0-\\u13f4\\u1401-\\u166c\\u166f-\\u167f\\u1681-\\u169a\\u16a0-\\u16ea\\u16ee-\\u16f0\\u1700-\\u170c\\u170e-\\u1711\\u1720-\\u1731\\u1740-\\u1751\\u1760-\\u176c\\u176e-\\u1770\\u1780-\\u17b3\\u17d7\\u17dc\\u1820-\\u1877\\u1880-\\u18a8\\u18aa\\u18b0-\\u18f5\\u1900-\\u191c\\u1950-\\u196d\\u1970-\\u1974\\u1980-\\u19ab\\u19c1-\\u19c7\\u1a00-\\u1a16\\u1a20-\\u1a54\\u1aa7\\u1b05-\\u1b33\\u1b45-\\u1b4b\\u1b83-\\u1ba0\\u1bae\\u1baf\\u1bba-\\u1be5\\u1c00-\\u1c23\\u1c4d-\\u1c4f\\u1c5a-\\u1c7d\\u1ce9-\\u1cec\\u1cee-\\u1cf1\\u1cf5\\u1cf6\\u1d00-\\u1dbf\\u1e00-\\u1f15\\u1f18-\\u1f1d\\u1f20-\\u1f45\\u1f48-\\u1f4d\\u1f50-\\u1f57\\u1f59\\u1f5b\\u1f5d\\u1f5f-\\u1f7d\\u1f80-\\u1fb4\\u1fb6-\\u1fbc\\u1fbe\\u1fc2-\\u1fc4\\u1fc6-\\u1fcc\\u1fd0-\\u1fd3\\u1fd6-\\u1fdb\\u1fe0-\\u1fec\\u1ff2-\\u1ff4\\u1ff6-\\u1ffc\\u2071\\u207f\\u2090-\\u209c\\u2102\\u2107\\u210a-\\u2113\\u2115\\u2119-\\u211d\\u2124\\u2126\\u2128\\u212a-\\u212d\\u212f-\\u2139\\u213c-\\u213f\\u2145-\\u2149\\u214e\\u2160-\\u2188\\u2c00-\\u2c2e\\u2c30-\\u2c5e\\u2c60-\\u2ce4\\u2ceb-\\u2cee\\u2cf2\\u2cf3\\u2d00-\\u2d25\\u2d27\\u2d2d\\u2d30-\\u2d67\\u2d6f\\u2d80-\\u2d96\\u2da0-\\u2da6\\u2da8-\\u2dae\\u2db0-\\u2db6\\u2db8-\\u2dbe\\u2dc0-\\u2dc6\\u2dc8-\\u2dce\\u2dd0-\\u2dd6\\u2dd8-\\u2dde\\u2e2f\\u3005-\\u3007\\u3021-\\u3029\\u3031-\\u3035\\u3038-\\u303c\\u3041-\\u3096\\u309d-\\u309f\\u30a1-\\u30fa\\u30fc-\\u30ff\\u3105-\\u312d\\u3131-\\u318e\\u31a0-\\u31ba\\u31f0-\\u31ff\\u3400-\\u4db5\\u4e00-\\u9fcc\\ua000-\\ua48c\\ua4d0-\\ua4fd\\ua500-\\ua60c\\ua610-\\ua61f\\ua62a\\ua62b\\ua640-\\ua66e\\ua67f-\\ua697\\ua6a0-\\ua6ef\\ua717-\\ua71f\\ua722-\\ua788\\ua78b-\\ua78e\\ua790-\\ua793\\ua7a0-\\ua7aa\\ua7f8-\\ua801\\ua803-\\ua805\\ua807-\\ua80a\\ua80c-\\ua822\\ua840-\\ua873\\ua882-\\ua8b3\\ua8f2-\\ua8f7\\ua8fb\\ua90a-\\ua925\\ua930-\\ua946\\ua960-\\ua97c\\ua984-\\ua9b2\\ua9cf\\uaa00-\\uaa28\\uaa40-\\uaa42\\uaa44-\\uaa4b\\uaa60-\\uaa76\\uaa7a\\uaa80-\\uaaaf\\uaab1\\uaab5\\uaab6\\uaab9-\\uaabd\\uaac0\\uaac2\\uaadb-\\uaadd\\uaae0-\\uaaea\\uaaf2-\\uaaf4\\uab01-\\uab06\\uab09-\\uab0e\\uab11-\\uab16\\uab20-\\uab26\\uab28-\\uab2e\\uabc0-\\uabe2\\uac00-\\ud7a3\\ud7b0-\\ud7c6\\ud7cb-\\ud7fb\\uf900-\\ufa6d\\ufa70-\\ufad9\\ufb00-\\ufb06\\ufb13-\\ufb17\\ufb1d\\ufb1f-\\ufb28\\ufb2a-\\ufb36\\ufb38-\\ufb3c\\ufb3e\\ufb40\\ufb41\\ufb43\\ufb44\\ufb46-\\ufbb1\\ufbd3-\\ufd3d\\ufd50-\\ufd8f\\ufd92-\\ufdc7\\ufdf0-\\ufdfb\\ufe70-\\ufe74\\ufe76-\\ufefc\\uff21-\\uff3a\\uff41-\\uff5a\\uff66-\\uffbe\\uffc2-\\uffc7\\uffca-\\uffcf\\uffd2-\\uffd7\\uffda-\\uffdc",r="(?:\\\\u[0-9a-fA-F]{4}|[\\x23\\x24\\x40\\x41-\\x5a\\x5f\\x61-\\x7a"+n+"])";e.identifier=new RegExp(r+"(?:\\\\u[0-9a-fA-F]{4}|[\\x24\\x30-\\x39\\x41-\\x5a\\x5f\\x61-\\x7a\\xaa\\xb5\\xba\\xc0-\\xd6\\xd8-\\xf6\\xf8-\\u02c1\\u02c6-\\u02d1\\u02e0-\\u02e4\\u02ec\\u02ee\\u0370-\\u0374\\u0376\\u0377\\u037a-\\u037d\\u0386\\u0388-\\u038a\\u038c\\u038e-\\u03a1\\u03a3-\\u03f5\\u03f7-\\u0481\\u048a-\\u0527\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u05d0-\\u05ea\\u05f0-\\u05f2\\u0620-\\u064a\\u066e\\u066f\\u0671-\\u06d3\\u06d5\\u06e5\\u06e6\\u06ee\\u06ef\\u06fa-\\u06fc\\u06ff\\u0710\\u0712-\\u072f\\u074d-\\u07a5\\u07b1\\u07ca-\\u07ea\\u07f4\\u07f5\\u07fa\\u0800-\\u0815\\u081a\\u0824\\u0828\\u0840-\\u0858\\u08a0\\u08a2-\\u08ac\\u0904-\\u0939\\u093d\\u0950\\u0958-\\u0961\\u0971-\\u0977\\u0979-\\u097f\\u0985-\\u098c\\u098f\\u0990\\u0993-\\u09a8\\u09aa-\\u09b0\\u09b2\\u09b6-\\u09b9\\u09bd\\u09ce\\u09dc\\u09dd\\u09df-\\u09e1\\u09f0\\u09f1\\u0a05-\\u0a0a\\u0a0f\\u0a10\\u0a13-\\u0a28\\u0a2a-\\u0a30\\u0a32\\u0a33\\u0a35\\u0a36\\u0a38\\u0a39\\u0a59-\\u0a5c\\u0a5e\\u0a72-\\u0a74\\u0a85-\\u0a8d\\u0a8f-\\u0a91\\u0a93-\\u0aa8\\u0aaa-\\u0ab0\\u0ab2\\u0ab3\\u0ab5-\\u0ab9\\u0abd\\u0ad0\\u0ae0\\u0ae1\\u0b05-\\u0b0c\\u0b0f\\u0b10\\u0b13-\\u0b28\\u0b2a-\\u0b30\\u0b32\\u0b33\\u0b35-\\u0b39\\u0b3d\\u0b5c\\u0b5d\\u0b5f-\\u0b61\\u0b71\\u0b83\\u0b85-\\u0b8a\\u0b8e-\\u0b90\\u0b92-\\u0b95\\u0b99\\u0b9a\\u0b9c\\u0b9e\\u0b9f\\u0ba3\\u0ba4\\u0ba8-\\u0baa\\u0bae-\\u0bb9\\u0bd0\\u0c05-\\u0c0c\\u0c0e-\\u0c10\\u0c12-\\u0c28\\u0c2a-\\u0c33\\u0c35-\\u0c39\\u0c3d\\u0c58\\u0c59\\u0c60\\u0c61\\u0c85-\\u0c8c\\u0c8e-\\u0c90\\u0c92-\\u0ca8\\u0caa-\\u0cb3\\u0cb5-\\u0cb9\\u0cbd\\u0cde\\u0ce0\\u0ce1\\u0cf1\\u0cf2\\u0d05-\\u0d0c\\u0d0e-\\u0d10\\u0d12-\\u0d3a\\u0d3d\\u0d4e\\u0d60\\u0d61\\u0d7a-\\u0d7f\\u0d85-\\u0d96\\u0d9a-\\u0db1\\u0db3-\\u0dbb\\u0dbd\\u0dc0-\\u0dc6\\u0e01-\\u0e30\\u0e32\\u0e33\\u0e40-\\u0e46\\u0e81\\u0e82\\u0e84\\u0e87\\u0e88\\u0e8a\\u0e8d\\u0e94-\\u0e97\\u0e99-\\u0e9f\\u0ea1-\\u0ea3\\u0ea5\\u0ea7\\u0eaa\\u0eab\\u0ead-\\u0eb0\\u0eb2\\u0eb3\\u0ebd\\u0ec0-\\u0ec4\\u0ec6\\u0edc-\\u0edf\\u0f00\\u0f40-\\u0f47\\u0f49-\\u0f6c\\u0f88-\\u0f8c\\u1000-\\u102a\\u103f\\u1050-\\u1055\\u105a-\\u105d\\u1061\\u1065\\u1066\\u106e-\\u1070\\u1075-\\u1081\\u108e\\u10a0-\\u10c5\\u10c7\\u10cd\\u10d0-\\u10fa\\u10fc-\\u1248\\u124a-\\u124d\\u1250-\\u1256\\u1258\\u125a-\\u125d\\u1260-\\u1288\\u128a-\\u128d\\u1290-\\u12b0\\u12b2-\\u12b5\\u12b8-\\u12be\\u12c0\\u12c2-\\u12c5\\u12c8-\\u12d6\\u12d8-\\u1310\\u1312-\\u1315\\u1318-\\u135a\\u1380-\\u138f\\u13a0-\\u13f4\\u1401-\\u166c\\u166f-\\u167f\\u1681-\\u169a\\u16a0-\\u16ea\\u16ee-\\u16f0\\u1700-\\u170c\\u170e-\\u1711\\u1720-\\u1731\\u1740-\\u1751\\u1760-\\u176c\\u176e-\\u1770\\u1780-\\u17b3\\u17d7\\u17dc\\u1820-\\u1877\\u1880-\\u18a8\\u18aa\\u18b0-\\u18f5\\u1900-\\u191c\\u1950-\\u196d\\u1970-\\u1974\\u1980-\\u19ab\\u19c1-\\u19c7\\u1a00-\\u1a16\\u1a20-\\u1a54\\u1aa7\\u1b05-\\u1b33\\u1b45-\\u1b4b\\u1b83-\\u1ba0\\u1bae\\u1baf\\u1bba-\\u1be5\\u1c00-\\u1c23\\u1c4d-\\u1c4f\\u1c5a-\\u1c7d\\u1ce9-\\u1cec\\u1cee-\\u1cf1\\u1cf5\\u1cf6\\u1d00-\\u1dbf\\u1e00-\\u1f15\\u1f18-\\u1f1d\\u1f20-\\u1f45\\u1f48-\\u1f4d\\u1f50-\\u1f57\\u1f59\\u1f5b\\u1f5d\\u1f5f-\\u1f7d\\u1f80-\\u1fb4\\u1fb6-\\u1fbc\\u1fbe\\u1fc2-\\u1fc4\\u1fc6-\\u1fcc\\u1fd0-\\u1fd3\\u1fd6-\\u1fdb\\u1fe0-\\u1fec\\u1ff2-\\u1ff4\\u1ff6-\\u1ffc\\u2071\\u207f\\u2090-\\u209c\\u2102\\u2107\\u210a-\\u2113\\u2115\\u2119-\\u211d\\u2124\\u2126\\u2128\\u212a-\\u212d\\u212f-\\u2139\\u213c-\\u213f\\u2145-\\u2149\\u214e\\u2160-\\u2188\\u2c00-\\u2c2e\\u2c30-\\u2c5e\\u2c60-\\u2ce4\\u2ceb-\\u2cee\\u2cf2\\u2cf3\\u2d00-\\u2d25\\u2d27\\u2d2d\\u2d30-\\u2d67\\u2d6f\\u2d80-\\u2d96\\u2da0-\\u2da6\\u2da8-\\u2dae\\u2db0-\\u2db6\\u2db8-\\u2dbe\\u2dc0-\\u2dc6\\u2dc8-\\u2dce\\u2dd0-\\u2dd6\\u2dd8-\\u2dde\\u2e2f\\u3005-\\u3007\\u3021-\\u3029\\u3031-\\u3035\\u3038-\\u303c\\u3041-\\u3096\\u309d-\\u309f\\u30a1-\\u30fa\\u30fc-\\u30ff\\u3105-\\u312d\\u3131-\\u318e\\u31a0-\\u31ba\\u31f0-\\u31ff\\u3400-\\u4db5\\u4e00-\\u9fcc\\ua000-\\ua48c\\ua4d0-\\ua4fd\\ua500-\\ua60c\\ua610-\\ua61f\\ua62a\\ua62b\\ua640-\\ua66e\\ua67f-\\ua697\\ua6a0-\\ua6ef\\ua717-\\ua71f\\ua722-\\ua788\\ua78b-\\ua78e\\ua790-\\ua793\\ua7a0-\\ua7aa\\ua7f8-\\ua801\\ua803-\\ua805\\ua807-\\ua80a\\ua80c-\\ua822\\ua840-\\ua873\\ua882-\\ua8b3\\ua8f2-\\ua8f7\\ua8fb\\ua90a-\\ua925\\ua930-\\ua946\\ua960-\\ua97c\\ua984-\\ua9b2\\ua9cf\\uaa00-\\uaa28\\uaa40-\\uaa42\\uaa44-\\uaa4b\\uaa60-\\uaa76\\uaa7a\\uaa80-\\uaaaf\\uaab1\\uaab5\\uaab6\\uaab9-\\uaabd\\uaac0\\uaac2\\uaadb-\\uaadd\\uaae0-\\uaaea\\uaaf2-\\uaaf4\\uab01-\\uab06\\uab09-\\uab0e\\uab11-\\uab16\\uab20-\\uab26\\uab28-\\uab2e\\uabc0-\\uabe2\\uac00-\\ud7a3\\ud7b0-\\ud7c6\\ud7cb-\\ud7fb\\uf900-\\ufa6d\\ufa70-\\ufad9\\ufb00-\\ufb06\\ufb13-\\ufb17\\ufb1d\\ufb1f-\\ufb28\\ufb2a-\\ufb36\\ufb38-\\ufb3c\\ufb3e\\ufb40\\ufb41\\ufb43\\ufb44\\ufb46-\\ufbb1\\ufbd3-\\ufd3d\\ufd50-\\ufd8f\\ufd92-\\ufdc7\\ufdf0-\\ufdfb\\ufe70-\\ufe74\\ufe76-\\ufefc\\uff21-\\uff3a\\uff41-\\uff5a\\uff66-\\uffbe\\uffc2-\\uffc7\\uffca-\\uffcf\\uffd2-\\uffd7\\uffda-\\uffdc\\u0300-\\u036f\\u0483-\\u0487\\u0591-\\u05bd\\u05bf\\u05c1\\u05c2\\u05c4\\u05c5\\u05c7\\u0610-\\u061a\\u0620-\\u0649\\u0672-\\u06d3\\u06e7-\\u06e8\\u06fb-\\u06fc\\u0730-\\u074a\\u0800-\\u0814\\u081b-\\u0823\\u0825-\\u0827\\u0829-\\u082d\\u0840-\\u0857\\u08e4-\\u08fe\\u0900-\\u0903\\u093a-\\u093c\\u093e-\\u094f\\u0951-\\u0957\\u0962-\\u0963\\u0966-\\u096f\\u0981-\\u0983\\u09bc\\u09be-\\u09c4\\u09c7\\u09c8\\u09d7\\u09df-\\u09e0\\u0a01-\\u0a03\\u0a3c\\u0a3e-\\u0a42\\u0a47\\u0a48\\u0a4b-\\u0a4d\\u0a51\\u0a66-\\u0a71\\u0a75\\u0a81-\\u0a83\\u0abc\\u0abe-\\u0ac5\\u0ac7-\\u0ac9\\u0acb-\\u0acd\\u0ae2-\\u0ae3\\u0ae6-\\u0aef\\u0b01-\\u0b03\\u0b3c\\u0b3e-\\u0b44\\u0b47\\u0b48\\u0b4b-\\u0b4d\\u0b56\\u0b57\\u0b5f-\\u0b60\\u0b66-\\u0b6f\\u0b82\\u0bbe-\\u0bc2\\u0bc6-\\u0bc8\\u0bca-\\u0bcd\\u0bd7\\u0be6-\\u0bef\\u0c01-\\u0c03\\u0c46-\\u0c48\\u0c4a-\\u0c4d\\u0c55\\u0c56\\u0c62-\\u0c63\\u0c66-\\u0c6f\\u0c82\\u0c83\\u0cbc\\u0cbe-\\u0cc4\\u0cc6-\\u0cc8\\u0cca-\\u0ccd\\u0cd5\\u0cd6\\u0ce2-\\u0ce3\\u0ce6-\\u0cef\\u0d02\\u0d03\\u0d46-\\u0d48\\u0d57\\u0d62-\\u0d63\\u0d66-\\u0d6f\\u0d82\\u0d83\\u0dca\\u0dcf-\\u0dd4\\u0dd6\\u0dd8-\\u0ddf\\u0df2\\u0df3\\u0e34-\\u0e3a\\u0e40-\\u0e45\\u0e50-\\u0e59\\u0eb4-\\u0eb9\\u0ec8-\\u0ecd\\u0ed0-\\u0ed9\\u0f18\\u0f19\\u0f20-\\u0f29\\u0f35\\u0f37\\u0f39\\u0f41-\\u0f47\\u0f71-\\u0f84\\u0f86-\\u0f87\\u0f8d-\\u0f97\\u0f99-\\u0fbc\\u0fc6\\u1000-\\u1029\\u1040-\\u1049\\u1067-\\u106d\\u1071-\\u1074\\u1082-\\u108d\\u108f-\\u109d\\u135d-\\u135f\\u170e-\\u1710\\u1720-\\u1730\\u1740-\\u1750\\u1772\\u1773\\u1780-\\u17b2\\u17dd\\u17e0-\\u17e9\\u180b-\\u180d\\u1810-\\u1819\\u1920-\\u192b\\u1930-\\u193b\\u1951-\\u196d\\u19b0-\\u19c0\\u19c8-\\u19c9\\u19d0-\\u19d9\\u1a00-\\u1a15\\u1a20-\\u1a53\\u1a60-\\u1a7c\\u1a7f-\\u1a89\\u1a90-\\u1a99\\u1b46-\\u1b4b\\u1b50-\\u1b59\\u1b6b-\\u1b73\\u1bb0-\\u1bb9\\u1be6-\\u1bf3\\u1c00-\\u1c22\\u1c40-\\u1c49\\u1c5b-\\u1c7d\\u1cd0-\\u1cd2\\u1d00-\\u1dbe\\u1e01-\\u1f15\\u200c\\u200d\\u203f\\u2040\\u2054\\u20d0-\\u20dc\\u20e1\\u20e5-\\u20f0\\u2d81-\\u2d96\\u2de0-\\u2dff\\u3021-\\u3028\\u3099\\u309a\\ua640-\\ua66d\\ua674-\\ua67d\\ua69f\\ua6f0-\\ua6f1\\ua7f8-\\ua800\\ua806\\ua80b\\ua823-\\ua827\\ua880-\\ua881\\ua8b4-\\ua8c4\\ua8d0-\\ua8d9\\ua8f3-\\ua8f7\\ua900-\\ua909\\ua926-\\ua92d\\ua930-\\ua945\\ua980-\\ua983\\ua9b3-\\ua9c0\\uaa00-\\uaa27\\uaa40-\\uaa41\\uaa4c-\\uaa4d\\uaa50-\\uaa59\\uaa7b\\uaae0-\\uaae9\\uaaf2-\\uaaf3\\uabc0-\\uabe1\\uabec\\uabed\\uabf0-\\uabf9\\ufb20-\\ufb28\\ufe00-\\ufe0f\\ufe20-\\ufe26\\ufe33\\ufe34\\ufe4d-\\ufe4f\\uff10-\\uff19\\uff3f])*","g"),e.identifierStart=new RegExp(r),e.identifierMatch=new RegExp("(?:\\\\u[0-9a-fA-F]{4}|[\\x24\\x30-\\x39\\x41-\\x5a\\x5f\\x61-\\x7a"+n+"\\u0300-\\u036f\\u0483-\\u0487\\u0591-\\u05bd\\u05bf\\u05c1\\u05c2\\u05c4\\u05c5\\u05c7\\u0610-\\u061a\\u0620-\\u0649\\u0672-\\u06d3\\u06e7-\\u06e8\\u06fb-\\u06fc\\u0730-\\u074a\\u0800-\\u0814\\u081b-\\u0823\\u0825-\\u0827\\u0829-\\u082d\\u0840-\\u0857\\u08e4-\\u08fe\\u0900-\\u0903\\u093a-\\u093c\\u093e-\\u094f\\u0951-\\u0957\\u0962-\\u0963\\u0966-\\u096f\\u0981-\\u0983\\u09bc\\u09be-\\u09c4\\u09c7\\u09c8\\u09d7\\u09df-\\u09e0\\u0a01-\\u0a03\\u0a3c\\u0a3e-\\u0a42\\u0a47\\u0a48\\u0a4b-\\u0a4d\\u0a51\\u0a66-\\u0a71\\u0a75\\u0a81-\\u0a83\\u0abc\\u0abe-\\u0ac5\\u0ac7-\\u0ac9\\u0acb-\\u0acd\\u0ae2-\\u0ae3\\u0ae6-\\u0aef\\u0b01-\\u0b03\\u0b3c\\u0b3e-\\u0b44\\u0b47\\u0b48\\u0b4b-\\u0b4d\\u0b56\\u0b57\\u0b5f-\\u0b60\\u0b66-\\u0b6f\\u0b82\\u0bbe-\\u0bc2\\u0bc6-\\u0bc8\\u0bca-\\u0bcd\\u0bd7\\u0be6-\\u0bef\\u0c01-\\u0c03\\u0c46-\\u0c48\\u0c4a-\\u0c4d\\u0c55\\u0c56\\u0c62-\\u0c63\\u0c66-\\u0c6f\\u0c82\\u0c83\\u0cbc\\u0cbe-\\u0cc4\\u0cc6-\\u0cc8\\u0cca-\\u0ccd\\u0cd5\\u0cd6\\u0ce2-\\u0ce3\\u0ce6-\\u0cef\\u0d02\\u0d03\\u0d46-\\u0d48\\u0d57\\u0d62-\\u0d63\\u0d66-\\u0d6f\\u0d82\\u0d83\\u0dca\\u0dcf-\\u0dd4\\u0dd6\\u0dd8-\\u0ddf\\u0df2\\u0df3\\u0e34-\\u0e3a\\u0e40-\\u0e45\\u0e50-\\u0e59\\u0eb4-\\u0eb9\\u0ec8-\\u0ecd\\u0ed0-\\u0ed9\\u0f18\\u0f19\\u0f20-\\u0f29\\u0f35\\u0f37\\u0f39\\u0f41-\\u0f47\\u0f71-\\u0f84\\u0f86-\\u0f87\\u0f8d-\\u0f97\\u0f99-\\u0fbc\\u0fc6\\u1000-\\u1029\\u1040-\\u1049\\u1067-\\u106d\\u1071-\\u1074\\u1082-\\u108d\\u108f-\\u109d\\u135d-\\u135f\\u170e-\\u1710\\u1720-\\u1730\\u1740-\\u1750\\u1772\\u1773\\u1780-\\u17b2\\u17dd\\u17e0-\\u17e9\\u180b-\\u180d\\u1810-\\u1819\\u1920-\\u192b\\u1930-\\u193b\\u1951-\\u196d\\u19b0-\\u19c0\\u19c8-\\u19c9\\u19d0-\\u19d9\\u1a00-\\u1a15\\u1a20-\\u1a53\\u1a60-\\u1a7c\\u1a7f-\\u1a89\\u1a90-\\u1a99\\u1b46-\\u1b4b\\u1b50-\\u1b59\\u1b6b-\\u1b73\\u1bb0-\\u1bb9\\u1be6-\\u1bf3\\u1c00-\\u1c22\\u1c40-\\u1c49\\u1c5b-\\u1c7d\\u1cd0-\\u1cd2\\u1d00-\\u1dbe\\u1e01-\\u1f15\\u200c\\u200d\\u203f\\u2040\\u2054\\u20d0-\\u20dc\\u20e1\\u20e5-\\u20f0\\u2d81-\\u2d96\\u2de0-\\u2dff\\u3021-\\u3028\\u3099\\u309a\\ua640-\\ua66d\\ua674-\\ua67d\\ua69f\\ua6f0-\\ua6f1\\ua7f8-\\ua800\\ua806\\ua80b\\ua823-\\ua827\\ua880-\\ua881\\ua8b4-\\ua8c4\\ua8d0-\\ua8d9\\ua8f3-\\ua8f7\\ua900-\\ua909\\ua926-\\ua92d\\ua930-\\ua945\\ua980-\\ua983\\ua9b3-\\ua9c0\\uaa00-\\uaa27\\uaa40-\\uaa41\\uaa4c-\\uaa4d\\uaa50-\\uaa59\\uaa7b\\uaae0-\\uaae9\\uaaf2-\\uaaf3\\uabc0-\\uabe1\\uabec\\uabed\\uabf0-\\uabf9\\ufb20-\\ufb28\\ufe00-\\ufe0f\\ufe20-\\ufe26\\ufe33\\ufe34\\ufe4d-\\ufe4f\\uff10-\\uff19\\uff3f])+"),e.newline=/[\n\r\u2028\u2029]/,e.lineBreak=new RegExp("\r\n|"+e.newline.source),e.allLineBreaks=new RegExp(e.lineBreak.source,"g")},function(t,e,n){var r=n(6).Options,i=["before-newline","after-newline","preserve-newline"];function o(t){r.call(this,t,"js");var e=this.raw_options.brace_style||null;"expand-strict"===e?this.raw_options.brace_style="expand":"collapse-preserve-inline"===e?this.raw_options.brace_style="collapse,preserve-inline":void 0!==this.raw_options.braces_on_own_line&&(this.raw_options.brace_style=this.raw_options.braces_on_own_line?"expand":"collapse");var n=this._get_selection_list("brace_style",["collapse","expand","end-expand","none","preserve-inline"]);this.brace_preserve_inline=!1,this.brace_style="collapse";for(var o=0;o<n.length;o++)"preserve-inline"===n[o]?this.brace_preserve_inline=!0:this.brace_style=n[o];this.unindent_chained_methods=this._get_boolean("unindent_chained_methods"),this.break_chained_methods=this._get_boolean("break_chained_methods"),this.space_in_paren=this._get_boolean("space_in_paren"),this.space_in_empty_paren=this._get_boolean("space_in_empty_paren"),this.jslint_happy=this._get_boolean("jslint_happy"),this.space_after_anon_function=this._get_boolean("space_after_anon_function"),this.space_after_named_function=this._get_boolean("space_after_named_function"),this.keep_array_indentation=this._get_boolean("keep_array_indentation"),this.space_before_conditional=this._get_boolean("space_before_conditional",!0),this.unescape_strings=this._get_boolean("unescape_strings"),this.e4x=this._get_boolean("e4x"),this.comma_first=this._get_boolean("comma_first"),this.operator_position=this._get_selection("operator_position",i),this.test_output_raw=this._get_boolean("test_output_raw"),this.jslint_happy&&(this.space_after_anon_function=!0)}o.prototype=new r,t.exports.Options=o},function(t){function e(t,e){this.raw_options=n(t,e),this.disabled=this._get_boolean("disabled"),this.eol=this._get_characters("eol","auto"),this.end_with_newline=this._get_boolean("end_with_newline"),this.indent_size=this._get_number("indent_size",4),this.indent_char=this._get_characters("indent_char"," "),this.indent_level=this._get_number("indent_level"),this.preserve_newlines=this._get_boolean("preserve_newlines",!0),this.max_preserve_newlines=this._get_number("max_preserve_newlines",32786),this.preserve_newlines||(this.max_preserve_newlines=0),this.indent_with_tabs=this._get_boolean("indent_with_tabs","\t"===this.indent_char),this.indent_with_tabs&&(this.indent_char="\t",1===this.indent_size&&(this.indent_size=4)),this.wrap_line_length=this._get_number("wrap_line_length",this._get_number("max_char")),this.indent_empty_lines=this._get_boolean("indent_empty_lines"),this.templating=this._get_selection_list("templating",["auto","none","django","erb","handlebars","php","smarty"],["auto"])}function n(t,e){var n,i={};for(n in t=r(t))n!==e&&(i[n]=t[n]);if(e&&t[e])for(n in t[e])i[n]=t[e][n];return i}function r(t){var e,n={};for(e in t)n[e.replace(/-/g,"_")]=t[e];return n}e.prototype._get_array=function(t,e){var n=this.raw_options[t],r=e||[];return"object"==typeof n?null!==n&&"function"==typeof n.concat&&(r=n.concat()):"string"==typeof n&&(r=n.split(/[^a-zA-Z0-9_\/\-]+/)),r},e.prototype._get_boolean=function(t,e){var n=this.raw_options[t];return void 0===n?!!e:!!n},e.prototype._get_characters=function(t,e){var n=this.raw_options[t],r=e||"";return"string"==typeof n&&(r=n.replace(/\\r/,"\r").replace(/\\n/,"\n").replace(/\\t/,"\t")),r},e.prototype._get_number=function(t,e){var n=this.raw_options[t];e=parseInt(e,10),isNaN(e)&&(e=0);var r=parseInt(n,10);return isNaN(r)&&(r=e),r},e.prototype._get_selection=function(t,e,n){var r=this._get_selection_list(t,e,n);if(1!==r.length)throw new Error("Invalid Option Value: The option '"+t+"' can only be one of the following values:\n"+e+"\nYou passed in: '"+this.raw_options[t]+"'");return r[0]},e.prototype._get_selection_list=function(t,e,n){if(!e||0===e.length)throw new Error("Selection list cannot be empty.");if(n=n||[e[0]],!this._is_valid_selection(n,e))throw new Error("Invalid Default Value!");var r=this._get_array(t,n);if(!this._is_valid_selection(r,e))throw new Error("Invalid Option Value: The option '"+t+"' can contain only the following values:\n"+e+"\nYou passed in: '"+this.raw_options[t]+"'");return r},e.prototype._is_valid_selection=function(t,e){return t.length&&e.length&&!t.some((function(t){return-1===e.indexOf(t)}))},t.exports.Options=e,t.exports.normalizeOpts=r,t.exports.mergeOpts=n},function(t,e,n){var r=n(8).InputScanner,i=n(9).Tokenizer,o=n(9).TOKEN,s=n(13).Directives,a=n(4),l=n(12).Pattern,u=n(14).TemplatablePattern;function c(t,e){return-1!==e.indexOf(t)}var h={START_EXPR:"TK_START_EXPR",END_EXPR:"TK_END_EXPR",START_BLOCK:"TK_START_BLOCK",END_BLOCK:"TK_END_BLOCK",WORD:"TK_WORD",RESERVED:"TK_RESERVED",SEMICOLON:"TK_SEMICOLON",STRING:"TK_STRING",EQUALS:"TK_EQUALS",OPERATOR:"TK_OPERATOR",COMMA:"TK_COMMA",BLOCK_COMMENT:"TK_BLOCK_COMMENT",COMMENT:"TK_COMMENT",DOT:"TK_DOT",UNKNOWN:"TK_UNKNOWN",START:o.START,RAW:o.RAW,EOF:o.EOF},f=new s(/\/\*/,/\*\//),p=/0[xX][0123456789abcdefABCDEF_]*n?|0[oO][01234567_]*n?|0[bB][01_]*n?|\d[\d_]*n|(?:\.\d[\d_]*|\d[\d_]*\.?[\d_]*)(?:[eE][+-]?[\d_]+)?/,d=/[0-9]/,g=/[^\d\.]/,m=">>> === !== << && >= ** != == <= >> || ?? |> < / - + > : & % ? ^ | *".split(" "),_=">>>= ... >>= <<= === >>> !== **= => ^= :: /= << <= == && -= >= >> != -- += ** || ?? ++ %= &= *= |= |> = ! ? > < : / ^ - + * & % ~ |";_=(_="\\?\\.(?!\\d) "+(_=_.replace(/[-[\]{}()*+?.,\\^$|#]/g,"\\$&"))).replace(/ /g,"|");var y,v=new RegExp(_),b="continue,try,throw,return,var,let,const,if,switch,case,default,for,while,break,function,import,export".split(","),w=b.concat(["do","in","of","else","get","set","new","catch","finally","typeof","yield","async","await","from","as"]),x=new RegExp("^(?:"+w.join("|")+")$"),k=function(t,e){i.call(this,t,e),this._patterns.whitespace=this._patterns.whitespace.matching(/\u00A0\u1680\u180e\u2000-\u200a\u202f\u205f\u3000\ufeff/.source,/\u2028\u2029/.source);var n=new l(this._input),r=new u(this._input).read_options(this._options);this.__patterns={template:r,identifier:r.starting_with(a.identifier).matching(a.identifierMatch),number:n.matching(p),punct:n.matching(v),comment:n.starting_with(/\/\//).until(/[\n\r\u2028\u2029]/),block_comment:n.starting_with(/\/\*/).until_after(/\*\//),html_comment_start:n.matching(/<!--/),html_comment_end:n.matching(/-->/),include:n.starting_with(/#include/).until_after(a.lineBreak),shebang:n.starting_with(/#!/).until_after(a.lineBreak),xml:n.matching(/[\s\S]*?<(\/?)([-a-zA-Z:0-9_.]+|{[\s\S]+?}|!\[CDATA\[[\s\S]*?\]\]|)(\s+{[\s\S]+?}|\s+[-a-zA-Z:0-9_.]+|\s+[-a-zA-Z:0-9_.]+\s*=\s*('[^']*'|"[^"]*"|{[\s\S]+?}))*\s*(\/?)\s*>/),single_quote:r.until(/['\\\n\r\u2028\u2029]/),double_quote:r.until(/["\\\n\r\u2028\u2029]/),template_text:r.until(/[`\\$]/),template_expression:r.until(/[`}\\]/)}};(k.prototype=new i)._is_comment=function(t){return t.type===h.COMMENT||t.type===h.BLOCK_COMMENT||t.type===h.UNKNOWN},k.prototype._is_opening=function(t){return t.type===h.START_BLOCK||t.type===h.START_EXPR},k.prototype._is_closing=function(t,e){return(t.type===h.END_BLOCK||t.type===h.END_EXPR)&&e&&("]"===t.text&&"["===e.text||")"===t.text&&"("===e.text||"}"===t.text&&"{"===e.text)},k.prototype._reset=function(){y=!1},k.prototype._get_next_token=function(t,e){var n=null;this._readWhitespace();var r=this._input.peek();return null===r?this._create_token(h.EOF,""):n=(n=(n=(n=(n=(n=(n=(n=(n=n||this._read_non_javascript(r))||this._read_string(r))||this._read_word(t))||this._read_singles(r))||this._read_comment(r))||this._read_regexp(r,t))||this._read_xml(r,t))||this._read_punctuation())||this._create_token(h.UNKNOWN,this._input.next())},k.prototype._read_word=function(t){var e;return""!==(e=this.__patterns.identifier.read())?(e=e.replace(a.allLineBreaks,"\n"),t.type!==h.DOT&&(t.type!==h.RESERVED||"set"!==t.text&&"get"!==t.text)&&x.test(e)?"in"===e||"of"===e?this._create_token(h.OPERATOR,e):this._create_token(h.RESERVED,e):this._create_token(h.WORD,e)):""!==(e=this.__patterns.number.read())?this._create_token(h.WORD,e):void 0},k.prototype._read_singles=function(t){var e=null;return"("===t||"["===t?e=this._create_token(h.START_EXPR,t):")"===t||"]"===t?e=this._create_token(h.END_EXPR,t):"{"===t?e=this._create_token(h.START_BLOCK,t):"}"===t?e=this._create_token(h.END_BLOCK,t):";"===t?e=this._create_token(h.SEMICOLON,t):"."===t&&g.test(this._input.peek(1))?e=this._create_token(h.DOT,t):","===t&&(e=this._create_token(h.COMMA,t)),e&&this._input.next(),e},k.prototype._read_punctuation=function(){var t=this.__patterns.punct.read();if(""!==t)return"="===t?this._create_token(h.EQUALS,t):"?."===t?this._create_token(h.DOT,t):this._create_token(h.OPERATOR,t)},k.prototype._read_non_javascript=function(t){var e="";if("#"===t){if(this._is_first_token()&&(e=this.__patterns.shebang.read()))return this._create_token(h.UNKNOWN,e.trim()+"\n");if(e=this.__patterns.include.read())return this._create_token(h.UNKNOWN,e.trim()+"\n");t=this._input.next();var n="#";if(this._input.hasNext()&&this._input.testChar(d)){do{n+=t=this._input.next()}while(this._input.hasNext()&&"#"!==t&&"="!==t);return"#"===t||("["===this._input.peek()&&"]"===this._input.peek(1)?(n+="[]",this._input.next(),this._input.next()):"{"===this._input.peek()&&"}"===this._input.peek(1)&&(n+="{}",this._input.next(),this._input.next())),this._create_token(h.WORD,n)}this._input.back()}else if("<"===t&&this._is_first_token()){if(e=this.__patterns.html_comment_start.read()){for(;this._input.hasNext()&&!this._input.testChar(a.newline);)e+=this._input.next();return y=!0,this._create_token(h.COMMENT,e)}}else if(y&&"-"===t&&(e=this.__patterns.html_comment_end.read()))return y=!1,this._create_token(h.COMMENT,e);return null},k.prototype._read_comment=function(t){var e=null;if("/"===t){var n="";if("*"===this._input.peek(1)){n=this.__patterns.block_comment.read();var r=f.get_directives(n);r&&"start"===r.ignore&&(n+=f.readIgnored(this._input)),n=n.replace(a.allLineBreaks,"\n"),(e=this._create_token(h.BLOCK_COMMENT,n)).directives=r}else"/"===this._input.peek(1)&&(n=this.__patterns.comment.read(),e=this._create_token(h.COMMENT,n))}return e},k.prototype._read_string=function(t){if("`"===t||"'"===t||'"'===t){var e=this._input.next();return this.has_char_escapes=!1,e+="`"===t?this._read_string_recursive("`",!0,"${"):this._read_string_recursive(t),this.has_char_escapes&&this._options.unescape_strings&&(e=function(t){for(var e="",n=0,i=new r(t),o=null;i.hasNext();)if((o=i.match(/([\s]|[^\\]|\\\\)+/g))&&(e+=o[0]),"\\"===i.peek()){if(i.next(),"x"===i.peek())o=i.match(/x([0-9A-Fa-f]{2})/g);else{if("u"!==i.peek()){e+="\\",i.hasNext()&&(e+=i.next());continue}o=i.match(/u([0-9A-Fa-f]{4})/g)}if(!o)return t;if((n=parseInt(o[1],16))>126&&n<=255&&0===o[0].indexOf("x"))return t;if(n>=0&&n<32){e+="\\"+o[0];continue}e+=34===n||39===n||92===n?"\\"+String.fromCharCode(n):String.fromCharCode(n)}return e}(e)),this._input.peek()===t&&(e+=this._input.next()),e=e.replace(a.allLineBreaks,"\n"),this._create_token(h.STRING,e)}return null},k.prototype._allow_regexp_or_xml=function(t){return t.type===h.RESERVED&&c(t.text,["return","case","throw","else","do","typeof","yield"])||t.type===h.END_EXPR&&")"===t.text&&t.opened.previous.type===h.RESERVED&&c(t.opened.previous.text,["if","while","for"])||c(t.type,[h.COMMENT,h.START_EXPR,h.START_BLOCK,h.START,h.END_BLOCK,h.OPERATOR,h.EQUALS,h.EOF,h.SEMICOLON,h.COMMA])},k.prototype._read_regexp=function(t,e){if("/"===t&&this._allow_regexp_or_xml(e)){for(var n=this._input.next(),r=!1,i=!1;this._input.hasNext()&&(r||i||this._input.peek()!==t)&&!this._input.testChar(a.newline);)n+=this._input.peek(),r?r=!1:(r="\\"===this._input.peek(),"["===this._input.peek()?i=!0:"]"===this._input.peek()&&(i=!1)),this._input.next();return this._input.peek()===t&&(n+=this._input.next(),n+=this._input.read(a.identifier)),this._create_token(h.STRING,n)}return null},k.prototype._read_xml=function(t,e){if(this._options.e4x&&"<"===t&&this._allow_regexp_or_xml(e)){var n="",r=this.__patterns.xml.read_match();if(r){for(var i=r[2].replace(/^{\s+/,"{").replace(/\s+}$/,"}"),o=0===i.indexOf("{"),s=0;r;){var l=!!r[1],u=r[2];if(!(r[r.length-1]||"![CDATA["===u.slice(0,8))&&(u===i||o&&u.replace(/^{\s+/,"{").replace(/\s+}$/,"}"))&&(l?--s:++s),n+=r[0],s<=0)break;r=this.__patterns.xml.read_match()}return r||(n+=this._input.match(/[\s\S]*/g)[0]),n=n.replace(a.allLineBreaks,"\n"),this._create_token(h.STRING,n)}}return null},k.prototype._read_string_recursive=function(t,e,n){var r,i;"'"===t?i=this.__patterns.single_quote:'"'===t?i=this.__patterns.double_quote:"`"===t?i=this.__patterns.template_text:"}"===t&&(i=this.__patterns.template_expression);for(var o=i.read(),s="";this._input.hasNext();){if((s=this._input.next())===t||!e&&a.newline.test(s)){this._input.back();break}"\\"===s&&this._input.hasNext()?("x"===(r=this._input.peek())||"u"===r?this.has_char_escapes=!0:"\r"===r&&"\n"===this._input.peek(1)&&this._input.next(),s+=this._input.next()):n&&("${"===n&&"$"===s&&"{"===this._input.peek()&&(s+=this._input.next()),n===s&&(s+="`"===t?this._read_string_recursive("}",e,"`"):this._read_string_recursive("`",e,"${"),this._input.hasNext()&&(s+=this._input.next()))),o+=s+=i.read()}return o},t.exports.Tokenizer=k,t.exports.TOKEN=h,t.exports.positionable_operators=m.slice(),t.exports.line_starters=b.slice()},function(t){var e=RegExp.prototype.hasOwnProperty("sticky");function n(t){this.__input=t||"",this.__input_length=this.__input.length,this.__position=0}n.prototype.restart=function(){this.__position=0},n.prototype.back=function(){this.__position>0&&(this.__position-=1)},n.prototype.hasNext=function(){return this.__position<this.__input_length},n.prototype.next=function(){var t=null;return this.hasNext()&&(t=this.__input.charAt(this.__position),this.__position+=1),t},n.prototype.peek=function(t){var e=null;return t=t||0,(t+=this.__position)>=0&&t<this.__input_length&&(e=this.__input.charAt(t)),e},n.prototype.__match=function(t,n){t.lastIndex=n;var r=t.exec(this.__input);return!r||e&&t.sticky||r.index!==n&&(r=null),r},n.prototype.test=function(t,e){return e=e||0,(e+=this.__position)>=0&&e<this.__input_length&&!!this.__match(t,e)},n.prototype.testChar=function(t,e){var n=this.peek(e);return t.lastIndex=0,null!==n&&t.test(n)},n.prototype.match=function(t){var e=this.__match(t,this.__position);return e?this.__position+=e[0].length:e=null,e},n.prototype.read=function(t,e,n){var r,i="";return t&&(r=this.match(t))&&(i+=r[0]),!e||!r&&t||(i+=this.readUntil(e,n)),i},n.prototype.readUntil=function(t,e){var n,r=this.__position;t.lastIndex=this.__position;var i=t.exec(this.__input);return i?(r=i.index,e&&(r+=i[0].length)):r=this.__input_length,n=this.__input.substring(this.__position,r),this.__position=r,n},n.prototype.readUntilAfter=function(t){return this.readUntil(t,!0)},n.prototype.get_regexp=function(t,n){var r=null,i="g";return n&&e&&(i="y"),"string"==typeof t&&""!==t?r=new RegExp(t,i):t&&(r=new RegExp(t.source,i)),r},n.prototype.get_literal_regexp=function(t){return RegExp(t.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&"))},n.prototype.peekUntilAfter=function(t){var e=this.__position,n=this.readUntilAfter(t);return this.__position=e,n},n.prototype.lookBack=function(t){var e=this.__position-1;return e>=t.length&&this.__input.substring(e-t.length,e).toLowerCase()===t},t.exports.InputScanner=n},function(t,e,n){var r=n(8).InputScanner,i=n(3).Token,o=n(10).TokenStream,s=n(11).WhitespacePattern,a={START:"TK_START",RAW:"TK_RAW",EOF:"TK_EOF"},l=function(t,e){this._input=new r(t),this._options=e||{},this.__tokens=null,this._patterns={},this._patterns.whitespace=new s(this._input)};l.prototype.tokenize=function(){var t;this._input.restart(),this.__tokens=new o,this._reset();for(var e=new i(a.START,""),n=null,r=[],s=new o;e.type!==a.EOF;){for(t=this._get_next_token(e,n);this._is_comment(t);)s.add(t),t=this._get_next_token(e,n);s.isEmpty()||(t.comments_before=s,s=new o),t.parent=n,this._is_opening(t)?(r.push(n),n=t):n&&this._is_closing(t,n)&&(t.opened=n,n.closed=t,n=r.pop(),t.parent=n),t.previous=e,e.next=t,this.__tokens.add(t),e=t}return this.__tokens},l.prototype._is_first_token=function(){return this.__tokens.isEmpty()},l.prototype._reset=function(){},l.prototype._get_next_token=function(t,e){this._readWhitespace();var n=this._input.read(/.+/g);return n?this._create_token(a.RAW,n):this._create_token(a.EOF,"")},l.prototype._is_comment=function(t){return!1},l.prototype._is_opening=function(t){return!1},l.prototype._is_closing=function(t,e){return!1},l.prototype._create_token=function(t,e){return new i(t,e,this._patterns.whitespace.newline_count,this._patterns.whitespace.whitespace_before_token)},l.prototype._readWhitespace=function(){return this._patterns.whitespace.read()},t.exports.Tokenizer=l,t.exports.TOKEN=a},function(t){function e(t){this.__tokens=[],this.__tokens_length=this.__tokens.length,this.__position=0,this.__parent_token=t}e.prototype.restart=function(){this.__position=0},e.prototype.isEmpty=function(){return 0===this.__tokens_length},e.prototype.hasNext=function(){return this.__position<this.__tokens_length},e.prototype.next=function(){var t=null;return this.hasNext()&&(t=this.__tokens[this.__position],this.__position+=1),t},e.prototype.peek=function(t){var e=null;return t=t||0,(t+=this.__position)>=0&&t<this.__tokens_length&&(e=this.__tokens[t]),e},e.prototype.add=function(t){this.__parent_token&&(t.parent=this.__parent_token),this.__tokens.push(t),this.__tokens_length+=1},t.exports.TokenStream=e},function(t,e,n){var r=n(12).Pattern;function i(t,e){r.call(this,t,e),e?this._line_regexp=this._input.get_regexp(e._line_regexp):this.__set_whitespace_patterns("",""),this.newline_count=0,this.whitespace_before_token=""}i.prototype=new r,i.prototype.__set_whitespace_patterns=function(t,e){t+="\\t ",e+="\\n\\r",this._match_pattern=this._input.get_regexp("["+t+e+"]+",!0),this._newline_regexp=this._input.get_regexp("\\r\\n|["+e+"]")},i.prototype.read=function(){this.newline_count=0,this.whitespace_before_token="";var t=this._input.read(this._match_pattern);if(" "===t)this.whitespace_before_token=" ";else if(t){var e=this.__split(this._newline_regexp,t);this.newline_count=e.length-1,this.whitespace_before_token=e[this.newline_count]}return t},i.prototype.matching=function(t,e){var n=this._create();return n.__set_whitespace_patterns(t,e),n._update(),n},i.prototype._create=function(){return new i(this._input,this)},i.prototype.__split=function(t,e){t.lastIndex=0;for(var n=0,r=[],i=t.exec(e);i;)r.push(e.substring(n,i.index)),n=i.index+i[0].length,i=t.exec(e);return n<e.length?r.push(e.substring(n,e.length)):r.push(""),r},t.exports.WhitespacePattern=i},function(t){function e(t,e){this._input=t,this._starting_pattern=null,this._match_pattern=null,this._until_pattern=null,this._until_after=!1,e&&(this._starting_pattern=this._input.get_regexp(e._starting_pattern,!0),this._match_pattern=this._input.get_regexp(e._match_pattern,!0),this._until_pattern=this._input.get_regexp(e._until_pattern),this._until_after=e._until_after)}e.prototype.read=function(){var t=this._input.read(this._starting_pattern);return this._starting_pattern&&!t||(t+=this._input.read(this._match_pattern,this._until_pattern,this._until_after)),t},e.prototype.read_match=function(){return this._input.match(this._match_pattern)},e.prototype.until_after=function(t){var e=this._create();return e._until_after=!0,e._until_pattern=this._input.get_regexp(t),e._update(),e},e.prototype.until=function(t){var e=this._create();return e._until_after=!1,e._until_pattern=this._input.get_regexp(t),e._update(),e},e.prototype.starting_with=function(t){var e=this._create();return e._starting_pattern=this._input.get_regexp(t,!0),e._update(),e},e.prototype.matching=function(t){var e=this._create();return e._match_pattern=this._input.get_regexp(t,!0),e._update(),e},e.prototype._create=function(){return new e(this._input,this)},e.prototype._update=function(){},t.exports.Pattern=e},function(t){function e(t,e){t="string"==typeof t?t:t.source,e="string"==typeof e?e:e.source,this.__directives_block_pattern=new RegExp(t+/ beautify( \w+[:]\w+)+ /.source+e,"g"),this.__directive_pattern=/ (\w+)[:](\w+)/g,this.__directives_end_ignore_pattern=new RegExp(t+/\sbeautify\signore:end\s/.source+e,"g")}e.prototype.get_directives=function(t){if(!t.match(this.__directives_block_pattern))return null;var e={};this.__directive_pattern.lastIndex=0;for(var n=this.__directive_pattern.exec(t);n;)e[n[1]]=n[2],n=this.__directive_pattern.exec(t);return e},e.prototype.readIgnored=function(t){return t.readUntilAfter(this.__directives_end_ignore_pattern)},t.exports.Directives=e},function(t,e,n){var r=n(12).Pattern,i={django:!1,erb:!1,handlebars:!1,php:!1,smarty:!1};function o(t,e){r.call(this,t,e),this.__template_pattern=null,this._disabled=Object.assign({},i),this._excluded=Object.assign({},i),e&&(this.__template_pattern=this._input.get_regexp(e.__template_pattern),this._excluded=Object.assign(this._excluded,e._excluded),this._disabled=Object.assign(this._disabled,e._disabled));var n=new r(t);this.__patterns={handlebars_comment:n.starting_with(/{{!--/).until_after(/--}}/),handlebars_unescaped:n.starting_with(/{{{/).until_after(/}}}/),handlebars:n.starting_with(/{{/).until_after(/}}/),php:n.starting_with(/<\?(?:[= ]|php)/).until_after(/\?>/),erb:n.starting_with(/<%[^%]/).until_after(/[^%]%>/),django:n.starting_with(/{%/).until_after(/%}/),django_value:n.starting_with(/{{/).until_after(/}}/),django_comment:n.starting_with(/{#/).until_after(/#}/),smarty:n.starting_with(/{(?=[^}{\s\n])/).until_after(/[^\s\n]}/),smarty_comment:n.starting_with(/{\*/).until_after(/\*}/),smarty_literal:n.starting_with(/{literal}/).until_after(/{\/literal}/)}}o.prototype=new r,o.prototype._create=function(){return new o(this._input,this)},o.prototype._update=function(){this.__set_templated_pattern()},o.prototype.disable=function(t){var e=this._create();return e._disabled[t]=!0,e._update(),e},o.prototype.read_options=function(t){var e=this._create();for(var n in i)e._disabled[n]=-1===t.templating.indexOf(n);return e._update(),e},o.prototype.exclude=function(t){var e=this._create();return e._excluded[t]=!0,e._update(),e},o.prototype.read=function(){var t="";t=this._match_pattern?this._input.read(this._starting_pattern):this._input.read(this._starting_pattern,this.__template_pattern);for(var e=this._read_template();e;)this._match_pattern?e+=this._input.read(this._match_pattern):e+=this._input.readUntil(this.__template_pattern),t+=e,e=this._read_template();return this._until_after&&(t+=this._input.readUntilAfter(this._until_pattern)),t},o.prototype.__set_templated_pattern=function(){var t=[];this._disabled.php||t.push(this.__patterns.php._starting_pattern.source),this._disabled.handlebars||t.push(this.__patterns.handlebars._starting_pattern.source),this._disabled.erb||t.push(this.__patterns.erb._starting_pattern.source),this._disabled.django||(t.push(this.__patterns.django._starting_pattern.source),t.push(this.__patterns.django_value._starting_pattern.source),t.push(this.__patterns.django_comment._starting_pattern.source)),this._disabled.smarty||t.push(this.__patterns.smarty._starting_pattern.source),this._until_pattern&&t.push(this._until_pattern.source),this.__template_pattern=this._input.get_regexp("(?:"+t.join("|")+")")},o.prototype._read_template=function(){var t="",e=this._input.peek();if("<"===e){var n=this._input.peek(1);this._disabled.php||this._excluded.php||"?"!==n||(t=t||this.__patterns.php.read()),this._disabled.erb||this._excluded.erb||"%"!==n||(t=t||this.__patterns.erb.read())}else"{"===e&&(this._disabled.handlebars||this._excluded.handlebars||(t=(t=(t=t||this.__patterns.handlebars_comment.read())||this.__patterns.handlebars_unescaped.read())||this.__patterns.handlebars.read()),this._disabled.django||(this._excluded.django||this._excluded.handlebars||(t=t||this.__patterns.django_value.read()),this._excluded.django||(t=(t=t||this.__patterns.django_comment.read())||this.__patterns.django.read())),this._disabled.smarty||this._disabled.django&&this._disabled.handlebars&&(t=(t=(t=t||this.__patterns.smarty_comment.read())||this.__patterns.smarty_literal.read())||this.__patterns.smarty.read()));return t},t.exports.TemplatablePattern=o}],e={},n=function n(r){var i=e[r];if(void 0!==i)return i.exports;var o=e[r]={exports:{}};return t[r](o,o.exports,n),o.exports}(0);r=n}();var i=r;void 0===(n=function(){return{js_beautify:i}}.apply(e,[]))||(t.exports=n)}()},7418:t=>{"use strict";var e=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable;function i(t){if(null==t)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}t.exports=function(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de","5"===Object.getOwnPropertyNames(t)[0])return!1;for(var e={},n=0;n<10;n++)e["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(e).map((function(t){return e[t]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(t){r[t]=t})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(t){return!1}}()?Object.assign:function(t,o){for(var s,a,l=i(t),u=1;u<arguments.length;u++){for(var c in s=Object(arguments[u]))n.call(s,c)&&(l[c]=s[c]);if(e){a=e(s);for(var h=0;h<a.length;h++)r.call(s,a[h])&&(l[a[h]]=s[a[h]])}}return l}},5539:t=>{"use strict";function e(t,e){return null!=t&&e in Object(t)}function n(t){return t.replace(/([^\\])\[/g,"$1.[").match(/(\\\.|[^.]+?)+/g).map((function(t){if("constructor"===t||"__proto__"===t||"prototype"===t)return{};var e=/^\[(\d+)\]$/.exec(t);return e?{i:parseFloat(e[1])}:{p:t.replace(/\\([.[\]])/g,"$1")}}))}function r(t,e,n){var r=t,i=null;n=void 0===n?e.length:n;for(var o=0;o<n;o++){var s=e[o];r&&(r=void 0===s.p?r[s.i]:r[s.p],o===n-1&&(i=r))}return i}function i(t,i){var o=n(i),s=o[o.length-1],a={parent:o.length>1?r(t,o,o.length-1):t,name:s.p||s.i,value:r(t,o)};return a.exists=e(a.parent,a.name),a}t.exports={hasProperty:e,getPathInfo:i,getPathValue:function(t,e){return i(t,e).value},setPathValue:function(t,e,r){return function(t,e,n){for(var r=t,i=n.length,o=null,s=0;s<i;s++){var a=null,l=null;if(o=n[s],s===i-1)r[a=void 0===o.p?o.i:o.p]=e;else if(void 0!==o.p&&r[o.p])r=r[o.p];else if(void 0!==o.i&&r[o.i])r=r[o.i];else{var u=n[s+1];a=void 0===o.p?o.i:o.p,l=void 0===u.p?[]:{},r[a]=l,r=r[a]}}}(t,r,n(e)),t}}},2703:(t,e,n)=>{"use strict";var r=n(414);function i(){}function o(){}o.resetWarningCache=i,t.exports=function(){function t(t,e,n,i,o,s){if(s!==r){var a=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw a.name="Invariant Violation",a}}function e(){return t}t.isRequired=t;var n={array:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:o,resetWarningCache:i};return n.PropTypes=n,n}},5697:(t,e,n)=>{t.exports=n(2703)()},414:t=>{"use strict";t.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},4448:(t,e,n)=>{"use strict";var r=n(7294),i=n(7418),o=n(3840);function s(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!r)throw Error(s(227));var a=new Set,l={};function u(t,e){c(t,e),c(t+"Capture",e)}function c(t,e){for(l[t]=e,t=0;t<e.length;t++)a.add(e[t])}var h=!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement),f=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,p=Object.prototype.hasOwnProperty,d={},g={};function m(t,e,n,r,i,o,s){this.acceptsBooleans=2===e||3===e||4===e,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=s}var _={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(t){_[t]=new m(t,0,!1,t,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(t){var e=t[0];_[e]=new m(e,1,!1,t[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(t){_[t]=new m(t,2,!1,t.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(t){_[t]=new m(t,2,!1,t,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(t){_[t]=new m(t,3,!1,t.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(t){_[t]=new m(t,3,!0,t,null,!1,!1)})),["capture","download"].forEach((function(t){_[t]=new m(t,4,!1,t,null,!1,!1)})),["cols","rows","size","span"].forEach((function(t){_[t]=new m(t,6,!1,t,null,!1,!1)})),["rowSpan","start"].forEach((function(t){_[t]=new m(t,5,!1,t.toLowerCase(),null,!1,!1)}));var y=/[\-:]([a-z])/g;function v(t){return t[1].toUpperCase()}function b(t,e,n,r){var i=_.hasOwnProperty(e)?_[e]:null;(null!==i?0===i.type:!r&&2<e.length&&("o"===e[0]||"O"===e[0])&&("n"===e[1]||"N"===e[1]))||(function(t,e,n,r){if(null==e||function(t,e,n,r){if(null!==n&&0===n.type)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(t=t.toLowerCase().slice(0,5))&&"aria-"!==t);default:return!1}}(t,e,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!e;case 4:return!1===e;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}(e,n,i,r)&&(n=null),r||null===i?function(t){return!!p.call(g,t)||!p.call(d,t)&&(f.test(t)?g[t]=!0:(d[t]=!0,!1))}(e)&&(null===n?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=null===n?3!==i.type&&"":n:(e=i.attributeName,r=i.attributeNamespace,null===n?t.removeAttribute(e):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(t){var e=t.replace(y,v);_[e]=new m(e,1,!1,t,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(t){var e=t.replace(y,v);_[e]=new m(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(t){var e=t.replace(y,v);_[e]=new m(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(t){_[t]=new m(t,1,!1,t.toLowerCase(),null,!1,!1)})),_.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(t){_[t]=new m(t,1,!1,t.toLowerCase(),null,!0,!0)}));var w=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,x=60103,k=60106,S=60107,O=60108,E=60114,C=60109,A=60110,P=60112,T=60113,M=60120,R=60115,N=60116,D=60121,j=60128,L=60129,I=60130,B=60131;if("function"==typeof Symbol&&Symbol.for){var z=Symbol.for;x=z("react.element"),k=z("react.portal"),S=z("react.fragment"),O=z("react.strict_mode"),E=z("react.profiler"),C=z("react.provider"),A=z("react.context"),P=z("react.forward_ref"),T=z("react.suspense"),M=z("react.suspense_list"),R=z("react.memo"),N=z("react.lazy"),D=z("react.block"),z("react.scope"),j=z("react.opaque.id"),L=z("react.debug_trace_mode"),I=z("react.offscreen"),B=z("react.legacy_hidden")}var F,V="function"==typeof Symbol&&Symbol.iterator;function U(t){return null===t||"object"!=typeof t?null:"function"==typeof(t=V&&t[V]||t["@@iterator"])?t:null}function q(t){if(void 0===F)try{throw Error()}catch(t){var e=t.stack.trim().match(/\n( *(at )?)/);F=e&&e[1]||""}return"\n"+F+t}var H=!1;function W(t,e){if(!t||H)return"";H=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),"object"==typeof Reflect&&Reflect.construct){try{Reflect.construct(e,[])}catch(t){var r=t}Reflect.construct(t,[],e)}else{try{e.call()}catch(t){r=t}t.call(e.prototype)}else{try{throw Error()}catch(t){r=t}t()}}catch(t){if(t&&r&&"string"==typeof t.stack){for(var i=t.stack.split("\n"),o=r.stack.split("\n"),s=i.length-1,a=o.length-1;1<=s&&0<=a&&i[s]!==o[a];)a--;for(;1<=s&&0<=a;s--,a--)if(i[s]!==o[a]){if(1!==s||1!==a)do{if(s--,0>--a||i[s]!==o[a])return"\n"+i[s].replace(" at new "," at ")}while(1<=s&&0<=a);break}}}finally{H=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?q(t):""}function $(t){switch(t.tag){case 5:return q(t.type);case 16:return q("Lazy");case 13:return q("Suspense");case 19:return q("SuspenseList");case 0:case 2:case 15:return W(t.type,!1);case 11:return W(t.type.render,!1);case 22:return W(t.type._render,!1);case 1:return W(t.type,!0);default:return""}}function K(t){if(null==t)return null;if("function"==typeof t)return t.displayName||t.name||null;if("string"==typeof t)return t;switch(t){case S:return"Fragment";case k:return"Portal";case E:return"Profiler";case O:return"StrictMode";case T:return"Suspense";case M:return"SuspenseList"}if("object"==typeof t)switch(t.$$typeof){case A:return(t.displayName||"Context")+".Consumer";case C:return(t._context.displayName||"Context")+".Provider";case P:var e=t.render;return e=e.displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case R:return K(t.type);case D:return K(t._render);case N:e=t._payload,t=t._init;try{return K(t(e))}catch(t){}}return null}function Q(t){switch(typeof t){case"boolean":case"number":case"object":case"string":case"undefined":return t;default:return""}}function G(t){var e=t.type;return(t=t.nodeName)&&"input"===t.toLowerCase()&&("checkbox"===e||"radio"===e)}function X(t){t._valueTracker||(t._valueTracker=function(t){var e=G(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&void 0!==n&&"function"==typeof n.get&&"function"==typeof n.set){var i=n.get,o=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(t){r=""+t,o.call(this,t)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(t){r=""+t},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}(t))}function J(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=G(t)?t.checked?"true":"false":t.value),(t=r)!==n&&(e.setValue(t),!0)}function Y(t){if(void 0===(t=t||("undefined"!=typeof document?document:void 0)))return null;try{return t.activeElement||t.body}catch(e){return t.body}}function Z(t,e){var n=e.checked;return i({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:t._wrapperState.initialChecked})}function tt(t,e){var n=null==e.defaultValue?"":e.defaultValue,r=null!=e.checked?e.checked:e.defaultChecked;n=Q(null!=e.value?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===e.type||"radio"===e.type?null!=e.checked:null!=e.value}}function et(t,e){null!=(e=e.checked)&&b(t,"checked",e,!1)}function nt(t,e){et(t,e);var n=Q(e.value),r=e.type;if(null!=n)"number"===r?(0===n&&""===t.value||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if("submit"===r||"reset"===r)return void t.removeAttribute("value");e.hasOwnProperty("value")?it(t,e.type,n):e.hasOwnProperty("defaultValue")&&it(t,e.type,Q(e.defaultValue)),null==e.checked&&null!=e.defaultChecked&&(t.defaultChecked=!!e.defaultChecked)}function rt(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!("submit"!==r&&"reset"!==r||void 0!==e.value&&null!==e.value))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}""!==(n=t.name)&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,""!==n&&(t.name=n)}function it(t,e,n){"number"===e&&Y(t.ownerDocument)===t||(null==n?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}function ot(t,e){return t=i({children:void 0},e),(e=function(t){var e="";return r.Children.forEach(t,(function(t){null!=t&&(e+=t)})),e}(e.children))&&(t.children=e),t}function st(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Q(n),e=null,i=0;i<t.length;i++){if(t[i].value===n)return t[i].selected=!0,void(r&&(t[i].defaultSelected=!0));null!==e||t[i].disabled||(e=t[i])}null!==e&&(e.selected=!0)}}function at(t,e){if(null!=e.dangerouslySetInnerHTML)throw Error(s(91));return i({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function lt(t,e){var n=e.value;if(null==n){if(n=e.children,e=e.defaultValue,null!=n){if(null!=e)throw Error(s(92));if(Array.isArray(n)){if(!(1>=n.length))throw Error(s(93));n=n[0]}e=n}null==e&&(e=""),n=e}t._wrapperState={initialValue:Q(n)}}function ut(t,e){var n=Q(e.value),r=Q(e.defaultValue);null!=n&&((n=""+n)!==t.value&&(t.value=n),null==e.defaultValue&&t.defaultValue!==n&&(t.defaultValue=n)),null!=r&&(t.defaultValue=""+r)}function ct(t){var e=t.textContent;e===t._wrapperState.initialValue&&""!==e&&null!==e&&(t.value=e)}var ht="http://www.w3.org/1999/xhtml";function ft(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function pt(t,e){return null==t||"http://www.w3.org/1999/xhtml"===t?ft(e):"http://www.w3.org/2000/svg"===t&&"foreignObject"===e?"http://www.w3.org/1999/xhtml":t}var dt,gt,mt=(gt=function(t,e){if("http://www.w3.org/2000/svg"!==t.namespaceURI||"innerHTML"in t)t.innerHTML=e;else{for((dt=dt||document.createElement("div")).innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=dt.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}},"undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction?function(t,e,n,r){MSApp.execUnsafeLocalFunction((function(){return gt(t,e)}))}:gt);function _t(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&3===n.nodeType)return void(n.nodeValue=e)}t.textContent=e}var yt={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},vt=["Webkit","ms","Moz","O"];function bt(t,e,n){return null==e||"boolean"==typeof e||""===e?"":n||"number"!=typeof e||0===e||yt.hasOwnProperty(t)&&yt[t]?(""+e).trim():e+"px"}function wt(t,e){for(var n in t=t.style,e)if(e.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=bt(n,e[n],r);"float"===n&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}Object.keys(yt).forEach((function(t){vt.forEach((function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),yt[e]=yt[t]}))}));var xt=i({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function kt(t,e){if(e){if(xt[t]&&(null!=e.children||null!=e.dangerouslySetInnerHTML))throw Error(s(137,t));if(null!=e.dangerouslySetInnerHTML){if(null!=e.children)throw Error(s(60));if("object"!=typeof e.dangerouslySetInnerHTML||!("__html"in e.dangerouslySetInnerHTML))throw Error(s(61))}if(null!=e.style&&"object"!=typeof e.style)throw Error(s(62))}}function St(t,e){if(-1===t.indexOf("-"))return"string"==typeof e.is;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function Ot(t){return(t=t.target||t.srcElement||window).correspondingUseElement&&(t=t.correspondingUseElement),3===t.nodeType?t.parentNode:t}var Et=null,Ct=null,At=null;function Pt(t){if(t=ni(t)){if("function"!=typeof Et)throw Error(s(280));var e=t.stateNode;e&&(e=ii(e),Et(t.stateNode,t.type,e))}}function Tt(t){Ct?At?At.push(t):At=[t]:Ct=t}function Mt(){if(Ct){var t=Ct,e=At;if(At=Ct=null,Pt(t),e)for(t=0;t<e.length;t++)Pt(e[t])}}function Rt(t,e){return t(e)}function Nt(t,e,n,r,i){return t(e,n,r,i)}function Dt(){}var jt=Rt,Lt=!1,It=!1;function Bt(){null===Ct&&null===At||(Dt(),Mt())}function zt(t,e){var n=t.stateNode;if(null===n)return null;var r=ii(n);if(null===r)return null;n=r[e];t:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(t=t.type)||"input"===t||"select"===t||"textarea"===t)),t=!r;break t;default:t=!1}if(t)return null;if(n&&"function"!=typeof n)throw Error(s(231,e,typeof n));return n}var Ft=!1;if(h)try{var Vt={};Object.defineProperty(Vt,"passive",{get:function(){Ft=!0}}),window.addEventListener("test",Vt,Vt),window.removeEventListener("test",Vt,Vt)}catch(gt){Ft=!1}function Ut(t,e,n,r,i,o,s,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(t){this.onError(t)}}var qt=!1,Ht=null,Wt=!1,$t=null,Kt={onError:function(t){qt=!0,Ht=t}};function Qt(t,e,n,r,i,o,s,a,l){qt=!1,Ht=null,Ut.apply(Kt,arguments)}function Gt(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do{0!=(1026&(e=t).flags)&&(n=e.return),t=e.return}while(t)}return 3===e.tag?n:null}function Xt(t){if(13===t.tag){var e=t.memoizedState;if(null===e&&null!==(t=t.alternate)&&(e=t.memoizedState),null!==e)return e.dehydrated}return null}function Jt(t){if(Gt(t)!==t)throw Error(s(188))}function Yt(t){if(t=function(t){var e=t.alternate;if(!e){if(null===(e=Gt(t)))throw Error(s(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return Jt(i),t;if(o===r)return Jt(i),e;o=o.sibling}throw Error(s(188))}if(n.return!==r.return)n=i,r=o;else{for(var a=!1,l=i.child;l;){if(l===n){a=!0,n=i,r=o;break}if(l===r){a=!0,r=i,n=o;break}l=l.sibling}if(!a){for(l=o.child;l;){if(l===n){a=!0,n=o,r=i;break}if(l===r){a=!0,r=o,n=i;break}l=l.sibling}if(!a)throw Error(s(189))}}if(n.alternate!==r)throw Error(s(190))}if(3!==n.tag)throw Error(s(188));return n.stateNode.current===n?t:e}(t),!t)return null;for(var e=t;;){if(5===e.tag||6===e.tag)return e;if(e.child)e.child.return=e,e=e.child;else{if(e===t)break;for(;!e.sibling;){if(!e.return||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}}return null}function Zt(t,e){for(var n=t.alternate;null!==e;){if(e===t||e===n)return!0;e=e.return}return!1}var te,ee,ne,re,ie=!1,oe=[],se=null,ae=null,le=null,ue=new Map,ce=new Map,he=[],fe="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function pe(t,e,n,r,i){return{blockedOn:t,domEventName:e,eventSystemFlags:16|n,nativeEvent:i,targetContainers:[r]}}function de(t,e){switch(t){case"focusin":case"focusout":se=null;break;case"dragenter":case"dragleave":ae=null;break;case"mouseover":case"mouseout":le=null;break;case"pointerover":case"pointerout":ue.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":ce.delete(e.pointerId)}}function ge(t,e,n,r,i,o){return null===t||t.nativeEvent!==o?(t=pe(e,n,r,i,o),null!==e&&null!==(e=ni(e))&&ee(e),t):(t.eventSystemFlags|=r,e=t.targetContainers,null!==i&&-1===e.indexOf(i)&&e.push(i),t)}function me(t){var e=ei(t.target);if(null!==e){var n=Gt(e);if(null!==n)if(13===(e=n.tag)){if(null!==(e=Xt(n)))return t.blockedOn=e,void re(t.lanePriority,(function(){o.unstable_runWithPriority(t.priority,(function(){ne(n)}))}))}else if(3===e&&n.stateNode.hydrate)return void(t.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}t.blockedOn=null}function _e(t){if(null!==t.blockedOn)return!1;for(var e=t.targetContainers;0<e.length;){var n=Ye(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(null!==n)return null!==(e=ni(n))&&ee(e),t.blockedOn=n,!1;e.shift()}return!0}function ye(t,e,n){_e(t)&&n.delete(e)}function ve(){for(ie=!1;0<oe.length;){var t=oe[0];if(null!==t.blockedOn){null!==(t=ni(t.blockedOn))&&te(t);break}for(var e=t.targetContainers;0<e.length;){var n=Ye(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(null!==n){t.blockedOn=n;break}e.shift()}null===t.blockedOn&&oe.shift()}null!==se&&_e(se)&&(se=null),null!==ae&&_e(ae)&&(ae=null),null!==le&&_e(le)&&(le=null),ue.forEach(ye),ce.forEach(ye)}function be(t,e){t.blockedOn===e&&(t.blockedOn=null,ie||(ie=!0,o.unstable_scheduleCallback(o.unstable_NormalPriority,ve)))}function we(t){function e(e){return be(e,t)}if(0<oe.length){be(oe[0],t);for(var n=1;n<oe.length;n++){var r=oe[n];r.blockedOn===t&&(r.blockedOn=null)}}for(null!==se&&be(se,t),null!==ae&&be(ae,t),null!==le&&be(le,t),ue.forEach(e),ce.forEach(e),n=0;n<he.length;n++)(r=he[n]).blockedOn===t&&(r.blockedOn=null);for(;0<he.length&&null===(n=he[0]).blockedOn;)me(n),null===n.blockedOn&&he.shift()}function xe(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var ke={animationend:xe("Animation","AnimationEnd"),animationiteration:xe("Animation","AnimationIteration"),animationstart:xe("Animation","AnimationStart"),transitionend:xe("Transition","TransitionEnd")},Se={},Oe={};function Ee(t){if(Se[t])return Se[t];if(!ke[t])return t;var e,n=ke[t];for(e in n)if(n.hasOwnProperty(e)&&e in Oe)return Se[t]=n[e];return t}h&&(Oe=document.createElement("div").style,"AnimationEvent"in window||(delete ke.animationend.animation,delete ke.animationiteration.animation,delete ke.animationstart.animation),"TransitionEvent"in window||delete ke.transitionend.transition);var Ce=Ee("animationend"),Ae=Ee("animationiteration"),Pe=Ee("animationstart"),Te=Ee("transitionend"),Me=new Map,Re=new Map,Ne=["abort","abort",Ce,"animationEnd",Ae,"animationIteration",Pe,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",Te,"transitionEnd","waiting","waiting"];function De(t,e){for(var n=0;n<t.length;n+=2){var r=t[n],i=t[n+1];i="on"+(i[0].toUpperCase()+i.slice(1)),Re.set(r,e),Me.set(r,i),u(i,[r])}}(0,o.unstable_now)();var je=8;function Le(t){if(0!=(1&t))return je=15,1;if(0!=(2&t))return je=14,2;if(0!=(4&t))return je=13,4;var e=24&t;return 0!==e?(je=12,e):0!=(32&t)?(je=11,32):0!=(e=192&t)?(je=10,e):0!=(256&t)?(je=9,256):0!=(e=3584&t)?(je=8,e):0!=(4096&t)?(je=7,4096):0!=(e=4186112&t)?(je=6,e):0!=(e=62914560&t)?(je=5,e):67108864&t?(je=4,67108864):0!=(134217728&t)?(je=3,134217728):0!=(e=805306368&t)?(je=2,e):0!=(1073741824&t)?(je=1,1073741824):(je=8,t)}function Ie(t,e){var n=t.pendingLanes;if(0===n)return je=0;var r=0,i=0,o=t.expiredLanes,s=t.suspendedLanes,a=t.pingedLanes;if(0!==o)r=o,i=je=15;else if(0!=(o=134217727&n)){var l=o&~s;0!==l?(r=Le(l),i=je):0!=(a&=o)&&(r=Le(a),i=je)}else 0!=(o=n&~s)?(r=Le(o),i=je):0!==a&&(r=Le(a),i=je);if(0===r)return 0;if(r=n&((0>(r=31-qe(r))?0:1<<r)<<1)-1,0!==e&&e!==r&&0==(e&s)){if(Le(e),i<=je)return e;je=i}if(0!==(e=t.entangledLanes))for(t=t.entanglements,e&=r;0<e;)i=1<<(n=31-qe(e)),r|=t[n],e&=~i;return r}function Be(t){return 0!=(t=-1073741825&t.pendingLanes)?t:1073741824&t?1073741824:0}function ze(t,e){switch(t){case 15:return 1;case 14:return 2;case 12:return 0===(t=Fe(24&~e))?ze(10,e):t;case 10:return 0===(t=Fe(192&~e))?ze(8,e):t;case 8:return 0===(t=Fe(3584&~e))&&0===(t=Fe(4186112&~e))&&(t=512),t;case 2:return 0===(e=Fe(805306368&~e))&&(e=268435456),e}throw Error(s(358,t))}function Fe(t){return t&-t}function Ve(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Ue(t,e,n){t.pendingLanes|=e;var r=e-1;t.suspendedLanes&=r,t.pingedLanes&=r,(t=t.eventTimes)[e=31-qe(e)]=n}var qe=Math.clz32?Math.clz32:function(t){return 0===t?32:31-(He(t)/We|0)|0},He=Math.log,We=Math.LN2,$e=o.unstable_UserBlockingPriority,Ke=o.unstable_runWithPriority,Qe=!0;function Ge(t,e,n,r){Lt||Dt();var i=Je,o=Lt;Lt=!0;try{Nt(i,t,e,n,r)}finally{(Lt=o)||Bt()}}function Xe(t,e,n,r){Ke($e,Je.bind(null,t,e,n,r))}function Je(t,e,n,r){var i;if(Qe)if((i=0==(4&e))&&0<oe.length&&-1<fe.indexOf(t))t=pe(null,t,e,n,r),oe.push(t);else{var o=Ye(t,e,n,r);if(null===o)i&&de(t,r);else{if(i){if(-1<fe.indexOf(t))return t=pe(o,t,e,n,r),void oe.push(t);if(function(t,e,n,r,i){switch(e){case"focusin":return se=ge(se,t,e,n,r,i),!0;case"dragenter":return ae=ge(ae,t,e,n,r,i),!0;case"mouseover":return le=ge(le,t,e,n,r,i),!0;case"pointerover":var o=i.pointerId;return ue.set(o,ge(ue.get(o)||null,t,e,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,ce.set(o,ge(ce.get(o)||null,t,e,n,r,i)),!0}return!1}(o,t,e,n,r))return;de(t,r)}Dr(t,e,r,null,n)}}}function Ye(t,e,n,r){var i=Ot(r);if(null!==(i=ei(i))){var o=Gt(i);if(null===o)i=null;else{var s=o.tag;if(13===s){if(null!==(i=Xt(o)))return i;i=null}else if(3===s){if(o.stateNode.hydrate)return 3===o.tag?o.stateNode.containerInfo:null;i=null}else o!==i&&(i=null)}}return Dr(t,e,r,i,n),null}var Ze=null,tn=null,en=null;function nn(){if(en)return en;var t,e,n=tn,r=n.length,i="value"in Ze?Ze.value:Ze.textContent,o=i.length;for(t=0;t<r&&n[t]===i[t];t++);var s=r-t;for(e=1;e<=s&&n[r-e]===i[o-e];e++);return en=i.slice(t,1<e?1-e:void 0)}function rn(t){var e=t.keyCode;return"charCode"in t?0===(t=t.charCode)&&13===e&&(t=13):t=e,10===t&&(t=13),32<=t||13===t?t:0}function on(){return!0}function sn(){return!1}function an(t){function e(e,n,r,i,o){for(var s in this._reactName=e,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null,t)t.hasOwnProperty(s)&&(e=t[s],this[s]=e?e(i):i[s]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?on:sn,this.isPropagationStopped=sn,this}return i(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var t=this.nativeEvent;t&&(t.preventDefault?t.preventDefault():"unknown"!=typeof t.returnValue&&(t.returnValue=!1),this.isDefaultPrevented=on)},stopPropagation:function(){var t=this.nativeEvent;t&&(t.stopPropagation?t.stopPropagation():"unknown"!=typeof t.cancelBubble&&(t.cancelBubble=!0),this.isPropagationStopped=on)},persist:function(){},isPersistent:on}),e}var ln,un,cn,hn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},fn=an(hn),pn=i({},hn,{view:0,detail:0}),dn=an(pn),gn=i({},pn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Cn,button:0,buttons:0,relatedTarget:function(t){return void 0===t.relatedTarget?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==cn&&(cn&&"mousemove"===t.type?(ln=t.screenX-cn.screenX,un=t.screenY-cn.screenY):un=ln=0,cn=t),ln)},movementY:function(t){return"movementY"in t?t.movementY:un}}),mn=an(gn),_n=an(i({},gn,{dataTransfer:0})),yn=an(i({},pn,{relatedTarget:0})),vn=an(i({},hn,{animationName:0,elapsedTime:0,pseudoElement:0})),bn=i({},hn,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),wn=an(bn),xn=an(i({},hn,{data:0})),kn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Sn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},On={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function En(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):!!(t=On[t])&&!!e[t]}function Cn(){return En}var An=i({},pn,{key:function(t){if(t.key){var e=kn[t.key]||t.key;if("Unidentified"!==e)return e}return"keypress"===t.type?13===(t=rn(t))?"Enter":String.fromCharCode(t):"keydown"===t.type||"keyup"===t.type?Sn[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Cn,charCode:function(t){return"keypress"===t.type?rn(t):0},keyCode:function(t){return"keydown"===t.type||"keyup"===t.type?t.keyCode:0},which:function(t){return"keypress"===t.type?rn(t):"keydown"===t.type||"keyup"===t.type?t.keyCode:0}}),Pn=an(An),Tn=an(i({},gn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Mn=an(i({},pn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Cn})),Rn=an(i({},hn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Nn=i({},gn,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Dn=an(Nn),jn=[9,13,27,32],Ln=h&&"CompositionEvent"in window,In=null;h&&"documentMode"in document&&(In=document.documentMode);var Bn=h&&"TextEvent"in window&&!In,zn=h&&(!Ln||In&&8<In&&11>=In),Fn=String.fromCharCode(32),Vn=!1;function Un(t,e){switch(t){case"keyup":return-1!==jn.indexOf(e.keyCode);case"keydown":return 229!==e.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function qn(t){return"object"==typeof(t=t.detail)&&"data"in t?t.data:null}var Hn=!1,Wn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function $n(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return"input"===e?!!Wn[t.type]:"textarea"===e}function Kn(t,e,n,r){Tt(r),0<(e=Lr(e,"onChange")).length&&(n=new fn("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Qn=null,Gn=null;function Xn(t){Ar(t,0)}function Jn(t){if(J(ri(t)))return t}function Yn(t,e){if("change"===t)return e}var Zn=!1;if(h){var tr;if(h){var er="oninput"in document;if(!er){var nr=document.createElement("div");nr.setAttribute("oninput","return;"),er="function"==typeof nr.oninput}tr=er}else tr=!1;Zn=tr&&(!document.documentMode||9<document.documentMode)}function rr(){Qn&&(Qn.detachEvent("onpropertychange",ir),Gn=Qn=null)}function ir(t){if("value"===t.propertyName&&Jn(Gn)){var e=[];if(Kn(e,Gn,t,Ot(t)),t=Xn,Lt)t(e);else{Lt=!0;try{Rt(t,e)}finally{Lt=!1,Bt()}}}}function or(t,e,n){"focusin"===t?(rr(),Gn=n,(Qn=e).attachEvent("onpropertychange",ir)):"focusout"===t&&rr()}function sr(t){if("selectionchange"===t||"keyup"===t||"keydown"===t)return Jn(Gn)}function ar(t,e){if("click"===t)return Jn(e)}function lr(t,e){if("input"===t||"change"===t)return Jn(e)}var ur="function"==typeof Object.is?Object.is:function(t,e){return t===e&&(0!==t||1/t==1/e)||t!=t&&e!=e},cr=Object.prototype.hasOwnProperty;function hr(t,e){if(ur(t,e))return!0;if("object"!=typeof t||null===t||"object"!=typeof e||null===e)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!cr.call(e,n[r])||!ur(t[n[r]],e[n[r]]))return!1;return!0}function fr(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function pr(t,e){var n,r=fr(t);for(t=0;r;){if(3===r.nodeType){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}t:{for(;r;){if(r.nextSibling){r=r.nextSibling;break t}r=r.parentNode}r=void 0}r=fr(r)}}function dr(t,e){return!(!t||!e)&&(t===e||(!t||3!==t.nodeType)&&(e&&3===e.nodeType?dr(t,e.parentNode):"contains"in t?t.contains(e):!!t.compareDocumentPosition&&!!(16&t.compareDocumentPosition(e))))}function gr(){for(var t=window,e=Y();e instanceof t.HTMLIFrameElement;){try{var n="string"==typeof e.contentWindow.location.href}catch(t){n=!1}if(!n)break;e=Y((t=e.contentWindow).document)}return e}function mr(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&("input"===e&&("text"===t.type||"search"===t.type||"tel"===t.type||"url"===t.type||"password"===t.type)||"textarea"===e||"true"===t.contentEditable)}var _r=h&&"documentMode"in document&&11>=document.documentMode,yr=null,vr=null,br=null,wr=!1;function xr(t,e,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;wr||null==yr||yr!==Y(r)||(r="selectionStart"in(r=yr)&&mr(r)?{start:r.selectionStart,end:r.selectionEnd}:{anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},br&&hr(br,r)||(br=r,0<(r=Lr(vr,"onSelect")).length&&(e=new fn("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=yr)))}De("cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focusin focus focusout blur input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0),De("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1),De(Ne,2);for(var kr="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),Sr=0;Sr<kr.length;Sr++)Re.set(kr[Sr],0);c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),u("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),u("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),u("onBeforeInput",["compositionend","keypress","textInput","paste"]),u("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Or="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Er=new Set("cancel close invalid load scroll toggle".split(" ").concat(Or));function Cr(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,function(t,e,n,r,i,o,a,l,u){if(Qt.apply(this,arguments),qt){if(!qt)throw Error(s(198));var c=Ht;qt=!1,Ht=null,Wt||(Wt=!0,$t=c)}}(r,e,void 0,t),t.currentTarget=null}function Ar(t,e){e=0!=(4&e);for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;t:{var o=void 0;if(e)for(var s=r.length-1;0<=s;s--){var a=r[s],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==o&&i.isPropagationStopped())break t;Cr(i,a,u),o=l}else for(s=0;s<r.length;s++){if(l=(a=r[s]).instance,u=a.currentTarget,a=a.listener,l!==o&&i.isPropagationStopped())break t;Cr(i,a,u),o=l}}}if(Wt)throw t=$t,Wt=!1,$t=null,t}function Pr(t,e){var n=oi(e),r=t+"__bubble";n.has(r)||(Nr(e,t,2,!1),n.add(r))}var Tr="_reactListening"+Math.random().toString(36).slice(2);function Mr(t){t[Tr]||(t[Tr]=!0,a.forEach((function(e){Er.has(e)||Rr(e,!1,t,null),Rr(e,!0,t,null)})))}function Rr(t,e,n,r){var i=4<arguments.length&&void 0!==arguments[4]?arguments[4]:0,o=n;if("selectionchange"===t&&9!==n.nodeType&&(o=n.ownerDocument),null!==r&&!e&&Er.has(t)){if("scroll"!==t)return;i|=2,o=r}var s=oi(o),a=t+"__"+(e?"capture":"bubble");s.has(a)||(e&&(i|=4),Nr(o,t,i,e),s.add(a))}function Nr(t,e,n,r){var i=Re.get(e);switch(void 0===i?2:i){case 0:i=Ge;break;case 1:i=Xe;break;default:i=Je}n=i.bind(null,e,n,t),i=void 0,!Ft||"touchstart"!==e&&"touchmove"!==e&&"wheel"!==e||(i=!0),r?void 0!==i?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):void 0!==i?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Dr(t,e,n,r,i){var o=r;if(0==(1&e)&&0==(2&e)&&null!==r)t:for(;;){if(null===r)return;var s=r.tag;if(3===s||4===s){var a=r.stateNode.containerInfo;if(a===i||8===a.nodeType&&a.parentNode===i)break;if(4===s)for(s=r.return;null!==s;){var l=s.tag;if((3===l||4===l)&&((l=s.stateNode.containerInfo)===i||8===l.nodeType&&l.parentNode===i))return;s=s.return}for(;null!==a;){if(null===(s=ei(a)))return;if(5===(l=s.tag)||6===l){r=o=s;continue t}a=a.parentNode}}r=r.return}!function(t,e,n){if(It)return t();It=!0;try{jt(t,e,n)}finally{It=!1,Bt()}}((function(){var r=o,i=Ot(n),s=[];t:{var a=Me.get(t);if(void 0!==a){var l=fn,u=t;switch(t){case"keypress":if(0===rn(n))break t;case"keydown":case"keyup":l=Pn;break;case"focusin":u="focus",l=yn;break;case"focusout":u="blur",l=yn;break;case"beforeblur":case"afterblur":l=yn;break;case"click":if(2===n.button)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=mn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=_n;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=Mn;break;case Ce:case Ae:case Pe:l=vn;break;case Te:l=Rn;break;case"scroll":l=dn;break;case"wheel":l=Dn;break;case"copy":case"cut":case"paste":l=wn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=Tn}var c=0!=(4&e),h=!c&&"scroll"===t,f=c?null!==a?a+"Capture":null:a;c=[];for(var p,d=r;null!==d;){var g=(p=d).stateNode;if(5===p.tag&&null!==g&&(p=g,null!==f&&null!=(g=zt(d,f))&&c.push(jr(d,g,p))),h)break;d=d.return}0<c.length&&(a=new l(a,u,null,n,i),s.push({event:a,listeners:c}))}}if(0==(7&e)){if(l="mouseout"===t||"pointerout"===t,(!(a="mouseover"===t||"pointerover"===t)||0!=(16&e)||!(u=n.relatedTarget||n.fromElement)||!ei(u)&&!u[Zr])&&(l||a)&&(a=i.window===i?i:(a=i.ownerDocument)?a.defaultView||a.parentWindow:window,l?(l=r,null!==(u=(u=n.relatedTarget||n.toElement)?ei(u):null)&&(u!==(h=Gt(u))||5!==u.tag&&6!==u.tag)&&(u=null)):(l=null,u=r),l!==u)){if(c=mn,g="onMouseLeave",f="onMouseEnter",d="mouse","pointerout"!==t&&"pointerover"!==t||(c=Tn,g="onPointerLeave",f="onPointerEnter",d="pointer"),h=null==l?a:ri(l),p=null==u?a:ri(u),(a=new c(g,d+"leave",l,n,i)).target=h,a.relatedTarget=p,g=null,ei(i)===r&&((c=new c(f,d+"enter",u,n,i)).target=p,c.relatedTarget=h,g=c),h=g,l&&u)t:{for(f=u,d=0,p=c=l;p;p=Ir(p))d++;for(p=0,g=f;g;g=Ir(g))p++;for(;0<d-p;)c=Ir(c),d--;for(;0<p-d;)f=Ir(f),p--;for(;d--;){if(c===f||null!==f&&c===f.alternate)break t;c=Ir(c),f=Ir(f)}c=null}else c=null;null!==l&&Br(s,a,l,c,!1),null!==u&&null!==h&&Br(s,h,u,c,!0)}if("select"===(l=(a=r?ri(r):window).nodeName&&a.nodeName.toLowerCase())||"input"===l&&"file"===a.type)var m=Yn;else if($n(a))if(Zn)m=lr;else{m=sr;var _=or}else(l=a.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===a.type||"radio"===a.type)&&(m=ar);switch(m&&(m=m(t,r))?Kn(s,m,n,i):(_&&_(t,a,r),"focusout"===t&&(_=a._wrapperState)&&_.controlled&&"number"===a.type&&it(a,"number",a.value)),_=r?ri(r):window,t){case"focusin":($n(_)||"true"===_.contentEditable)&&(yr=_,vr=r,br=null);break;case"focusout":br=vr=yr=null;break;case"mousedown":wr=!0;break;case"contextmenu":case"mouseup":case"dragend":wr=!1,xr(s,n,i);break;case"selectionchange":if(_r)break;case"keydown":case"keyup":xr(s,n,i)}var y;if(Ln)t:{switch(t){case"compositionstart":var v="onCompositionStart";break t;case"compositionend":v="onCompositionEnd";break t;case"compositionupdate":v="onCompositionUpdate";break t}v=void 0}else Hn?Un(t,n)&&(v="onCompositionEnd"):"keydown"===t&&229===n.keyCode&&(v="onCompositionStart");v&&(zn&&"ko"!==n.locale&&(Hn||"onCompositionStart"!==v?"onCompositionEnd"===v&&Hn&&(y=nn()):(tn="value"in(Ze=i)?Ze.value:Ze.textContent,Hn=!0)),0<(_=Lr(r,v)).length&&(v=new xn(v,t,null,n,i),s.push({event:v,listeners:_}),(y||null!==(y=qn(n)))&&(v.data=y))),(y=Bn?function(t,e){switch(t){case"compositionend":return qn(e);case"keypress":return 32!==e.which?null:(Vn=!0,Fn);case"textInput":return(t=e.data)===Fn&&Vn?null:t;default:return null}}(t,n):function(t,e){if(Hn)return"compositionend"===t||!Ln&&Un(t,e)?(t=nn(),en=tn=Ze=null,Hn=!1,t):null;switch(t){case"paste":default:return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return zn&&"ko"!==e.locale?null:e.data}}(t,n))&&0<(r=Lr(r,"onBeforeInput")).length&&(i=new xn("onBeforeInput","beforeinput",null,n,i),s.push({event:i,listeners:r}),i.data=y)}Ar(s,e)}))}function jr(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Lr(t,e){for(var n=e+"Capture",r=[];null!==t;){var i=t,o=i.stateNode;5===i.tag&&null!==o&&(i=o,null!=(o=zt(t,n))&&r.unshift(jr(t,o,i)),null!=(o=zt(t,e))&&r.push(jr(t,o,i))),t=t.return}return r}function Ir(t){if(null===t)return null;do{t=t.return}while(t&&5!==t.tag);return t||null}function Br(t,e,n,r,i){for(var o=e._reactName,s=[];null!==n&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(null!==l&&l===r)break;5===a.tag&&null!==u&&(a=u,i?null!=(l=zt(n,o))&&s.unshift(jr(n,l,a)):i||null!=(l=zt(n,o))&&s.push(jr(n,l,a))),n=n.return}0!==s.length&&t.push({event:e,listeners:s})}function zr(){}var Fr=null,Vr=null;function Ur(t,e){switch(t){case"button":case"input":case"select":case"textarea":return!!e.autoFocus}return!1}function qr(t,e){return"textarea"===t||"option"===t||"noscript"===t||"string"==typeof e.children||"number"==typeof e.children||"object"==typeof e.dangerouslySetInnerHTML&&null!==e.dangerouslySetInnerHTML&&null!=e.dangerouslySetInnerHTML.__html}var Hr="function"==typeof setTimeout?setTimeout:void 0,Wr="function"==typeof clearTimeout?clearTimeout:void 0;function $r(t){(1===t.nodeType||9===t.nodeType&&null!=(t=t.body))&&(t.textContent="")}function Kr(t){for(;null!=t;t=t.nextSibling){var e=t.nodeType;if(1===e||3===e)break}return t}function Qr(t){t=t.previousSibling;for(var e=0;t;){if(8===t.nodeType){var n=t.data;if("$"===n||"$!"===n||"$?"===n){if(0===e)return t;e--}else"/$"===n&&e++}t=t.previousSibling}return null}var Gr=0,Xr=Math.random().toString(36).slice(2),Jr="__reactFiber$"+Xr,Yr="__reactProps$"+Xr,Zr="__reactContainer$"+Xr,ti="__reactEvents$"+Xr;function ei(t){var e=t[Jr];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Zr]||n[Jr]){if(n=e.alternate,null!==e.child||null!==n&&null!==n.child)for(t=Qr(t);null!==t;){if(n=t[Jr])return n;t=Qr(t)}return e}n=(t=n).parentNode}return null}function ni(t){return!(t=t[Jr]||t[Zr])||5!==t.tag&&6!==t.tag&&13!==t.tag&&3!==t.tag?null:t}function ri(t){if(5===t.tag||6===t.tag)return t.stateNode;throw Error(s(33))}function ii(t){return t[Yr]||null}function oi(t){var e=t[ti];return void 0===e&&(e=t[ti]=new Set),e}var si=[],ai=-1;function li(t){return{current:t}}function ui(t){0>ai||(t.current=si[ai],si[ai]=null,ai--)}function ci(t,e){ai++,si[ai]=t.current,t.current=e}var hi={},fi=li(hi),pi=li(!1),di=hi;function gi(t,e){var n=t.type.contextTypes;if(!n)return hi;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i,o={};for(i in n)o[i]=e[i];return r&&((t=t.stateNode).__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=o),o}function mi(t){return null!=t.childContextTypes}function _i(){ui(pi),ui(fi)}function yi(t,e,n){if(fi.current!==hi)throw Error(s(168));ci(fi,e),ci(pi,n)}function vi(t,e,n){var r=t.stateNode;if(t=e.childContextTypes,"function"!=typeof r.getChildContext)return n;for(var o in r=r.getChildContext())if(!(o in t))throw Error(s(108,K(e)||"Unknown",o));return i({},n,r)}function bi(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||hi,di=fi.current,ci(fi,t),ci(pi,pi.current),!0}function wi(t,e,n){var r=t.stateNode;if(!r)throw Error(s(169));n?(t=vi(t,e,di),r.__reactInternalMemoizedMergedChildContext=t,ui(pi),ui(fi),ci(fi,t)):ui(pi),ci(pi,n)}var xi=null,ki=null,Si=o.unstable_runWithPriority,Oi=o.unstable_scheduleCallback,Ei=o.unstable_cancelCallback,Ci=o.unstable_shouldYield,Ai=o.unstable_requestPaint,Pi=o.unstable_now,Ti=o.unstable_getCurrentPriorityLevel,Mi=o.unstable_ImmediatePriority,Ri=o.unstable_UserBlockingPriority,Ni=o.unstable_NormalPriority,Di=o.unstable_LowPriority,ji=o.unstable_IdlePriority,Li={},Ii=void 0!==Ai?Ai:function(){},Bi=null,zi=null,Fi=!1,Vi=Pi(),Ui=1e4>Vi?Pi:function(){return Pi()-Vi};function qi(){switch(Ti()){case Mi:return 99;case Ri:return 98;case Ni:return 97;case Di:return 96;case ji:return 95;default:throw Error(s(332))}}function Hi(t){switch(t){case 99:return Mi;case 98:return Ri;case 97:return Ni;case 96:return Di;case 95:return ji;default:throw Error(s(332))}}function Wi(t,e){return t=Hi(t),Si(t,e)}function $i(t,e,n){return t=Hi(t),Oi(t,e,n)}function Ki(){if(null!==zi){var t=zi;zi=null,Ei(t)}Qi()}function Qi(){if(!Fi&&null!==Bi){Fi=!0;var t=0;try{var e=Bi;Wi(99,(function(){for(;t<e.length;t++){var n=e[t];do{n=n(!0)}while(null!==n)}})),Bi=null}catch(e){throw null!==Bi&&(Bi=Bi.slice(t+1)),Oi(Mi,Ki),e}finally{Fi=!1}}}var Gi=w.ReactCurrentBatchConfig;function Xi(t,e){if(t&&t.defaultProps){for(var n in e=i({},e),t=t.defaultProps)void 0===e[n]&&(e[n]=t[n]);return e}return e}var Ji=li(null),Yi=null,Zi=null,to=null;function eo(){to=Zi=Yi=null}function no(t){var e=Ji.current;ui(Ji),t.type._context._currentValue=e}function ro(t,e){for(;null!==t;){var n=t.alternate;if((t.childLanes&e)===e){if(null===n||(n.childLanes&e)===e)break;n.childLanes|=e}else t.childLanes|=e,null!==n&&(n.childLanes|=e);t=t.return}}function io(t,e){Yi=t,to=Zi=null,null!==(t=t.dependencies)&&null!==t.firstContext&&(0!=(t.lanes&e)&&(Ls=!0),t.firstContext=null)}function oo(t,e){if(to!==t&&!1!==e&&0!==e)if("number"==typeof e&&1073741823!==e||(to=t,e=1073741823),e={context:t,observedBits:e,next:null},null===Zi){if(null===Yi)throw Error(s(308));Zi=e,Yi.dependencies={lanes:0,firstContext:e,responders:null}}else Zi=Zi.next=e;return t._currentValue}var so=!1;function ao(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function lo(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function uo(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function co(t,e){if(null!==(t=t.updateQueue)){var n=(t=t.shared).pending;null===n?e.next=e:(e.next=n.next,n.next=e),t.pending=e}}function ho(t,e){var n=t.updateQueue,r=t.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,o=null;if(null!==(n=n.firstBaseUpdate)){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===o?i=o=s:o=o.next=s,n=n.next}while(null!==n);null===o?i=o=e:o=o.next=e}else i=o=e;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},void(t.updateQueue=n)}null===(t=n.lastBaseUpdate)?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function fo(t,e,n,r){var o=t.updateQueue;so=!1;var s=o.firstBaseUpdate,a=o.lastBaseUpdate,l=o.shared.pending;if(null!==l){o.shared.pending=null;var u=l,c=u.next;u.next=null,null===a?s=c:a.next=c,a=u;var h=t.alternate;if(null!==h){var f=(h=h.updateQueue).lastBaseUpdate;f!==a&&(null===f?h.firstBaseUpdate=c:f.next=c,h.lastBaseUpdate=u)}}if(null!==s){for(f=o.baseState,a=0,h=c=u=null;;){l=s.lane;var p=s.eventTime;if((r&l)===l){null!==h&&(h=h.next={eventTime:p,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});t:{var d=t,g=s;switch(l=e,p=n,g.tag){case 1:if("function"==typeof(d=g.payload)){f=d.call(p,f,l);break t}f=d;break t;case 3:d.flags=-4097&d.flags|64;case 0:if(null==(l="function"==typeof(d=g.payload)?d.call(p,f,l):d))break t;f=i({},f,l);break t;case 2:so=!0}}null!==s.callback&&(t.flags|=32,null===(l=o.effects)?o.effects=[s]:l.push(s))}else p={eventTime:p,lane:l,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===h?(c=h=p,u=f):h=h.next=p,a|=l;if(null===(s=s.next)){if(null===(l=o.shared.pending))break;s=l.next,l.next=null,o.lastBaseUpdate=l,o.shared.pending=null}}null===h&&(u=f),o.baseState=u,o.firstBaseUpdate=c,o.lastBaseUpdate=h,Ba|=a,t.lanes=a,t.memoizedState=f}}function po(t,e,n){if(t=e.effects,e.effects=null,null!==t)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!=typeof i)throw Error(s(191,i));i.call(r)}}}var go=(new r.Component).refs;function mo(t,e,n,r){n=null==(n=n(r,e=t.memoizedState))?e:i({},e,n),t.memoizedState=n,0===t.lanes&&(t.updateQueue.baseState=n)}var _o={isMounted:function(t){return!!(t=t._reactInternals)&&Gt(t)===t},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=ul(),i=cl(t),o=uo(r,i);o.payload=e,null!=n&&(o.callback=n),co(t,o),hl(t,i,r)},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=ul(),i=cl(t),o=uo(r,i);o.tag=1,o.payload=e,null!=n&&(o.callback=n),co(t,o),hl(t,i,r)},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=ul(),r=cl(t),i=uo(n,r);i.tag=2,null!=e&&(i.callback=e),co(t,i),hl(t,r,n)}};function yo(t,e,n,r,i,o,s){return"function"==typeof(t=t.stateNode).shouldComponentUpdate?t.shouldComponentUpdate(r,o,s):!(e.prototype&&e.prototype.isPureReactComponent&&hr(n,r)&&hr(i,o))}function vo(t,e,n){var r=!1,i=hi,o=e.contextType;return"object"==typeof o&&null!==o?o=oo(o):(i=mi(e)?di:fi.current,o=(r=null!=(r=e.contextTypes))?gi(t,i):hi),e=new e(n,o),t.memoizedState=null!==e.state&&void 0!==e.state?e.state:null,e.updater=_o,t.stateNode=e,e._reactInternals=t,r&&((t=t.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=o),e}function bo(t,e,n,r){t=e.state,"function"==typeof e.componentWillReceiveProps&&e.componentWillReceiveProps(n,r),"function"==typeof e.UNSAFE_componentWillReceiveProps&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&_o.enqueueReplaceState(e,e.state,null)}function wo(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs=go,ao(t);var o=e.contextType;"object"==typeof o&&null!==o?i.context=oo(o):(o=mi(e)?di:fi.current,i.context=gi(t,o)),fo(t,n,i,r),i.state=t.memoizedState,"function"==typeof(o=e.getDerivedStateFromProps)&&(mo(t,e,o,n),i.state=t.memoizedState),"function"==typeof e.getDerivedStateFromProps||"function"==typeof i.getSnapshotBeforeUpdate||"function"!=typeof i.UNSAFE_componentWillMount&&"function"!=typeof i.componentWillMount||(e=i.state,"function"==typeof i.componentWillMount&&i.componentWillMount(),"function"==typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),e!==i.state&&_o.enqueueReplaceState(i,i.state,null),fo(t,n,i,r),i.state=t.memoizedState),"function"==typeof i.componentDidMount&&(t.flags|=4)}var xo=Array.isArray;function ko(t,e,n){if(null!==(t=n.ref)&&"function"!=typeof t&&"object"!=typeof t){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(s(309));var r=n.stateNode}if(!r)throw Error(s(147,t));var i=""+t;return null!==e&&null!==e.ref&&"function"==typeof e.ref&&e.ref._stringRef===i?e.ref:(e=function(t){var e=r.refs;e===go&&(e=r.refs={}),null===t?delete e[i]:e[i]=t},e._stringRef=i,e)}if("string"!=typeof t)throw Error(s(284));if(!n._owner)throw Error(s(290,t))}return t}function So(t,e){if("textarea"!==t.type)throw Error(s(31,"[object Object]"===Object.prototype.toString.call(e)?"object with keys {"+Object.keys(e).join(", ")+"}":e))}function Oo(t){function e(e,n){if(t){var r=e.lastEffect;null!==r?(r.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n,n.nextEffect=null,n.flags=8}}function n(n,r){if(!t)return null;for(;null!==r;)e(n,r),r=r.sibling;return null}function r(t,e){for(t=new Map;null!==e;)null!==e.key?t.set(e.key,e):t.set(e.index,e),e=e.sibling;return t}function i(t,e){return(t=ql(t,e)).index=0,t.sibling=null,t}function o(e,n,r){return e.index=r,t?null!==(r=e.alternate)?(r=r.index)<n?(e.flags=2,n):r:(e.flags=2,n):n}function a(e){return t&&null===e.alternate&&(e.flags=2),e}function l(t,e,n,r){return null===e||6!==e.tag?((e=Kl(n,t.mode,r)).return=t,e):((e=i(e,n)).return=t,e)}function u(t,e,n,r){return null!==e&&e.elementType===n.type?((r=i(e,n.props)).ref=ko(t,e,n),r.return=t,r):((r=Hl(n.type,n.key,n.props,null,t.mode,r)).ref=ko(t,e,n),r.return=t,r)}function c(t,e,n,r){return null===e||4!==e.tag||e.stateNode.containerInfo!==n.containerInfo||e.stateNode.implementation!==n.implementation?((e=Ql(n,t.mode,r)).return=t,e):((e=i(e,n.children||[])).return=t,e)}function h(t,e,n,r,o){return null===e||7!==e.tag?((e=Wl(n,t.mode,r,o)).return=t,e):((e=i(e,n)).return=t,e)}function f(t,e,n){if("string"==typeof e||"number"==typeof e)return(e=Kl(""+e,t.mode,n)).return=t,e;if("object"==typeof e&&null!==e){switch(e.$$typeof){case x:return(n=Hl(e.type,e.key,e.props,null,t.mode,n)).ref=ko(t,null,e),n.return=t,n;case k:return(e=Ql(e,t.mode,n)).return=t,e}if(xo(e)||U(e))return(e=Wl(e,t.mode,n,null)).return=t,e;So(t,e)}return null}function p(t,e,n,r){var i=null!==e?e.key:null;if("string"==typeof n||"number"==typeof n)return null!==i?null:l(t,e,""+n,r);if("object"==typeof n&&null!==n){switch(n.$$typeof){case x:return n.key===i?n.type===S?h(t,e,n.props.children,r,i):u(t,e,n,r):null;case k:return n.key===i?c(t,e,n,r):null}if(xo(n)||U(n))return null!==i?null:h(t,e,n,r,null);So(t,n)}return null}function d(t,e,n,r,i){if("string"==typeof r||"number"==typeof r)return l(e,t=t.get(n)||null,""+r,i);if("object"==typeof r&&null!==r){switch(r.$$typeof){case x:return t=t.get(null===r.key?n:r.key)||null,r.type===S?h(e,t,r.props.children,i,r.key):u(e,t,r,i);case k:return c(e,t=t.get(null===r.key?n:r.key)||null,r,i)}if(xo(r)||U(r))return h(e,t=t.get(n)||null,r,i,null);So(e,r)}return null}function g(i,s,a,l){for(var u=null,c=null,h=s,g=s=0,m=null;null!==h&&g<a.length;g++){h.index>g?(m=h,h=null):m=h.sibling;var _=p(i,h,a[g],l);if(null===_){null===h&&(h=m);break}t&&h&&null===_.alternate&&e(i,h),s=o(_,s,g),null===c?u=_:c.sibling=_,c=_,h=m}if(g===a.length)return n(i,h),u;if(null===h){for(;g<a.length;g++)null!==(h=f(i,a[g],l))&&(s=o(h,s,g),null===c?u=h:c.sibling=h,c=h);return u}for(h=r(i,h);g<a.length;g++)null!==(m=d(h,i,g,a[g],l))&&(t&&null!==m.alternate&&h.delete(null===m.key?g:m.key),s=o(m,s,g),null===c?u=m:c.sibling=m,c=m);return t&&h.forEach((function(t){return e(i,t)})),u}function m(i,a,l,u){var c=U(l);if("function"!=typeof c)throw Error(s(150));if(null==(l=c.call(l)))throw Error(s(151));for(var h=c=null,g=a,m=a=0,_=null,y=l.next();null!==g&&!y.done;m++,y=l.next()){g.index>m?(_=g,g=null):_=g.sibling;var v=p(i,g,y.value,u);if(null===v){null===g&&(g=_);break}t&&g&&null===v.alternate&&e(i,g),a=o(v,a,m),null===h?c=v:h.sibling=v,h=v,g=_}if(y.done)return n(i,g),c;if(null===g){for(;!y.done;m++,y=l.next())null!==(y=f(i,y.value,u))&&(a=o(y,a,m),null===h?c=y:h.sibling=y,h=y);return c}for(g=r(i,g);!y.done;m++,y=l.next())null!==(y=d(g,i,m,y.value,u))&&(t&&null!==y.alternate&&g.delete(null===y.key?m:y.key),a=o(y,a,m),null===h?c=y:h.sibling=y,h=y);return t&&g.forEach((function(t){return e(i,t)})),c}return function(t,r,o,l){var u="object"==typeof o&&null!==o&&o.type===S&&null===o.key;u&&(o=o.props.children);var c="object"==typeof o&&null!==o;if(c)switch(o.$$typeof){case x:t:{for(c=o.key,u=r;null!==u;){if(u.key===c){if(7===u.tag){if(o.type===S){n(t,u.sibling),(r=i(u,o.props.children)).return=t,t=r;break t}}else if(u.elementType===o.type){n(t,u.sibling),(r=i(u,o.props)).ref=ko(t,u,o),r.return=t,t=r;break t}n(t,u);break}e(t,u),u=u.sibling}o.type===S?((r=Wl(o.props.children,t.mode,l,o.key)).return=t,t=r):((l=Hl(o.type,o.key,o.props,null,t.mode,l)).ref=ko(t,r,o),l.return=t,t=l)}return a(t);case k:t:{for(u=o.key;null!==r;){if(r.key===u){if(4===r.tag&&r.stateNode.containerInfo===o.containerInfo&&r.stateNode.implementation===o.implementation){n(t,r.sibling),(r=i(r,o.children||[])).return=t,t=r;break t}n(t,r);break}e(t,r),r=r.sibling}(r=Ql(o,t.mode,l)).return=t,t=r}return a(t)}if("string"==typeof o||"number"==typeof o)return o=""+o,null!==r&&6===r.tag?(n(t,r.sibling),(r=i(r,o)).return=t,t=r):(n(t,r),(r=Kl(o,t.mode,l)).return=t,t=r),a(t);if(xo(o))return g(t,r,o,l);if(U(o))return m(t,r,o,l);if(c&&So(t,o),void 0===o&&!u)switch(t.tag){case 1:case 22:case 0:case 11:case 15:throw Error(s(152,K(t.type)||"Component"))}return n(t,r)}}var Eo=Oo(!0),Co=Oo(!1),Ao={},Po=li(Ao),To=li(Ao),Mo=li(Ao);function Ro(t){if(t===Ao)throw Error(s(174));return t}function No(t,e){switch(ci(Mo,e),ci(To,t),ci(Po,Ao),t=e.nodeType){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:pt(null,"");break;default:e=pt(e=(t=8===t?e.parentNode:e).namespaceURI||null,t=t.tagName)}ui(Po),ci(Po,e)}function Do(){ui(Po),ui(To),ui(Mo)}function jo(t){Ro(Mo.current);var e=Ro(Po.current),n=pt(e,t.type);e!==n&&(ci(To,t),ci(Po,n))}function Lo(t){To.current===t&&(ui(Po),ui(To))}var Io=li(0);function Bo(t){for(var e=t;null!==e;){if(13===e.tag){var n=e.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return e}else if(19===e.tag&&void 0!==e.memoizedProps.revealOrder){if(0!=(64&e.flags))return e}else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break;for(;null===e.sibling;){if(null===e.return||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var zo=null,Fo=null,Vo=!1;function Uo(t,e){var n=Vl(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=e,n.return=t,n.flags=8,null!==t.lastEffect?(t.lastEffect.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n}function qo(t,e){switch(t.tag){case 5:var n=t.type;return null!==(e=1!==e.nodeType||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e)&&(t.stateNode=e,!0);case 6:return null!==(e=""===t.pendingProps||3!==e.nodeType?null:e)&&(t.stateNode=e,!0);default:return!1}}function Ho(t){if(Vo){var e=Fo;if(e){var n=e;if(!qo(t,e)){if(!(e=Kr(n.nextSibling))||!qo(t,e))return t.flags=-1025&t.flags|2,Vo=!1,void(zo=t);Uo(zo,n)}zo=t,Fo=Kr(e.firstChild)}else t.flags=-1025&t.flags|2,Vo=!1,zo=t}}function Wo(t){for(t=t.return;null!==t&&5!==t.tag&&3!==t.tag&&13!==t.tag;)t=t.return;zo=t}function $o(t){if(t!==zo)return!1;if(!Vo)return Wo(t),Vo=!0,!1;var e=t.type;if(5!==t.tag||"head"!==e&&"body"!==e&&!qr(e,t.memoizedProps))for(e=Fo;e;)Uo(t,e),e=Kr(e.nextSibling);if(Wo(t),13===t.tag){if(!(t=null!==(t=t.memoizedState)?t.dehydrated:null))throw Error(s(317));t:{for(t=t.nextSibling,e=0;t;){if(8===t.nodeType){var n=t.data;if("/$"===n){if(0===e){Fo=Kr(t.nextSibling);break t}e--}else"$"!==n&&"$!"!==n&&"$?"!==n||e++}t=t.nextSibling}Fo=null}}else Fo=zo?Kr(t.stateNode.nextSibling):null;return!0}function Ko(){Fo=zo=null,Vo=!1}var Qo=[];function Go(){for(var t=0;t<Qo.length;t++)Qo[t]._workInProgressVersionPrimary=null;Qo.length=0}var Xo=w.ReactCurrentDispatcher,Jo=w.ReactCurrentBatchConfig,Yo=0,Zo=null,ts=null,es=null,ns=!1,rs=!1;function is(){throw Error(s(321))}function os(t,e){if(null===e)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!ur(t[n],e[n]))return!1;return!0}function ss(t,e,n,r,i,o){if(Yo=o,Zo=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Xo.current=null===t||null===t.memoizedState?Rs:Ns,t=n(r,i),rs){o=0;do{if(rs=!1,!(25>o))throw Error(s(301));o+=1,es=ts=null,e.updateQueue=null,Xo.current=Ds,t=n(r,i)}while(rs)}if(Xo.current=Ms,e=null!==ts&&null!==ts.next,Yo=0,es=ts=Zo=null,ns=!1,e)throw Error(s(300));return t}function as(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===es?Zo.memoizedState=es=t:es=es.next=t,es}function ls(){if(null===ts){var t=Zo.alternate;t=null!==t?t.memoizedState:null}else t=ts.next;var e=null===es?Zo.memoizedState:es.next;if(null!==e)es=e,ts=t;else{if(null===t)throw Error(s(310));t={memoizedState:(ts=t).memoizedState,baseState:ts.baseState,baseQueue:ts.baseQueue,queue:ts.queue,next:null},null===es?Zo.memoizedState=es=t:es=es.next=t}return es}function us(t,e){return"function"==typeof e?e(t):e}function cs(t){var e=ls(),n=e.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=t;var r=ts,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var a=i.next;i.next=o.next,o.next=a}r.baseQueue=i=o,n.pending=null}if(null!==i){i=i.next,r=r.baseState;var l=a=o=null,u=i;do{var c=u.lane;if((Yo&c)===c)null!==l&&(l=l.next={lane:0,action:u.action,eagerReducer:u.eagerReducer,eagerState:u.eagerState,next:null}),r=u.eagerReducer===t?u.eagerState:t(r,u.action);else{var h={lane:c,action:u.action,eagerReducer:u.eagerReducer,eagerState:u.eagerState,next:null};null===l?(a=l=h,o=r):l=l.next=h,Zo.lanes|=c,Ba|=c}u=u.next}while(null!==u&&u!==i);null===l?o=r:l.next=a,ur(r,e.memoizedState)||(Ls=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}return[e.memoizedState,n.dispatch]}function hs(t){var e=ls(),n=e.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,o=e.memoizedState;if(null!==i){n.pending=null;var a=i=i.next;do{o=t(o,a.action),a=a.next}while(a!==i);ur(o,e.memoizedState)||(Ls=!0),e.memoizedState=o,null===e.baseQueue&&(e.baseState=o),n.lastRenderedState=o}return[o,r]}function fs(t,e,n){var r=e._getVersion;r=r(e._source);var i=e._workInProgressVersionPrimary;if(null!==i?t=i===r:(t=t.mutableReadLanes,(t=(Yo&t)===t)&&(e._workInProgressVersionPrimary=r,Qo.push(e))),t)return n(e._source);throw Qo.push(e),Error(s(350))}function ps(t,e,n,r){var i=Ta;if(null===i)throw Error(s(349));var o=e._getVersion,a=o(e._source),l=Xo.current,u=l.useState((function(){return fs(i,e,n)})),c=u[1],h=u[0];u=es;var f=t.memoizedState,p=f.refs,d=p.getSnapshot,g=f.source;f=f.subscribe;var m=Zo;return t.memoizedState={refs:p,source:e,subscribe:r},l.useEffect((function(){p.getSnapshot=n,p.setSnapshot=c;var t=o(e._source);if(!ur(a,t)){t=n(e._source),ur(h,t)||(c(t),t=cl(m),i.mutableReadLanes|=t&i.pendingLanes),t=i.mutableReadLanes,i.entangledLanes|=t;for(var r=i.entanglements,s=t;0<s;){var l=31-qe(s),u=1<<l;r[l]|=t,s&=~u}}}),[n,e,r]),l.useEffect((function(){return r(e._source,(function(){var t=p.getSnapshot,n=p.setSnapshot;try{n(t(e._source));var r=cl(m);i.mutableReadLanes|=r&i.pendingLanes}catch(t){n((function(){throw t}))}}))}),[e,r]),ur(d,n)&&ur(g,e)&&ur(f,r)||((t={pending:null,dispatch:null,lastRenderedReducer:us,lastRenderedState:h}).dispatch=c=Ts.bind(null,Zo,t),u.queue=t,u.baseQueue=null,h=fs(i,e,n),u.memoizedState=u.baseState=h),h}function ds(t,e,n){return ps(ls(),t,e,n)}function gs(t){var e=as();return"function"==typeof t&&(t=t()),e.memoizedState=e.baseState=t,t=(t=e.queue={pending:null,dispatch:null,lastRenderedReducer:us,lastRenderedState:t}).dispatch=Ts.bind(null,Zo,t),[e.memoizedState,t]}function ms(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},null===(e=Zo.updateQueue)?(e={lastEffect:null},Zo.updateQueue=e,e.lastEffect=t.next=t):null===(n=e.lastEffect)?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t),t}function _s(t){return t={current:t},as().memoizedState=t}function ys(){return ls().memoizedState}function vs(t,e,n,r){var i=as();Zo.flags|=t,i.memoizedState=ms(1|e,n,void 0,void 0===r?null:r)}function bs(t,e,n,r){var i=ls();r=void 0===r?null:r;var o=void 0;if(null!==ts){var s=ts.memoizedState;if(o=s.destroy,null!==r&&os(r,s.deps))return void ms(e,n,o,r)}Zo.flags|=t,i.memoizedState=ms(1|e,n,o,r)}function ws(t,e){return vs(516,4,t,e)}function xs(t,e){return bs(516,4,t,e)}function ks(t,e){return bs(4,2,t,e)}function Ss(t,e){return"function"==typeof e?(t=t(),e(t),function(){e(null)}):null!=e?(t=t(),e.current=t,function(){e.current=null}):void 0}function Os(t,e,n){return n=null!=n?n.concat([t]):null,bs(4,2,Ss.bind(null,e,t),n)}function Es(){}function Cs(t,e){var n=ls();e=void 0===e?null:e;var r=n.memoizedState;return null!==r&&null!==e&&os(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function As(t,e){var n=ls();e=void 0===e?null:e;var r=n.memoizedState;return null!==r&&null!==e&&os(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function Ps(t,e){var n=qi();Wi(98>n?98:n,(function(){t(!0)})),Wi(97<n?97:n,(function(){var n=Jo.transition;Jo.transition=1;try{t(!1),e()}finally{Jo.transition=n}}))}function Ts(t,e,n){var r=ul(),i=cl(t),o={lane:i,action:n,eagerReducer:null,eagerState:null,next:null},s=e.pending;if(null===s?o.next=o:(o.next=s.next,s.next=o),e.pending=o,s=t.alternate,t===Zo||null!==s&&s===Zo)rs=ns=!0;else{if(0===t.lanes&&(null===s||0===s.lanes)&&null!==(s=e.lastRenderedReducer))try{var a=e.lastRenderedState,l=s(a,n);if(o.eagerReducer=s,o.eagerState=l,ur(l,a))return}catch(t){}hl(t,i,r)}}var Ms={readContext:oo,useCallback:is,useContext:is,useEffect:is,useImperativeHandle:is,useLayoutEffect:is,useMemo:is,useReducer:is,useRef:is,useState:is,useDebugValue:is,useDeferredValue:is,useTransition:is,useMutableSource:is,useOpaqueIdentifier:is,unstable_isNewReconciler:!1},Rs={readContext:oo,useCallback:function(t,e){return as().memoizedState=[t,void 0===e?null:e],t},useContext:oo,useEffect:ws,useImperativeHandle:function(t,e,n){return n=null!=n?n.concat([t]):null,vs(4,2,Ss.bind(null,e,t),n)},useLayoutEffect:function(t,e){return vs(4,2,t,e)},useMemo:function(t,e){var n=as();return e=void 0===e?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=as();return e=void 0!==n?n(e):e,r.memoizedState=r.baseState=e,t=(t=r.queue={pending:null,dispatch:null,lastRenderedReducer:t,lastRenderedState:e}).dispatch=Ts.bind(null,Zo,t),[r.memoizedState,t]},useRef:_s,useState:gs,useDebugValue:Es,useDeferredValue:function(t){var e=gs(t),n=e[0],r=e[1];return ws((function(){var e=Jo.transition;Jo.transition=1;try{r(t)}finally{Jo.transition=e}}),[t]),n},useTransition:function(){var t=gs(!1),e=t[0];return _s(t=Ps.bind(null,t[1])),[t,e]},useMutableSource:function(t,e,n){var r=as();return r.memoizedState={refs:{getSnapshot:e,setSnapshot:null},source:t,subscribe:n},ps(r,t,e,n)},useOpaqueIdentifier:function(){if(Vo){var t=!1,e=function(t){return{$$typeof:j,toString:t,valueOf:t}}((function(){throw t||(t=!0,n("r:"+(Gr++).toString(36))),Error(s(355))})),n=gs(e)[1];return 0==(2&Zo.mode)&&(Zo.flags|=516,ms(5,(function(){n("r:"+(Gr++).toString(36))}),void 0,null)),e}return gs(e="r:"+(Gr++).toString(36)),e},unstable_isNewReconciler:!1},Ns={readContext:oo,useCallback:Cs,useContext:oo,useEffect:xs,useImperativeHandle:Os,useLayoutEffect:ks,useMemo:As,useReducer:cs,useRef:ys,useState:function(){return cs(us)},useDebugValue:Es,useDeferredValue:function(t){var e=cs(us),n=e[0],r=e[1];return xs((function(){var e=Jo.transition;Jo.transition=1;try{r(t)}finally{Jo.transition=e}}),[t]),n},useTransition:function(){var t=cs(us)[0];return[ys().current,t]},useMutableSource:ds,useOpaqueIdentifier:function(){return cs(us)[0]},unstable_isNewReconciler:!1},Ds={readContext:oo,useCallback:Cs,useContext:oo,useEffect:xs,useImperativeHandle:Os,useLayoutEffect:ks,useMemo:As,useReducer:hs,useRef:ys,useState:function(){return hs(us)},useDebugValue:Es,useDeferredValue:function(t){var e=hs(us),n=e[0],r=e[1];return xs((function(){var e=Jo.transition;Jo.transition=1;try{r(t)}finally{Jo.transition=e}}),[t]),n},useTransition:function(){var t=hs(us)[0];return[ys().current,t]},useMutableSource:ds,useOpaqueIdentifier:function(){return hs(us)[0]},unstable_isNewReconciler:!1},js=w.ReactCurrentOwner,Ls=!1;function Is(t,e,n,r){e.child=null===t?Co(e,null,n,r):Eo(e,t.child,n,r)}function Bs(t,e,n,r,i){n=n.render;var o=e.ref;return io(e,i),r=ss(t,e,n,r,o,i),null===t||Ls?(e.flags|=1,Is(t,e,r,i),e.child):(e.updateQueue=t.updateQueue,e.flags&=-517,t.lanes&=~i,na(t,e,i))}function zs(t,e,n,r,i,o){if(null===t){var s=n.type;return"function"!=typeof s||Ul(s)||void 0!==s.defaultProps||null!==n.compare||void 0!==n.defaultProps?((t=Hl(n.type,null,r,e,e.mode,o)).ref=e.ref,t.return=e,e.child=t):(e.tag=15,e.type=s,Fs(t,e,s,r,i,o))}return s=t.child,0==(i&o)&&(i=s.memoizedProps,(n=null!==(n=n.compare)?n:hr)(i,r)&&t.ref===e.ref)?na(t,e,o):(e.flags|=1,(t=ql(s,r)).ref=e.ref,t.return=e,e.child=t)}function Fs(t,e,n,r,i,o){if(null!==t&&hr(t.memoizedProps,r)&&t.ref===e.ref){if(Ls=!1,0==(o&i))return e.lanes=t.lanes,na(t,e,o);0!=(16384&t.flags)&&(Ls=!0)}return qs(t,e,n,r,o)}function Vs(t,e,n){var r=e.pendingProps,i=r.children,o=null!==t?t.memoizedState:null;if("hidden"===r.mode||"unstable-defer-without-hiding"===r.mode)if(0==(4&e.mode))e.memoizedState={baseLanes:0},vl(0,n);else{if(0==(1073741824&n))return t=null!==o?o.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t},vl(0,t),null;e.memoizedState={baseLanes:0},vl(0,null!==o?o.baseLanes:n)}else null!==o?(r=o.baseLanes|n,e.memoizedState=null):r=n,vl(0,r);return Is(t,e,i,n),e.child}function Us(t,e){var n=e.ref;(null===t&&null!==n||null!==t&&t.ref!==n)&&(e.flags|=128)}function qs(t,e,n,r,i){var o=mi(n)?di:fi.current;return o=gi(e,o),io(e,i),n=ss(t,e,n,r,o,i),null===t||Ls?(e.flags|=1,Is(t,e,n,i),e.child):(e.updateQueue=t.updateQueue,e.flags&=-517,t.lanes&=~i,na(t,e,i))}function Hs(t,e,n,r,i){if(mi(n)){var o=!0;bi(e)}else o=!1;if(io(e,i),null===e.stateNode)null!==t&&(t.alternate=null,e.alternate=null,e.flags|=2),vo(e,n,r),wo(e,n,r,i),r=!0;else if(null===t){var s=e.stateNode,a=e.memoizedProps;s.props=a;var l=s.context,u=n.contextType;u="object"==typeof u&&null!==u?oo(u):gi(e,u=mi(n)?di:fi.current);var c=n.getDerivedStateFromProps,h="function"==typeof c||"function"==typeof s.getSnapshotBeforeUpdate;h||"function"!=typeof s.UNSAFE_componentWillReceiveProps&&"function"!=typeof s.componentWillReceiveProps||(a!==r||l!==u)&&bo(e,s,r,u),so=!1;var f=e.memoizedState;s.state=f,fo(e,r,s,i),l=e.memoizedState,a!==r||f!==l||pi.current||so?("function"==typeof c&&(mo(e,n,c,r),l=e.memoizedState),(a=so||yo(e,n,a,r,f,l,u))?(h||"function"!=typeof s.UNSAFE_componentWillMount&&"function"!=typeof s.componentWillMount||("function"==typeof s.componentWillMount&&s.componentWillMount(),"function"==typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount()),"function"==typeof s.componentDidMount&&(e.flags|=4)):("function"==typeof s.componentDidMount&&(e.flags|=4),e.memoizedProps=r,e.memoizedState=l),s.props=r,s.state=l,s.context=u,r=a):("function"==typeof s.componentDidMount&&(e.flags|=4),r=!1)}else{s=e.stateNode,lo(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:Xi(e.type,a),s.props=u,h=e.pendingProps,f=s.context,l="object"==typeof(l=n.contextType)&&null!==l?oo(l):gi(e,l=mi(n)?di:fi.current);var p=n.getDerivedStateFromProps;(c="function"==typeof p||"function"==typeof s.getSnapshotBeforeUpdate)||"function"!=typeof s.UNSAFE_componentWillReceiveProps&&"function"!=typeof s.componentWillReceiveProps||(a!==h||f!==l)&&bo(e,s,r,l),so=!1,f=e.memoizedState,s.state=f,fo(e,r,s,i);var d=e.memoizedState;a!==h||f!==d||pi.current||so?("function"==typeof p&&(mo(e,n,p,r),d=e.memoizedState),(u=so||yo(e,n,u,r,f,d,l))?(c||"function"!=typeof s.UNSAFE_componentWillUpdate&&"function"!=typeof s.componentWillUpdate||("function"==typeof s.componentWillUpdate&&s.componentWillUpdate(r,d,l),"function"==typeof s.UNSAFE_componentWillUpdate&&s.UNSAFE_componentWillUpdate(r,d,l)),"function"==typeof s.componentDidUpdate&&(e.flags|=4),"function"==typeof s.getSnapshotBeforeUpdate&&(e.flags|=256)):("function"!=typeof s.componentDidUpdate||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),"function"!=typeof s.getSnapshotBeforeUpdate||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=256),e.memoizedProps=r,e.memoizedState=d),s.props=r,s.state=d,s.context=l,r=u):("function"!=typeof s.componentDidUpdate||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),"function"!=typeof s.getSnapshotBeforeUpdate||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=256),r=!1)}return Ws(t,e,n,r,o,i)}function Ws(t,e,n,r,i,o){Us(t,e);var s=0!=(64&e.flags);if(!r&&!s)return i&&wi(e,n,!1),na(t,e,o);r=e.stateNode,js.current=e;var a=s&&"function"!=typeof n.getDerivedStateFromError?null:r.render();return e.flags|=1,null!==t&&s?(e.child=Eo(e,t.child,null,o),e.child=Eo(e,null,a,o)):Is(t,e,a,o),e.memoizedState=r.state,i&&wi(e,n,!0),e.child}function $s(t){var e=t.stateNode;e.pendingContext?yi(0,e.pendingContext,e.pendingContext!==e.context):e.context&&yi(0,e.context,!1),No(t,e.containerInfo)}var Ks,Qs,Gs,Xs={dehydrated:null,retryLane:0};function Js(t,e,n){var r,i=e.pendingProps,o=Io.current,s=!1;return(r=0!=(64&e.flags))||(r=(null===t||null!==t.memoizedState)&&0!=(2&o)),r?(s=!0,e.flags&=-65):null!==t&&null===t.memoizedState||void 0===i.fallback||!0===i.unstable_avoidThisFallback||(o|=1),ci(Io,1&o),null===t?(void 0!==i.fallback&&Ho(e),t=i.children,o=i.fallback,s?(t=Ys(e,t,o,n),e.child.memoizedState={baseLanes:n},e.memoizedState=Xs,t):"number"==typeof i.unstable_expectedLoadTime?(t=Ys(e,t,o,n),e.child.memoizedState={baseLanes:n},e.memoizedState=Xs,e.lanes=33554432,t):((n=$l({mode:"visible",children:t},e.mode,n,null)).return=e,e.child=n)):(t.memoizedState,s?(i=function(t,e,n,r,i){var o=e.mode,s=t.child;t=s.sibling;var a={mode:"hidden",children:n};return 0==(2&o)&&e.child!==s?((n=e.child).childLanes=0,n.pendingProps=a,null!==(s=n.lastEffect)?(e.firstEffect=n.firstEffect,e.lastEffect=s,s.nextEffect=null):e.firstEffect=e.lastEffect=null):n=ql(s,a),null!==t?r=ql(t,r):(r=Wl(r,o,i,null)).flags|=2,r.return=e,n.return=e,n.sibling=r,e.child=n,r}(t,e,i.children,i.fallback,n),s=e.child,o=t.child.memoizedState,s.memoizedState=null===o?{baseLanes:n}:{baseLanes:o.baseLanes|n},s.childLanes=t.childLanes&~n,e.memoizedState=Xs,i):(n=function(t,e,n,r){var i=t.child;return t=i.sibling,n=ql(i,{mode:"visible",children:n}),0==(2&e.mode)&&(n.lanes=r),n.return=e,n.sibling=null,null!==t&&(t.nextEffect=null,t.flags=8,e.firstEffect=e.lastEffect=t),e.child=n}(t,e,i.children,n),e.memoizedState=null,n))}function Ys(t,e,n,r){var i=t.mode,o=t.child;return e={mode:"hidden",children:e},0==(2&i)&&null!==o?(o.childLanes=0,o.pendingProps=e):o=$l(e,i,0,null),n=Wl(n,i,r,null),o.return=t,n.return=t,o.sibling=n,t.child=o,n}function Zs(t,e){t.lanes|=e;var n=t.alternate;null!==n&&(n.lanes|=e),ro(t.return,e)}function ta(t,e,n,r,i,o){var s=t.memoizedState;null===s?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i,lastEffect:o}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i,s.lastEffect=o)}function ea(t,e,n){var r=e.pendingProps,i=r.revealOrder,o=r.tail;if(Is(t,e,r.children,n),0!=(2&(r=Io.current)))r=1&r|2,e.flags|=64;else{if(null!==t&&0!=(64&t.flags))t:for(t=e.child;null!==t;){if(13===t.tag)null!==t.memoizedState&&Zs(t,n);else if(19===t.tag)Zs(t,n);else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break t;for(;null===t.sibling;){if(null===t.return||t.return===e)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(ci(Io,r),0==(2&e.mode))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;null!==n;)null!==(t=n.alternate)&&null===Bo(t)&&(i=n),n=n.sibling;null===(n=i)?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),ta(e,!1,i,n,o,e.lastEffect);break;case"backwards":for(n=null,i=e.child,e.child=null;null!==i;){if(null!==(t=i.alternate)&&null===Bo(t)){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}ta(e,!0,n,null,o,e.lastEffect);break;case"together":ta(e,!1,null,null,void 0,e.lastEffect);break;default:e.memoizedState=null}return e.child}function na(t,e,n){if(null!==t&&(e.dependencies=t.dependencies),Ba|=e.lanes,0!=(n&e.childLanes)){if(null!==t&&e.child!==t.child)throw Error(s(153));if(null!==e.child){for(n=ql(t=e.child,t.pendingProps),e.child=n,n.return=e;null!==t.sibling;)t=t.sibling,(n=n.sibling=ql(t,t.pendingProps)).return=e;n.sibling=null}return e.child}return null}function ra(t,e){if(!Vo)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;null!==e;)null!==e.alternate&&(n=e),e=e.sibling;null===n?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?e||null===t.tail?t.tail=null:t.tail.sibling=null:r.sibling=null}}function ia(t,e,n){var r=e.pendingProps;switch(e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:case 17:return mi(e.type)&&_i(),null;case 3:return Do(),ui(pi),ui(fi),Go(),(r=e.stateNode).pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==t&&null!==t.child||($o(e)?e.flags|=4:r.hydrate||(e.flags|=256)),null;case 5:Lo(e);var o=Ro(Mo.current);if(n=e.type,null!==t&&null!=e.stateNode)Qs(t,e,n,r),t.ref!==e.ref&&(e.flags|=128);else{if(!r){if(null===e.stateNode)throw Error(s(166));return null}if(t=Ro(Po.current),$o(e)){r=e.stateNode,n=e.type;var a=e.memoizedProps;switch(r[Jr]=e,r[Yr]=a,n){case"dialog":Pr("cancel",r),Pr("close",r);break;case"iframe":case"object":case"embed":Pr("load",r);break;case"video":case"audio":for(t=0;t<Or.length;t++)Pr(Or[t],r);break;case"source":Pr("error",r);break;case"img":case"image":case"link":Pr("error",r),Pr("load",r);break;case"details":Pr("toggle",r);break;case"input":tt(r,a),Pr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},Pr("invalid",r);break;case"textarea":lt(r,a),Pr("invalid",r)}for(var u in kt(n,a),t=null,a)a.hasOwnProperty(u)&&(o=a[u],"children"===u?"string"==typeof o?r.textContent!==o&&(t=["children",o]):"number"==typeof o&&r.textContent!==""+o&&(t=["children",""+o]):l.hasOwnProperty(u)&&null!=o&&"onScroll"===u&&Pr("scroll",r));switch(n){case"input":X(r),rt(r,a,!0);break;case"textarea":X(r),ct(r);break;case"select":case"option":break;default:"function"==typeof a.onClick&&(r.onclick=zr)}r=t,e.updateQueue=r,null!==r&&(e.flags|=4)}else{switch(u=9===o.nodeType?o:o.ownerDocument,t===ht&&(t=ft(n)),t===ht?"script"===n?((t=u.createElement("div")).innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):"string"==typeof r.is?t=u.createElement(n,{is:r.is}):(t=u.createElement(n),"select"===n&&(u=t,r.multiple?u.multiple=!0:r.size&&(u.size=r.size))):t=u.createElementNS(t,n),t[Jr]=e,t[Yr]=r,Ks(t,e),e.stateNode=t,u=St(n,r),n){case"dialog":Pr("cancel",t),Pr("close",t),o=r;break;case"iframe":case"object":case"embed":Pr("load",t),o=r;break;case"video":case"audio":for(o=0;o<Or.length;o++)Pr(Or[o],t);o=r;break;case"source":Pr("error",t),o=r;break;case"img":case"image":case"link":Pr("error",t),Pr("load",t),o=r;break;case"details":Pr("toggle",t),o=r;break;case"input":tt(t,r),o=Z(t,r),Pr("invalid",t);break;case"option":o=ot(t,r);break;case"select":t._wrapperState={wasMultiple:!!r.multiple},o=i({},r,{value:void 0}),Pr("invalid",t);break;case"textarea":lt(t,r),o=at(t,r),Pr("invalid",t);break;default:o=r}kt(n,o);var c=o;for(a in c)if(c.hasOwnProperty(a)){var h=c[a];"style"===a?wt(t,h):"dangerouslySetInnerHTML"===a?null!=(h=h?h.__html:void 0)&&mt(t,h):"children"===a?"string"==typeof h?("textarea"!==n||""!==h)&&_t(t,h):"number"==typeof h&&_t(t,""+h):"suppressContentEditableWarning"!==a&&"suppressHydrationWarning"!==a&&"autoFocus"!==a&&(l.hasOwnProperty(a)?null!=h&&"onScroll"===a&&Pr("scroll",t):null!=h&&b(t,a,h,u))}switch(n){case"input":X(t),rt(t,r,!1);break;case"textarea":X(t),ct(t);break;case"option":null!=r.value&&t.setAttribute("value",""+Q(r.value));break;case"select":t.multiple=!!r.multiple,null!=(a=r.value)?st(t,!!r.multiple,a,!1):null!=r.defaultValue&&st(t,!!r.multiple,r.defaultValue,!0);break;default:"function"==typeof o.onClick&&(t.onclick=zr)}Ur(n,r)&&(e.flags|=4)}null!==e.ref&&(e.flags|=128)}return null;case 6:if(t&&null!=e.stateNode)Gs(0,e,t.memoizedProps,r);else{if("string"!=typeof r&&null===e.stateNode)throw Error(s(166));n=Ro(Mo.current),Ro(Po.current),$o(e)?(r=e.stateNode,n=e.memoizedProps,r[Jr]=e,r.nodeValue!==n&&(e.flags|=4)):((r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[Jr]=e,e.stateNode=r)}return null;case 13:return ui(Io),r=e.memoizedState,0!=(64&e.flags)?(e.lanes=n,e):(r=null!==r,n=!1,null===t?void 0!==e.memoizedProps.fallback&&$o(e):n=null!==t.memoizedState,r&&!n&&0!=(2&e.mode)&&(null===t&&!0!==e.memoizedProps.unstable_avoidThisFallback||0!=(1&Io.current)?0===ja&&(ja=3):(0!==ja&&3!==ja||(ja=4),null===Ta||0==(134217727&Ba)&&0==(134217727&za)||gl(Ta,Ra))),(r||n)&&(e.flags|=4),null);case 4:return Do(),null===t&&Mr(e.stateNode.containerInfo),null;case 10:return no(e),null;case 19:if(ui(Io),null===(r=e.memoizedState))return null;if(a=0!=(64&e.flags),null===(u=r.rendering))if(a)ra(r,!1);else{if(0!==ja||null!==t&&0!=(64&t.flags))for(t=e.child;null!==t;){if(null!==(u=Bo(t))){for(e.flags|=64,ra(r,!1),null!==(a=u.updateQueue)&&(e.updateQueue=a,e.flags|=4),null===r.lastEffect&&(e.firstEffect=null),e.lastEffect=r.lastEffect,r=n,n=e.child;null!==n;)t=r,(a=n).flags&=2,a.nextEffect=null,a.firstEffect=null,a.lastEffect=null,null===(u=a.alternate)?(a.childLanes=0,a.lanes=t,a.child=null,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=u.childLanes,a.lanes=u.lanes,a.child=u.child,a.memoizedProps=u.memoizedProps,a.memoizedState=u.memoizedState,a.updateQueue=u.updateQueue,a.type=u.type,t=u.dependencies,a.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return ci(Io,1&Io.current|2),e.child}t=t.sibling}null!==r.tail&&Ui()>qa&&(e.flags|=64,a=!0,ra(r,!1),e.lanes=33554432)}else{if(!a)if(null!==(t=Bo(u))){if(e.flags|=64,a=!0,null!==(n=t.updateQueue)&&(e.updateQueue=n,e.flags|=4),ra(r,!0),null===r.tail&&"hidden"===r.tailMode&&!u.alternate&&!Vo)return null!==(e=e.lastEffect=r.lastEffect)&&(e.nextEffect=null),null}else 2*Ui()-r.renderingStartTime>qa&&1073741824!==n&&(e.flags|=64,a=!0,ra(r,!1),e.lanes=33554432);r.isBackwards?(u.sibling=e.child,e.child=u):(null!==(n=r.last)?n.sibling=u:e.child=u,r.last=u)}return null!==r.tail?(n=r.tail,r.rendering=n,r.tail=n.sibling,r.lastEffect=e.lastEffect,r.renderingStartTime=Ui(),n.sibling=null,e=Io.current,ci(Io,a?1&e|2:1&e),n):null;case 23:case 24:return bl(),null!==t&&null!==t.memoizedState!=(null!==e.memoizedState)&&"unstable-defer-without-hiding"!==r.mode&&(e.flags|=4),null}throw Error(s(156,e.tag))}function oa(t){switch(t.tag){case 1:mi(t.type)&&_i();var e=t.flags;return 4096&e?(t.flags=-4097&e|64,t):null;case 3:if(Do(),ui(pi),ui(fi),Go(),0!=(64&(e=t.flags)))throw Error(s(285));return t.flags=-4097&e|64,t;case 5:return Lo(t),null;case 13:return ui(Io),4096&(e=t.flags)?(t.flags=-4097&e|64,t):null;case 19:return ui(Io),null;case 4:return Do(),null;case 10:return no(t),null;case 23:case 24:return bl(),null;default:return null}}function sa(t,e){try{var n="",r=e;do{n+=$(r),r=r.return}while(r);var i=n}catch(t){i="\nError generating stack: "+t.message+"\n"+t.stack}return{value:t,source:e,stack:i}}function aa(t,e){try{console.error(e.value)}catch(t){setTimeout((function(){throw t}))}}Ks=function(t,e){for(var n=e.child;null!==n;){if(5===n.tag||6===n.tag)t.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Qs=function(t,e,n,r){var o=t.memoizedProps;if(o!==r){t=e.stateNode,Ro(Po.current);var s,a=null;switch(n){case"input":o=Z(t,o),r=Z(t,r),a=[];break;case"option":o=ot(t,o),r=ot(t,r),a=[];break;case"select":o=i({},o,{value:void 0}),r=i({},r,{value:void 0}),a=[];break;case"textarea":o=at(t,o),r=at(t,r),a=[];break;default:"function"!=typeof o.onClick&&"function"==typeof r.onClick&&(t.onclick=zr)}for(h in kt(n,r),n=null,o)if(!r.hasOwnProperty(h)&&o.hasOwnProperty(h)&&null!=o[h])if("style"===h){var u=o[h];for(s in u)u.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else"dangerouslySetInnerHTML"!==h&&"children"!==h&&"suppressContentEditableWarning"!==h&&"suppressHydrationWarning"!==h&&"autoFocus"!==h&&(l.hasOwnProperty(h)?a||(a=[]):(a=a||[]).push(h,null));for(h in r){var c=r[h];if(u=null!=o?o[h]:void 0,r.hasOwnProperty(h)&&c!==u&&(null!=c||null!=u))if("style"===h)if(u){for(s in u)!u.hasOwnProperty(s)||c&&c.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in c)c.hasOwnProperty(s)&&u[s]!==c[s]&&(n||(n={}),n[s]=c[s])}else n||(a||(a=[]),a.push(h,n)),n=c;else"dangerouslySetInnerHTML"===h?(c=c?c.__html:void 0,u=u?u.__html:void 0,null!=c&&u!==c&&(a=a||[]).push(h,c)):"children"===h?"string"!=typeof c&&"number"!=typeof c||(a=a||[]).push(h,""+c):"suppressContentEditableWarning"!==h&&"suppressHydrationWarning"!==h&&(l.hasOwnProperty(h)?(null!=c&&"onScroll"===h&&Pr("scroll",t),a||u===c||(a=[])):"object"==typeof c&&null!==c&&c.$$typeof===j?c.toString():(a=a||[]).push(h,c))}n&&(a=a||[]).push("style",n);var h=a;(e.updateQueue=h)&&(e.flags|=4)}},Gs=function(t,e,n,r){n!==r&&(e.flags|=4)};var la="function"==typeof WeakMap?WeakMap:Map;function ua(t,e,n){(n=uo(-1,n)).tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Ka||(Ka=!0,Qa=r),aa(0,e)},n}function ca(t,e,n){(n=uo(-1,n)).tag=3;var r=t.type.getDerivedStateFromError;if("function"==typeof r){var i=e.value;n.payload=function(){return aa(0,e),r(i)}}var o=t.stateNode;return null!==o&&"function"==typeof o.componentDidCatch&&(n.callback=function(){"function"!=typeof r&&(null===Ga?Ga=new Set([this]):Ga.add(this),aa(0,e));var t=e.stack;this.componentDidCatch(e.value,{componentStack:null!==t?t:""})}),n}var ha="function"==typeof WeakSet?WeakSet:Set;function fa(t){var e=t.ref;if(null!==e)if("function"==typeof e)try{e(null)}catch(e){Il(t,e)}else e.current=null}function pa(t,e){switch(e.tag){case 0:case 11:case 15:case 22:case 5:case 6:case 4:case 17:return;case 1:if(256&e.flags&&null!==t){var n=t.memoizedProps,r=t.memoizedState;e=(t=e.stateNode).getSnapshotBeforeUpdate(e.elementType===e.type?n:Xi(e.type,n),r),t.__reactInternalSnapshotBeforeUpdate=e}return;case 3:return void(256&e.flags&&$r(e.stateNode.containerInfo))}throw Error(s(163))}function da(t,e,n){switch(n.tag){case 0:case 11:case 15:case 22:if(null!==(e=null!==(e=n.updateQueue)?e.lastEffect:null)){t=e=e.next;do{if(3==(3&t.tag)){var r=t.create;t.destroy=r()}t=t.next}while(t!==e)}if(null!==(e=null!==(e=n.updateQueue)?e.lastEffect:null)){t=e=e.next;do{var i=t;r=i.next,0!=(4&(i=i.tag))&&0!=(1&i)&&(Dl(n,t),Nl(n,t)),t=r}while(t!==e)}return;case 1:return t=n.stateNode,4&n.flags&&(null===e?t.componentDidMount():(r=n.elementType===n.type?e.memoizedProps:Xi(n.type,e.memoizedProps),t.componentDidUpdate(r,e.memoizedState,t.__reactInternalSnapshotBeforeUpdate))),void(null!==(e=n.updateQueue)&&po(n,e,t));case 3:if(null!==(e=n.updateQueue)){if(t=null,null!==n.child)switch(n.child.tag){case 5:case 1:t=n.child.stateNode}po(n,e,t)}return;case 5:return t=n.stateNode,void(null===e&&4&n.flags&&Ur(n.type,n.memoizedProps)&&t.focus());case 6:case 4:case 12:case 19:case 17:case 20:case 21:case 23:case 24:return;case 13:return void(null===n.memoizedState&&(n=n.alternate,null!==n&&(n=n.memoizedState,null!==n&&(n=n.dehydrated,null!==n&&we(n)))))}throw Error(s(163))}function ga(t,e){for(var n=t;;){if(5===n.tag){var r=n.stateNode;if(e)"function"==typeof(r=r.style).setProperty?r.setProperty("display","none","important"):r.display="none";else{r=n.stateNode;var i=n.memoizedProps.style;i=null!=i&&i.hasOwnProperty("display")?i.display:null,r.style.display=bt("display",i)}}else if(6===n.tag)n.stateNode.nodeValue=e?"":n.memoizedProps;else if((23!==n.tag&&24!==n.tag||null===n.memoizedState||n===t)&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}}function ma(t,e){if(ki&&"function"==typeof ki.onCommitFiberUnmount)try{ki.onCommitFiberUnmount(xi,e)}catch(t){}switch(e.tag){case 0:case 11:case 14:case 15:case 22:if(null!==(t=e.updateQueue)&&null!==(t=t.lastEffect)){var n=t=t.next;do{var r=n,i=r.destroy;if(r=r.tag,void 0!==i)if(0!=(4&r))Dl(e,n);else{r=e;try{i()}catch(t){Il(r,t)}}n=n.next}while(n!==t)}break;case 1:if(fa(e),"function"==typeof(t=e.stateNode).componentWillUnmount)try{t.props=e.memoizedProps,t.state=e.memoizedState,t.componentWillUnmount()}catch(t){Il(e,t)}break;case 5:fa(e);break;case 4:xa(t,e)}}function _a(t){t.alternate=null,t.child=null,t.dependencies=null,t.firstEffect=null,t.lastEffect=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.return=null,t.updateQueue=null}function ya(t){return 5===t.tag||3===t.tag||4===t.tag}function va(t){t:{for(var e=t.return;null!==e;){if(ya(e))break t;e=e.return}throw Error(s(160))}var n=e;switch(e=n.stateNode,n.tag){case 5:var r=!1;break;case 3:case 4:e=e.containerInfo,r=!0;break;default:throw Error(s(161))}16&n.flags&&(_t(e,""),n.flags&=-17);t:e:for(n=t;;){for(;null===n.sibling;){if(null===n.return||ya(n.return)){n=null;break t}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.flags)continue e;if(null===n.child||4===n.tag)continue e;n.child.return=n,n=n.child}if(!(2&n.flags)){n=n.stateNode;break t}}r?ba(t,n,e):wa(t,n,e)}function ba(t,e,n){var r=t.tag,i=5===r||6===r;if(i)t=i?t.stateNode:t.stateNode.instance,e?8===n.nodeType?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(8===n.nodeType?(e=n.parentNode).insertBefore(t,n):(e=n).appendChild(t),null!=(n=n._reactRootContainer)||null!==e.onclick||(e.onclick=zr));else if(4!==r&&null!==(t=t.child))for(ba(t,e,n),t=t.sibling;null!==t;)ba(t,e,n),t=t.sibling}function wa(t,e,n){var r=t.tag,i=5===r||6===r;if(i)t=i?t.stateNode:t.stateNode.instance,e?n.insertBefore(t,e):n.appendChild(t);else if(4!==r&&null!==(t=t.child))for(wa(t,e,n),t=t.sibling;null!==t;)wa(t,e,n),t=t.sibling}function xa(t,e){for(var n,r,i=e,o=!1;;){if(!o){o=i.return;t:for(;;){if(null===o)throw Error(s(160));switch(n=o.stateNode,o.tag){case 5:r=!1;break t;case 3:case 4:n=n.containerInfo,r=!0;break t}o=o.return}o=!0}if(5===i.tag||6===i.tag){t:for(var a=t,l=i,u=l;;)if(ma(a,u),null!==u.child&&4!==u.tag)u.child.return=u,u=u.child;else{if(u===l)break t;for(;null===u.sibling;){if(null===u.return||u.return===l)break t;u=u.return}u.sibling.return=u.return,u=u.sibling}r?(a=n,l=i.stateNode,8===a.nodeType?a.parentNode.removeChild(l):a.removeChild(l)):n.removeChild(i.stateNode)}else if(4===i.tag){if(null!==i.child){n=i.stateNode.containerInfo,r=!0,i.child.return=i,i=i.child;continue}}else if(ma(t,i),null!==i.child){i.child.return=i,i=i.child;continue}if(i===e)break;for(;null===i.sibling;){if(null===i.return||i.return===e)return;4===(i=i.return).tag&&(o=!1)}i.sibling.return=i.return,i=i.sibling}}function ka(t,e){switch(e.tag){case 0:case 11:case 14:case 15:case 22:var n=e.updateQueue;if(null!==(n=null!==n?n.lastEffect:null)){var r=n=n.next;do{3==(3&r.tag)&&(t=r.destroy,r.destroy=void 0,void 0!==t&&t()),r=r.next}while(r!==n)}return;case 1:case 12:case 17:return;case 5:if(null!=(n=e.stateNode)){r=e.memoizedProps;var i=null!==t?t.memoizedProps:r;t=e.type;var o=e.updateQueue;if(e.updateQueue=null,null!==o){for(n[Yr]=r,"input"===t&&"radio"===r.type&&null!=r.name&&et(n,r),St(t,i),e=St(t,r),i=0;i<o.length;i+=2){var a=o[i],l=o[i+1];"style"===a?wt(n,l):"dangerouslySetInnerHTML"===a?mt(n,l):"children"===a?_t(n,l):b(n,a,l,e)}switch(t){case"input":nt(n,r);break;case"textarea":ut(n,r);break;case"select":t=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!r.multiple,null!=(o=r.value)?st(n,!!r.multiple,o,!1):t!==!!r.multiple&&(null!=r.defaultValue?st(n,!!r.multiple,r.defaultValue,!0):st(n,!!r.multiple,r.multiple?[]:"",!1))}}}return;case 6:if(null===e.stateNode)throw Error(s(162));return void(e.stateNode.nodeValue=e.memoizedProps);case 3:return void((n=e.stateNode).hydrate&&(n.hydrate=!1,we(n.containerInfo)));case 13:return null!==e.memoizedState&&(Ua=Ui(),ga(e.child,!0)),void Sa(e);case 19:return void Sa(e);case 23:case 24:return void ga(e,null!==e.memoizedState)}throw Error(s(163))}function Sa(t){var e=t.updateQueue;if(null!==e){t.updateQueue=null;var n=t.stateNode;null===n&&(n=t.stateNode=new ha),e.forEach((function(e){var r=zl.bind(null,t,e);n.has(e)||(n.add(e),e.then(r,r))}))}}function Oa(t,e){return null!==t&&(null===(t=t.memoizedState)||null!==t.dehydrated)&&null!==(e=e.memoizedState)&&null===e.dehydrated}var Ea=Math.ceil,Ca=w.ReactCurrentDispatcher,Aa=w.ReactCurrentOwner,Pa=0,Ta=null,Ma=null,Ra=0,Na=0,Da=li(0),ja=0,La=null,Ia=0,Ba=0,za=0,Fa=0,Va=null,Ua=0,qa=1/0;function Ha(){qa=Ui()+500}var Wa,$a=null,Ka=!1,Qa=null,Ga=null,Xa=!1,Ja=null,Ya=90,Za=[],tl=[],el=null,nl=0,rl=null,il=-1,ol=0,sl=0,al=null,ll=!1;function ul(){return 0!=(48&Pa)?Ui():-1!==il?il:il=Ui()}function cl(t){if(0==(2&(t=t.mode)))return 1;if(0==(4&t))return 99===qi()?1:2;if(0===ol&&(ol=Ia),0!==Gi.transition){0!==sl&&(sl=null!==Va?Va.pendingLanes:0),t=ol;var e=4186112&~sl;return 0==(e&=-e)&&0==(e=(t=4186112&~t)&-t)&&(e=8192),e}return t=qi(),t=ze(0!=(4&Pa)&&98===t?12:t=function(t){switch(t){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}(t),ol)}function hl(t,e,n){if(50<nl)throw nl=0,rl=null,Error(s(185));if(null===(t=fl(t,e)))return null;Ue(t,e,n),t===Ta&&(za|=e,4===ja&&gl(t,Ra));var r=qi();1===e?0!=(8&Pa)&&0==(48&Pa)?ml(t):(pl(t,n),0===Pa&&(Ha(),Ki())):(0==(4&Pa)||98!==r&&99!==r||(null===el?el=new Set([t]):el.add(t)),pl(t,n)),Va=t}function fl(t,e){t.lanes|=e;var n=t.alternate;for(null!==n&&(n.lanes|=e),n=t,t=t.return;null!==t;)t.childLanes|=e,null!==(n=t.alternate)&&(n.childLanes|=e),n=t,t=t.return;return 3===n.tag?n.stateNode:null}function pl(t,e){for(var n=t.callbackNode,r=t.suspendedLanes,i=t.pingedLanes,o=t.expirationTimes,a=t.pendingLanes;0<a;){var l=31-qe(a),u=1<<l,c=o[l];if(-1===c){if(0==(u&r)||0!=(u&i)){c=e,Le(u);var h=je;o[l]=10<=h?c+250:6<=h?c+5e3:-1}}else c<=e&&(t.expiredLanes|=u);a&=~u}if(r=Ie(t,t===Ta?Ra:0),e=je,0===r)null!==n&&(n!==Li&&Ei(n),t.callbackNode=null,t.callbackPriority=0);else{if(null!==n){if(t.callbackPriority===e)return;n!==Li&&Ei(n)}15===e?(n=ml.bind(null,t),null===Bi?(Bi=[n],zi=Oi(Mi,Qi)):Bi.push(n),n=Li):14===e?n=$i(99,ml.bind(null,t)):(n=function(t){switch(t){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(s(358,t))}}(e),n=$i(n,dl.bind(null,t))),t.callbackPriority=e,t.callbackNode=n}}function dl(t){if(il=-1,sl=ol=0,0!=(48&Pa))throw Error(s(327));var e=t.callbackNode;if(Rl()&&t.callbackNode!==e)return null;var n=Ie(t,t===Ta?Ra:0);if(0===n)return null;var r=n,i=Pa;Pa|=16;var o=kl();for(Ta===t&&Ra===r||(Ha(),wl(t,r));;)try{El();break}catch(e){xl(t,e)}if(eo(),Ca.current=o,Pa=i,null!==Ma?r=0:(Ta=null,Ra=0,r=ja),0!=(Ia&za))wl(t,0);else if(0!==r){if(2===r&&(Pa|=64,t.hydrate&&(t.hydrate=!1,$r(t.containerInfo)),0!==(n=Be(t))&&(r=Sl(t,n))),1===r)throw e=La,wl(t,0),gl(t,n),pl(t,Ui()),e;switch(t.finishedWork=t.current.alternate,t.finishedLanes=n,r){case 0:case 1:throw Error(s(345));case 2:case 5:Pl(t);break;case 3:if(gl(t,n),(62914560&n)===n&&10<(r=Ua+500-Ui())){if(0!==Ie(t,0))break;if(((i=t.suspendedLanes)&n)!==n){ul(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Hr(Pl.bind(null,t),r);break}Pl(t);break;case 4:if(gl(t,n),(4186112&n)===n)break;for(r=t.eventTimes,i=-1;0<n;){var a=31-qe(n);o=1<<a,(a=r[a])>i&&(i=a),n&=~o}if(n=i,10<(n=(120>(n=Ui()-n)?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Ea(n/1960))-n)){t.timeoutHandle=Hr(Pl.bind(null,t),n);break}Pl(t);break;default:throw Error(s(329))}}return pl(t,Ui()),t.callbackNode===e?dl.bind(null,t):null}function gl(t,e){for(e&=~Fa,e&=~za,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-qe(e),r=1<<n;t[n]=-1,e&=~r}}function ml(t){if(0!=(48&Pa))throw Error(s(327));if(Rl(),t===Ta&&0!=(t.expiredLanes&Ra)){var e=Ra,n=Sl(t,e);0!=(Ia&za)&&(n=Sl(t,e=Ie(t,e)))}else n=Sl(t,e=Ie(t,0));if(0!==t.tag&&2===n&&(Pa|=64,t.hydrate&&(t.hydrate=!1,$r(t.containerInfo)),0!==(e=Be(t))&&(n=Sl(t,e))),1===n)throw n=La,wl(t,0),gl(t,e),pl(t,Ui()),n;return t.finishedWork=t.current.alternate,t.finishedLanes=e,Pl(t),pl(t,Ui()),null}function _l(t,e){var n=Pa;Pa|=1;try{return t(e)}finally{0===(Pa=n)&&(Ha(),Ki())}}function yl(t,e){var n=Pa;Pa&=-2,Pa|=8;try{return t(e)}finally{0===(Pa=n)&&(Ha(),Ki())}}function vl(t,e){ci(Da,Na),Na|=e,Ia|=e}function bl(){Na=Da.current,ui(Da)}function wl(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(-1!==n&&(t.timeoutHandle=-1,Wr(n)),null!==Ma)for(n=Ma.return;null!==n;){var r=n;switch(r.tag){case 1:null!=(r=r.type.childContextTypes)&&_i();break;case 3:Do(),ui(pi),ui(fi),Go();break;case 5:Lo(r);break;case 4:Do();break;case 13:case 19:ui(Io);break;case 10:no(r);break;case 23:case 24:bl()}n=n.return}Ta=t,Ma=ql(t.current,null),Ra=Na=Ia=e,ja=0,La=null,Fa=za=Ba=0}function xl(t,e){for(;;){var n=Ma;try{if(eo(),Xo.current=Ms,ns){for(var r=Zo.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}ns=!1}if(Yo=0,es=ts=Zo=null,rs=!1,Aa.current=null,null===n||null===n.return){ja=1,La=e,Ma=null;break}t:{var o=t,s=n.return,a=n,l=e;if(e=Ra,a.flags|=2048,a.firstEffect=a.lastEffect=null,null!==l&&"object"==typeof l&&"function"==typeof l.then){var u=l;if(0==(2&a.mode)){var c=a.alternate;c?(a.updateQueue=c.updateQueue,a.memoizedState=c.memoizedState,a.lanes=c.lanes):(a.updateQueue=null,a.memoizedState=null)}var h=0!=(1&Io.current),f=s;do{var p;if(p=13===f.tag){var d=f.memoizedState;if(null!==d)p=null!==d.dehydrated;else{var g=f.memoizedProps;p=void 0!==g.fallback&&(!0!==g.unstable_avoidThisFallback||!h)}}if(p){var m=f.updateQueue;if(null===m){var _=new Set;_.add(u),f.updateQueue=_}else m.add(u);if(0==(2&f.mode)){if(f.flags|=64,a.flags|=16384,a.flags&=-2981,1===a.tag)if(null===a.alternate)a.tag=17;else{var y=uo(-1,1);y.tag=2,co(a,y)}a.lanes|=1;break t}l=void 0,a=e;var v=o.pingCache;if(null===v?(v=o.pingCache=new la,l=new Set,v.set(u,l)):void 0===(l=v.get(u))&&(l=new Set,v.set(u,l)),!l.has(a)){l.add(a);var b=Bl.bind(null,o,u,a);u.then(b,b)}f.flags|=4096,f.lanes=e;break t}f=f.return}while(null!==f);l=Error((K(a.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.")}5!==ja&&(ja=2),l=sa(l,a),f=s;do{switch(f.tag){case 3:o=l,f.flags|=4096,e&=-e,f.lanes|=e,ho(f,ua(0,o,e));break t;case 1:o=l;var w=f.type,x=f.stateNode;if(0==(64&f.flags)&&("function"==typeof w.getDerivedStateFromError||null!==x&&"function"==typeof x.componentDidCatch&&(null===Ga||!Ga.has(x)))){f.flags|=4096,e&=-e,f.lanes|=e,ho(f,ca(f,o,e));break t}}f=f.return}while(null!==f)}Al(n)}catch(t){e=t,Ma===n&&null!==n&&(Ma=n=n.return);continue}break}}function kl(){var t=Ca.current;return Ca.current=Ms,null===t?Ms:t}function Sl(t,e){var n=Pa;Pa|=16;var r=kl();for(Ta===t&&Ra===e||wl(t,e);;)try{Ol();break}catch(e){xl(t,e)}if(eo(),Pa=n,Ca.current=r,null!==Ma)throw Error(s(261));return Ta=null,Ra=0,ja}function Ol(){for(;null!==Ma;)Cl(Ma)}function El(){for(;null!==Ma&&!Ci();)Cl(Ma)}function Cl(t){var e=Wa(t.alternate,t,Na);t.memoizedProps=t.pendingProps,null===e?Al(t):Ma=e,Aa.current=null}function Al(t){var e=t;do{var n=e.alternate;if(t=e.return,0==(2048&e.flags)){if(null!==(n=ia(n,e,Na)))return void(Ma=n);if(24!==(n=e).tag&&23!==n.tag||null===n.memoizedState||0!=(1073741824&Na)||0==(4&n.mode)){for(var r=0,i=n.child;null!==i;)r|=i.lanes|i.childLanes,i=i.sibling;n.childLanes=r}null!==t&&0==(2048&t.flags)&&(null===t.firstEffect&&(t.firstEffect=e.firstEffect),null!==e.lastEffect&&(null!==t.lastEffect&&(t.lastEffect.nextEffect=e.firstEffect),t.lastEffect=e.lastEffect),1<e.flags&&(null!==t.lastEffect?t.lastEffect.nextEffect=e:t.firstEffect=e,t.lastEffect=e))}else{if(null!==(n=oa(e)))return n.flags&=2047,void(Ma=n);null!==t&&(t.firstEffect=t.lastEffect=null,t.flags|=2048)}if(null!==(e=e.sibling))return void(Ma=e);Ma=e=t}while(null!==e);0===ja&&(ja=5)}function Pl(t){var e=qi();return Wi(99,Tl.bind(null,t,e)),null}function Tl(t,e){do{Rl()}while(null!==Ja);if(0!=(48&Pa))throw Error(s(327));var n=t.finishedWork;if(null===n)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(s(177));t.callbackNode=null;var r=n.lanes|n.childLanes,i=r,o=t.pendingLanes&~i;t.pendingLanes=i,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=i,t.mutableReadLanes&=i,t.entangledLanes&=i,i=t.entanglements;for(var a=t.eventTimes,l=t.expirationTimes;0<o;){var u=31-qe(o),c=1<<u;i[u]=0,a[u]=-1,l[u]=-1,o&=~c}if(null!==el&&0==(24&r)&&el.has(t)&&el.delete(t),t===Ta&&(Ma=Ta=null,Ra=0),1<n.flags?null!==n.lastEffect?(n.lastEffect.nextEffect=n,r=n.firstEffect):r=n:r=n.firstEffect,null!==r){if(i=Pa,Pa|=32,Aa.current=null,Fr=Qe,mr(a=gr())){if("selectionStart"in a)l={start:a.selectionStart,end:a.selectionEnd};else t:if(l=(l=a.ownerDocument)&&l.defaultView||window,(c=l.getSelection&&l.getSelection())&&0!==c.rangeCount){l=c.anchorNode,o=c.anchorOffset,u=c.focusNode,c=c.focusOffset;try{l.nodeType,u.nodeType}catch(t){l=null;break t}var h=0,f=-1,p=-1,d=0,g=0,m=a,_=null;e:for(;;){for(var y;m!==l||0!==o&&3!==m.nodeType||(f=h+o),m!==u||0!==c&&3!==m.nodeType||(p=h+c),3===m.nodeType&&(h+=m.nodeValue.length),null!==(y=m.firstChild);)_=m,m=y;for(;;){if(m===a)break e;if(_===l&&++d===o&&(f=h),_===u&&++g===c&&(p=h),null!==(y=m.nextSibling))break;_=(m=_).parentNode}m=y}l=-1===f||-1===p?null:{start:f,end:p}}else l=null;l=l||{start:0,end:0}}else l=null;Vr={focusedElem:a,selectionRange:l},Qe=!1,al=null,ll=!1,$a=r;do{try{Ml()}catch(t){if(null===$a)throw Error(s(330));Il($a,t),$a=$a.nextEffect}}while(null!==$a);al=null,$a=r;do{try{for(a=t;null!==$a;){var v=$a.flags;if(16&v&&_t($a.stateNode,""),128&v){var b=$a.alternate;if(null!==b){var w=b.ref;null!==w&&("function"==typeof w?w(null):w.current=null)}}switch(1038&v){case 2:va($a),$a.flags&=-3;break;case 6:va($a),$a.flags&=-3,ka($a.alternate,$a);break;case 1024:$a.flags&=-1025;break;case 1028:$a.flags&=-1025,ka($a.alternate,$a);break;case 4:ka($a.alternate,$a);break;case 8:xa(a,l=$a);var x=l.alternate;_a(l),null!==x&&_a(x)}$a=$a.nextEffect}}catch(t){if(null===$a)throw Error(s(330));Il($a,t),$a=$a.nextEffect}}while(null!==$a);if(w=Vr,b=gr(),v=w.focusedElem,a=w.selectionRange,b!==v&&v&&v.ownerDocument&&dr(v.ownerDocument.documentElement,v)){null!==a&&mr(v)&&(b=a.start,void 0===(w=a.end)&&(w=b),"selectionStart"in v?(v.selectionStart=b,v.selectionEnd=Math.min(w,v.value.length)):(w=(b=v.ownerDocument||document)&&b.defaultView||window).getSelection&&(w=w.getSelection(),l=v.textContent.length,x=Math.min(a.start,l),a=void 0===a.end?x:Math.min(a.end,l),!w.extend&&x>a&&(l=a,a=x,x=l),l=pr(v,x),o=pr(v,a),l&&o&&(1!==w.rangeCount||w.anchorNode!==l.node||w.anchorOffset!==l.offset||w.focusNode!==o.node||w.focusOffset!==o.offset)&&((b=b.createRange()).setStart(l.node,l.offset),w.removeAllRanges(),x>a?(w.addRange(b),w.extend(o.node,o.offset)):(b.setEnd(o.node,o.offset),w.addRange(b))))),b=[];for(w=v;w=w.parentNode;)1===w.nodeType&&b.push({element:w,left:w.scrollLeft,top:w.scrollTop});for("function"==typeof v.focus&&v.focus(),v=0;v<b.length;v++)(w=b[v]).element.scrollLeft=w.left,w.element.scrollTop=w.top}Qe=!!Fr,Vr=Fr=null,t.current=n,$a=r;do{try{for(v=t;null!==$a;){var k=$a.flags;if(36&k&&da(v,$a.alternate,$a),128&k){b=void 0;var S=$a.ref;if(null!==S){var O=$a.stateNode;$a.tag,b=O,"function"==typeof S?S(b):S.current=b}}$a=$a.nextEffect}}catch(t){if(null===$a)throw Error(s(330));Il($a,t),$a=$a.nextEffect}}while(null!==$a);$a=null,Ii(),Pa=i}else t.current=n;if(Xa)Xa=!1,Ja=t,Ya=e;else for($a=r;null!==$a;)e=$a.nextEffect,$a.nextEffect=null,8&$a.flags&&((k=$a).sibling=null,k.stateNode=null),$a=e;if(0===(r=t.pendingLanes)&&(Ga=null),1===r?t===rl?nl++:(nl=0,rl=t):nl=0,n=n.stateNode,ki&&"function"==typeof ki.onCommitFiberRoot)try{ki.onCommitFiberRoot(xi,n,void 0,64==(64&n.current.flags))}catch(t){}if(pl(t,Ui()),Ka)throw Ka=!1,t=Qa,Qa=null,t;return 0!=(8&Pa)||Ki(),null}function Ml(){for(;null!==$a;){var t=$a.alternate;ll||null===al||(0!=(8&$a.flags)?Zt($a,al)&&(ll=!0):13===$a.tag&&Oa(t,$a)&&Zt($a,al)&&(ll=!0));var e=$a.flags;0!=(256&e)&&pa(t,$a),0==(512&e)||Xa||(Xa=!0,$i(97,(function(){return Rl(),null}))),$a=$a.nextEffect}}function Rl(){if(90!==Ya){var t=97<Ya?97:Ya;return Ya=90,Wi(t,jl)}return!1}function Nl(t,e){Za.push(e,t),Xa||(Xa=!0,$i(97,(function(){return Rl(),null})))}function Dl(t,e){tl.push(e,t),Xa||(Xa=!0,$i(97,(function(){return Rl(),null})))}function jl(){if(null===Ja)return!1;var t=Ja;if(Ja=null,0!=(48&Pa))throw Error(s(331));var e=Pa;Pa|=32;var n=tl;tl=[];for(var r=0;r<n.length;r+=2){var i=n[r],o=n[r+1],a=i.destroy;if(i.destroy=void 0,"function"==typeof a)try{a()}catch(t){if(null===o)throw Error(s(330));Il(o,t)}}for(n=Za,Za=[],r=0;r<n.length;r+=2){i=n[r],o=n[r+1];try{var l=i.create;i.destroy=l()}catch(t){if(null===o)throw Error(s(330));Il(o,t)}}for(l=t.current.firstEffect;null!==l;)t=l.nextEffect,l.nextEffect=null,8&l.flags&&(l.sibling=null,l.stateNode=null),l=t;return Pa=e,Ki(),!0}function Ll(t,e,n){co(t,e=ua(0,e=sa(n,e),1)),e=ul(),null!==(t=fl(t,1))&&(Ue(t,1,e),pl(t,e))}function Il(t,e){if(3===t.tag)Ll(t,t,e);else for(var n=t.return;null!==n;){if(3===n.tag){Ll(n,t,e);break}if(1===n.tag){var r=n.stateNode;if("function"==typeof n.type.getDerivedStateFromError||"function"==typeof r.componentDidCatch&&(null===Ga||!Ga.has(r))){var i=ca(n,t=sa(e,t),1);if(co(n,i),i=ul(),null!==(n=fl(n,1)))Ue(n,1,i),pl(n,i);else if("function"==typeof r.componentDidCatch&&(null===Ga||!Ga.has(r)))try{r.componentDidCatch(e,t)}catch(t){}break}}n=n.return}}function Bl(t,e,n){var r=t.pingCache;null!==r&&r.delete(e),e=ul(),t.pingedLanes|=t.suspendedLanes&n,Ta===t&&(Ra&n)===n&&(4===ja||3===ja&&(62914560&Ra)===Ra&&500>Ui()-Ua?wl(t,0):Fa|=n),pl(t,e)}function zl(t,e){var n=t.stateNode;null!==n&&n.delete(e),0==(e=0)&&(0==(2&(e=t.mode))?e=1:0==(4&e)?e=99===qi()?1:2:(0===ol&&(ol=Ia),0===(e=Fe(62914560&~ol))&&(e=4194304))),n=ul(),null!==(t=fl(t,e))&&(Ue(t,e,n),pl(t,n))}function Fl(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.flags=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function Vl(t,e,n,r){return new Fl(t,e,n,r)}function Ul(t){return!(!(t=t.prototype)||!t.isReactComponent)}function ql(t,e){var n=t.alternate;return null===n?((n=Vl(t.tag,e,t.key,t.mode)).elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Hl(t,e,n,r,i,o){var a=2;if(r=t,"function"==typeof t)Ul(t)&&(a=1);else if("string"==typeof t)a=5;else t:switch(t){case S:return Wl(n.children,i,o,e);case L:a=8,i|=16;break;case O:a=8,i|=1;break;case E:return(t=Vl(12,n,e,8|i)).elementType=E,t.type=E,t.lanes=o,t;case T:return(t=Vl(13,n,e,i)).type=T,t.elementType=T,t.lanes=o,t;case M:return(t=Vl(19,n,e,i)).elementType=M,t.lanes=o,t;case I:return $l(n,i,o,e);case B:return(t=Vl(24,n,e,i)).elementType=B,t.lanes=o,t;default:if("object"==typeof t&&null!==t)switch(t.$$typeof){case C:a=10;break t;case A:a=9;break t;case P:a=11;break t;case R:a=14;break t;case N:a=16,r=null;break t;case D:a=22;break t}throw Error(s(130,null==t?t:typeof t,""))}return(e=Vl(a,n,e,i)).elementType=t,e.type=r,e.lanes=o,e}function Wl(t,e,n,r){return(t=Vl(7,t,r,e)).lanes=n,t}function $l(t,e,n,r){return(t=Vl(23,t,r,e)).elementType=I,t.lanes=n,t}function Kl(t,e,n){return(t=Vl(6,t,null,e)).lanes=n,t}function Ql(t,e,n){return(e=Vl(4,null!==t.children?t.children:[],t.key,e)).lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function Gl(t,e,n){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=Ve(0),this.expirationTimes=Ve(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ve(0),this.mutableSourceEagerHydrationData=null}function Xl(t,e,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:k,key:null==r?null:""+r,children:t,containerInfo:e,implementation:n}}function Jl(t,e,n,r){var i=e.current,o=ul(),a=cl(i);t:if(n){e:{if(Gt(n=n._reactInternals)!==n||1!==n.tag)throw Error(s(170));var l=n;do{switch(l.tag){case 3:l=l.stateNode.context;break e;case 1:if(mi(l.type)){l=l.stateNode.__reactInternalMemoizedMergedChildContext;break e}}l=l.return}while(null!==l);throw Error(s(171))}if(1===n.tag){var u=n.type;if(mi(u)){n=vi(n,u,l);break t}}n=l}else n=hi;return null===e.context?e.context=n:e.pendingContext=n,(e=uo(o,a)).payload={element:t},null!==(r=void 0===r?null:r)&&(e.callback=r),co(i,e),hl(i,a,o),a}function Yl(t){return(t=t.current).child?(t.child.tag,t.child.stateNode):null}function Zl(t,e){if(null!==(t=t.memoizedState)&&null!==t.dehydrated){var n=t.retryLane;t.retryLane=0!==n&&n<e?n:e}}function tu(t,e){Zl(t,e),(t=t.alternate)&&Zl(t,e)}function eu(t,e,n){var r=null!=n&&null!=n.hydrationOptions&&n.hydrationOptions.mutableSources||null;if(n=new Gl(t,e,null!=n&&!0===n.hydrate),e=Vl(3,null,null,2===e?7:1===e?3:0),n.current=e,e.stateNode=n,ao(e),t[Zr]=n.current,Mr(8===t.nodeType?t.parentNode:t),r)for(t=0;t<r.length;t++){var i=(e=r[t])._getVersion;i=i(e._source),null==n.mutableSourceEagerHydrationData?n.mutableSourceEagerHydrationData=[e,i]:n.mutableSourceEagerHydrationData.push(e,i)}this._internalRoot=n}function nu(t){return!(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType&&(8!==t.nodeType||" react-mount-point-unstable "!==t.nodeValue))}function ru(t,e,n,r,i){var o=n._reactRootContainer;if(o){var s=o._internalRoot;if("function"==typeof i){var a=i;i=function(){var t=Yl(s);a.call(t)}}Jl(e,s,t,i)}else{if(o=n._reactRootContainer=function(t,e){if(e||(e=!(!(e=t?9===t.nodeType?t.documentElement:t.firstChild:null)||1!==e.nodeType||!e.hasAttribute("data-reactroot"))),!e)for(var n;n=t.lastChild;)t.removeChild(n);return new eu(t,0,e?{hydrate:!0}:void 0)}(n,r),s=o._internalRoot,"function"==typeof i){var l=i;i=function(){var t=Yl(s);l.call(t)}}yl((function(){Jl(e,s,t,i)}))}return Yl(s)}function iu(t,e){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!nu(e))throw Error(s(200));return Xl(t,e,null,n)}Wa=function(t,e,n){var r=e.lanes;if(null!==t)if(t.memoizedProps!==e.pendingProps||pi.current)Ls=!0;else{if(0==(n&r)){switch(Ls=!1,e.tag){case 3:$s(e),Ko();break;case 5:jo(e);break;case 1:mi(e.type)&&bi(e);break;case 4:No(e,e.stateNode.containerInfo);break;case 10:r=e.memoizedProps.value;var i=e.type._context;ci(Ji,i._currentValue),i._currentValue=r;break;case 13:if(null!==e.memoizedState)return 0!=(n&e.child.childLanes)?Js(t,e,n):(ci(Io,1&Io.current),null!==(e=na(t,e,n))?e.sibling:null);ci(Io,1&Io.current);break;case 19:if(r=0!=(n&e.childLanes),0!=(64&t.flags)){if(r)return ea(t,e,n);e.flags|=64}if(null!==(i=e.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),ci(Io,Io.current),r)break;return null;case 23:case 24:return e.lanes=0,Vs(t,e,n)}return na(t,e,n)}Ls=0!=(16384&t.flags)}else Ls=!1;switch(e.lanes=0,e.tag){case 2:if(r=e.type,null!==t&&(t.alternate=null,e.alternate=null,e.flags|=2),t=e.pendingProps,i=gi(e,fi.current),io(e,n),i=ss(null,e,r,t,i,n),e.flags|=1,"object"==typeof i&&null!==i&&"function"==typeof i.render&&void 0===i.$$typeof){if(e.tag=1,e.memoizedState=null,e.updateQueue=null,mi(r)){var o=!0;bi(e)}else o=!1;e.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,ao(e);var a=r.getDerivedStateFromProps;"function"==typeof a&&mo(e,r,a,t),i.updater=_o,e.stateNode=i,i._reactInternals=e,wo(e,r,t,n),e=Ws(null,e,r,!0,o,n)}else e.tag=0,Is(null,e,i,n),e=e.child;return e;case 16:i=e.elementType;t:{switch(null!==t&&(t.alternate=null,e.alternate=null,e.flags|=2),t=e.pendingProps,i=(o=i._init)(i._payload),e.type=i,o=e.tag=function(t){if("function"==typeof t)return Ul(t)?1:0;if(null!=t){if((t=t.$$typeof)===P)return 11;if(t===R)return 14}return 2}(i),t=Xi(i,t),o){case 0:e=qs(null,e,i,t,n);break t;case 1:e=Hs(null,e,i,t,n);break t;case 11:e=Bs(null,e,i,t,n);break t;case 14:e=zs(null,e,i,Xi(i.type,t),r,n);break t}throw Error(s(306,i,""))}return e;case 0:return r=e.type,i=e.pendingProps,qs(t,e,r,i=e.elementType===r?i:Xi(r,i),n);case 1:return r=e.type,i=e.pendingProps,Hs(t,e,r,i=e.elementType===r?i:Xi(r,i),n);case 3:if($s(e),r=e.updateQueue,null===t||null===r)throw Error(s(282));if(r=e.pendingProps,i=null!==(i=e.memoizedState)?i.element:null,lo(t,e),fo(e,r,null,n),(r=e.memoizedState.element)===i)Ko(),e=na(t,e,n);else{if((o=(i=e.stateNode).hydrate)&&(Fo=Kr(e.stateNode.containerInfo.firstChild),zo=e,o=Vo=!0),o){if(null!=(t=i.mutableSourceEagerHydrationData))for(i=0;i<t.length;i+=2)(o=t[i])._workInProgressVersionPrimary=t[i+1],Qo.push(o);for(n=Co(e,null,r,n),e.child=n;n;)n.flags=-3&n.flags|1024,n=n.sibling}else Is(t,e,r,n),Ko();e=e.child}return e;case 5:return jo(e),null===t&&Ho(e),r=e.type,i=e.pendingProps,o=null!==t?t.memoizedProps:null,a=i.children,qr(r,i)?a=null:null!==o&&qr(r,o)&&(e.flags|=16),Us(t,e),Is(t,e,a,n),e.child;case 6:return null===t&&Ho(e),null;case 13:return Js(t,e,n);case 4:return No(e,e.stateNode.containerInfo),r=e.pendingProps,null===t?e.child=Eo(e,null,r,n):Is(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,Bs(t,e,r,i=e.elementType===r?i:Xi(r,i),n);case 7:return Is(t,e,e.pendingProps,n),e.child;case 8:case 12:return Is(t,e,e.pendingProps.children,n),e.child;case 10:t:{r=e.type._context,i=e.pendingProps,a=e.memoizedProps,o=i.value;var l=e.type._context;if(ci(Ji,l._currentValue),l._currentValue=o,null!==a)if(l=a.value,0==(o=ur(l,o)?0:0|("function"==typeof r._calculateChangedBits?r._calculateChangedBits(l,o):1073741823))){if(a.children===i.children&&!pi.current){e=na(t,e,n);break t}}else for(null!==(l=e.child)&&(l.return=e);null!==l;){var u=l.dependencies;if(null!==u){a=l.child;for(var c=u.firstContext;null!==c;){if(c.context===r&&0!=(c.observedBits&o)){1===l.tag&&((c=uo(-1,n&-n)).tag=2,co(l,c)),l.lanes|=n,null!==(c=l.alternate)&&(c.lanes|=n),ro(l.return,n),u.lanes|=n;break}c=c.next}}else a=10===l.tag&&l.type===e.type?null:l.child;if(null!==a)a.return=l;else for(a=l;null!==a;){if(a===e){a=null;break}if(null!==(l=a.sibling)){l.return=a.return,a=l;break}a=a.return}l=a}Is(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=(o=e.pendingProps).children,io(e,n),r=r(i=oo(i,o.unstable_observedBits)),e.flags|=1,Is(t,e,r,n),e.child;case 14:return o=Xi(i=e.type,e.pendingProps),zs(t,e,i,o=Xi(i.type,o),r,n);case 15:return Fs(t,e,e.type,e.pendingProps,r,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Xi(r,i),null!==t&&(t.alternate=null,e.alternate=null,e.flags|=2),e.tag=1,mi(r)?(t=!0,bi(e)):t=!1,io(e,n),vo(e,r,i),wo(e,r,i,n),Ws(null,e,r,!0,t,n);case 19:return ea(t,e,n);case 23:case 24:return Vs(t,e,n)}throw Error(s(156,e.tag))},eu.prototype.render=function(t){Jl(t,this._internalRoot,null,null)},eu.prototype.unmount=function(){var t=this._internalRoot,e=t.containerInfo;Jl(null,t,null,(function(){e[Zr]=null}))},te=function(t){13===t.tag&&(hl(t,4,ul()),tu(t,4))},ee=function(t){13===t.tag&&(hl(t,67108864,ul()),tu(t,67108864))},ne=function(t){if(13===t.tag){var e=ul(),n=cl(t);hl(t,n,e),tu(t,n)}},re=function(t,e){return e()},Et=function(t,e,n){switch(e){case"input":if(nt(t,n),e=n.name,"radio"===n.type&&null!=e){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=ii(r);if(!i)throw Error(s(90));J(r),nt(r,i)}}}break;case"textarea":ut(t,n);break;case"select":null!=(e=n.value)&&st(t,!!n.multiple,e,!1)}},Rt=_l,Nt=function(t,e,n,r,i){var o=Pa;Pa|=4;try{return Wi(98,t.bind(null,e,n,r,i))}finally{0===(Pa=o)&&(Ha(),Ki())}},Dt=function(){0==(49&Pa)&&(function(){if(null!==el){var t=el;el=null,t.forEach((function(t){t.expiredLanes|=24&t.pendingLanes,pl(t,Ui())}))}Ki()}(),Rl())},jt=function(t,e){var n=Pa;Pa|=2;try{return t(e)}finally{0===(Pa=n)&&(Ha(),Ki())}};var ou={Events:[ni,ri,ii,Tt,Mt,Rl,{current:!1}]},su={findFiberByHostInstance:ei,bundleType:0,version:"17.0.2",rendererPackageName:"react-dom"},au={bundleType:su.bundleType,version:su.version,rendererPackageName:su.rendererPackageName,rendererConfig:su.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:w.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return null===(t=Yt(t))?null:t.stateNode},findFiberByHostInstance:su.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null};if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var lu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!lu.isDisabled&&lu.supportsFiber)try{xi=lu.inject(au),ki=lu}catch(gt){}}e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ou,e.createPortal=iu,e.findDOMNode=function(t){if(null==t)return null;if(1===t.nodeType)return t;var e=t._reactInternals;if(void 0===e){if("function"==typeof t.render)throw Error(s(188));throw Error(s(268,Object.keys(t)))}return null===(t=Yt(e))?null:t.stateNode},e.flushSync=function(t,e){var n=Pa;if(0!=(48&n))return t(e);Pa|=1;try{if(t)return Wi(99,t.bind(null,e))}finally{Pa=n,Ki()}},e.hydrate=function(t,e,n){if(!nu(e))throw Error(s(200));return ru(null,t,e,!0,n)},e.render=function(t,e,n){if(!nu(e))throw Error(s(200));return ru(null,t,e,!1,n)},e.unmountComponentAtNode=function(t){if(!nu(t))throw Error(s(40));return!!t._reactRootContainer&&(yl((function(){ru(null,null,t,!1,(function(){t._reactRootContainer=null,t[Zr]=null}))})),!0)},e.unstable_batchedUpdates=_l,e.unstable_createPortal=function(t,e){return iu(t,e,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)},e.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!nu(n))throw Error(s(200));if(null==t||void 0===t._reactInternals)throw Error(s(38));return ru(t,e,n,!1,r)},e.version="17.0.2"},3935:(t,e,n)=>{"use strict";!function t(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(t){console.error(t)}}(),t.exports=n(4448)},9921:(t,e)=>{"use strict";var n=60103,r=60106,i=60107,o=60108,s=60114,a=60109,l=60110,u=60112,c=60113,h=60120,f=60115,p=60116;if("function"==typeof Symbol&&Symbol.for){var d=Symbol.for;n=d("react.element"),r=d("react.portal"),i=d("react.fragment"),o=d("react.strict_mode"),s=d("react.profiler"),a=d("react.provider"),l=d("react.context"),u=d("react.forward_ref"),c=d("react.suspense"),h=d("react.suspense_list"),f=d("react.memo"),p=d("react.lazy"),d("react.block"),d("react.server.block"),d("react.fundamental"),d("react.debug_trace_mode"),d("react.legacy_hidden")}e.isContextConsumer=function(t){return function(t){if("object"==typeof t&&null!==t){var e=t.$$typeof;switch(e){case n:switch(t=t.type){case i:case s:case o:case c:case h:return t;default:switch(t=t&&t.$$typeof){case l:case u:case p:case f:case a:return t;default:return e}}case r:return e}}}(t)===l}},9864:(t,e,n)=>{"use strict";t.exports=n(9921)},5251:(t,e,n)=>{"use strict";n(7418);var r=n(7294),i=60103;if("function"==typeof Symbol&&Symbol.for){var o=Symbol.for;i=o("react.element"),o("react.fragment")}var s=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a=Object.prototype.hasOwnProperty,l={key:!0,ref:!0,__self:!0,__source:!0};e.jsx=function(t,e,n){var r,o={},u=null,c=null;for(r in void 0!==n&&(u=""+n),void 0!==e.key&&(u=""+e.key),void 0!==e.ref&&(c=e.ref),e)a.call(e,r)&&!l.hasOwnProperty(r)&&(o[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps)void 0===o[r]&&(o[r]=e[r]);return{$$typeof:i,type:t,key:u,ref:c,props:o,_owner:s.current}}},2408:(t,e,n)=>{"use strict";var r=n(7418),i=60103,o=60106;e.Fragment=60107,e.StrictMode=60108,e.Profiler=60114;var s=60109,a=60110,l=60112;e.Suspense=60113;var u=60115,c=60116;if("function"==typeof Symbol&&Symbol.for){var h=Symbol.for;i=h("react.element"),o=h("react.portal"),e.Fragment=h("react.fragment"),e.StrictMode=h("react.strict_mode"),e.Profiler=h("react.profiler"),s=h("react.provider"),a=h("react.context"),l=h("react.forward_ref"),e.Suspense=h("react.suspense"),u=h("react.memo"),c=h("react.lazy")}var f="function"==typeof Symbol&&Symbol.iterator;function p(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var d={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},g={};function m(t,e,n){this.props=t,this.context=e,this.refs=g,this.updater=n||d}function _(){}function y(t,e,n){this.props=t,this.context=e,this.refs=g,this.updater=n||d}m.prototype.isReactComponent={},m.prototype.setState=function(t,e){if("object"!=typeof t&&"function"!=typeof t&&null!=t)throw Error(p(85));this.updater.enqueueSetState(this,t,e,"setState")},m.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")},_.prototype=m.prototype;var v=y.prototype=new _;v.constructor=y,r(v,m.prototype),v.isPureReactComponent=!0;var b={current:null},w=Object.prototype.hasOwnProperty,x={key:!0,ref:!0,__self:!0,__source:!0};function k(t,e,n){var r,o={},s=null,a=null;if(null!=e)for(r in void 0!==e.ref&&(a=e.ref),void 0!==e.key&&(s=""+e.key),e)w.call(e,r)&&!x.hasOwnProperty(r)&&(o[r]=e[r]);var l=arguments.length-2;if(1===l)o.children=n;else if(1<l){for(var u=Array(l),c=0;c<l;c++)u[c]=arguments[c+2];o.children=u}if(t&&t.defaultProps)for(r in l=t.defaultProps)void 0===o[r]&&(o[r]=l[r]);return{$$typeof:i,type:t,key:s,ref:a,props:o,_owner:b.current}}function S(t){return"object"==typeof t&&null!==t&&t.$$typeof===i}var O=/\/+/g;function E(t,e){return"object"==typeof t&&null!==t&&null!=t.key?function(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,(function(t){return e[t]}))}(""+t.key):e.toString(36)}function C(t,e,n,r,s){var a=typeof t;"undefined"!==a&&"boolean"!==a||(t=null);var l=!1;if(null===t)l=!0;else switch(a){case"string":case"number":l=!0;break;case"object":switch(t.$$typeof){case i:case o:l=!0}}if(l)return s=s(l=t),t=""===r?"."+E(l,0):r,Array.isArray(s)?(n="",null!=t&&(n=t.replace(O,"$&/")+"/"),C(s,e,n,"",(function(t){return t}))):null!=s&&(S(s)&&(s=function(t,e){return{$$typeof:i,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}(s,n+(!s.key||l&&l.key===s.key?"":(""+s.key).replace(O,"$&/")+"/")+t)),e.push(s)),1;if(l=0,r=""===r?".":r+":",Array.isArray(t))for(var u=0;u<t.length;u++){var c=r+E(a=t[u],u);l+=C(a,e,n,c,s)}else if(c=function(t){return null===t||"object"!=typeof t?null:"function"==typeof(t=f&&t[f]||t["@@iterator"])?t:null}(t),"function"==typeof c)for(t=c.call(t),u=0;!(a=t.next()).done;)l+=C(a=a.value,e,n,c=r+E(a,u++),s);else if("object"===a)throw e=""+t,Error(p(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e));return l}function A(t,e,n){if(null==t)return t;var r=[],i=0;return C(t,r,"","",(function(t){return e.call(n,t,i++)})),r}function P(t){if(-1===t._status){var e=t._result;e=e(),t._status=0,t._result=e,e.then((function(e){0===t._status&&(e=e.default,t._status=1,t._result=e)}),(function(e){0===t._status&&(t._status=2,t._result=e)}))}if(1===t._status)return t._result;throw t._result}var T={current:null};function M(){var t=T.current;if(null===t)throw Error(p(321));return t}var R={ReactCurrentDispatcher:T,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:b,IsSomeRendererActing:{current:!1},assign:r};e.Children={map:A,forEach:function(t,e,n){A(t,(function(){e.apply(this,arguments)}),n)},count:function(t){var e=0;return A(t,(function(){e++})),e},toArray:function(t){return A(t,(function(t){return t}))||[]},only:function(t){if(!S(t))throw Error(p(143));return t}},e.Component=m,e.PureComponent=y,e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=R,e.cloneElement=function(t,e,n){if(null==t)throw Error(p(267,t));var o=r({},t.props),s=t.key,a=t.ref,l=t._owner;if(null!=e){if(void 0!==e.ref&&(a=e.ref,l=b.current),void 0!==e.key&&(s=""+e.key),t.type&&t.type.defaultProps)var u=t.type.defaultProps;for(c in e)w.call(e,c)&&!x.hasOwnProperty(c)&&(o[c]=void 0===e[c]&&void 0!==u?u[c]:e[c])}var c=arguments.length-2;if(1===c)o.children=n;else if(1<c){u=Array(c);for(var h=0;h<c;h++)u[h]=arguments[h+2];o.children=u}return{$$typeof:i,type:t.type,key:s,ref:a,props:o,_owner:l}},e.createContext=function(t,e){return void 0===e&&(e=null),(t={$$typeof:a,_calculateChangedBits:e,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:s,_context:t},t.Consumer=t},e.createElement=k,e.createFactory=function(t){var e=k.bind(null,t);return e.type=t,e},e.createRef=function(){return{current:null}},e.forwardRef=function(t){return{$$typeof:l,render:t}},e.isValidElement=S,e.lazy=function(t){return{$$typeof:c,_payload:{_status:-1,_result:t},_init:P}},e.memo=function(t,e){return{$$typeof:u,type:t,compare:void 0===e?null:e}},e.useCallback=function(t,e){return M().useCallback(t,e)},e.useContext=function(t,e){return M().useContext(t,e)},e.useDebugValue=function(){},e.useEffect=function(t,e){return M().useEffect(t,e)},e.useImperativeHandle=function(t,e,n){return M().useImperativeHandle(t,e,n)},e.useLayoutEffect=function(t,e){return M().useLayoutEffect(t,e)},e.useMemo=function(t,e){return M().useMemo(t,e)},e.useReducer=function(t,e,n){return M().useReducer(t,e,n)},e.useRef=function(t){return M().useRef(t)},e.useState=function(t){return M().useState(t)},e.version="17.0.2"},7294:(t,e,n)=>{"use strict";t.exports=n(2408)},5893:(t,e,n)=>{"use strict";t.exports=n(5251)},53:(t,e)=>{"use strict";var n,r,i,o;if("object"==typeof performance&&"function"==typeof performance.now){var s=performance;e.unstable_now=function(){return s.now()}}else{var a=Date,l=a.now();e.unstable_now=function(){return a.now()-l}}if("undefined"==typeof window||"function"!=typeof MessageChannel){var u=null,c=null,h=function(){if(null!==u)try{var t=e.unstable_now();u(!0,t),u=null}catch(t){throw setTimeout(h,0),t}};n=function(t){null!==u?setTimeout(n,0,t):(u=t,setTimeout(h,0))},r=function(t,e){c=setTimeout(t,e)},i=function(){clearTimeout(c)},e.unstable_shouldYield=function(){return!1},o=e.unstable_forceFrameRate=function(){}}else{var f=window.setTimeout,p=window.clearTimeout;if("undefined"!=typeof console){var d=window.cancelAnimationFrame;"function"!=typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),"function"!=typeof d&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")}var g=!1,m=null,_=-1,y=5,v=0;e.unstable_shouldYield=function(){return e.unstable_now()>=v},o=function(){},e.unstable_forceFrameRate=function(t){0>t||125<t?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):y=0<t?Math.floor(1e3/t):5};var b=new MessageChannel,w=b.port2;b.port1.onmessage=function(){if(null!==m){var t=e.unstable_now();v=t+y;try{m(!0,t)?w.postMessage(null):(g=!1,m=null)}catch(t){throw w.postMessage(null),t}}else g=!1},n=function(t){m=t,g||(g=!0,w.postMessage(null))},r=function(t,n){_=f((function(){t(e.unstable_now())}),n)},i=function(){p(_),_=-1}}function x(t,e){var n=t.length;t.push(e);t:for(;;){var r=n-1>>>1,i=t[r];if(!(void 0!==i&&0<O(i,e)))break t;t[r]=e,t[n]=i,n=r}}function k(t){return void 0===(t=t[0])?null:t}function S(t){var e=t[0];if(void 0!==e){var n=t.pop();if(n!==e){t[0]=n;t:for(var r=0,i=t.length;r<i;){var o=2*(r+1)-1,s=t[o],a=o+1,l=t[a];if(void 0!==s&&0>O(s,n))void 0!==l&&0>O(l,s)?(t[r]=l,t[a]=n,r=a):(t[r]=s,t[o]=n,r=o);else{if(!(void 0!==l&&0>O(l,n)))break t;t[r]=l,t[a]=n,r=a}}}return e}return null}function O(t,e){var n=t.sortIndex-e.sortIndex;return 0!==n?n:t.id-e.id}var E=[],C=[],A=1,P=null,T=3,M=!1,R=!1,N=!1;function D(t){for(var e=k(C);null!==e;){if(null===e.callback)S(C);else{if(!(e.startTime<=t))break;S(C),e.sortIndex=e.expirationTime,x(E,e)}e=k(C)}}function j(t){if(N=!1,D(t),!R)if(null!==k(E))R=!0,n(L);else{var e=k(C);null!==e&&r(j,e.startTime-t)}}function L(t,n){R=!1,N&&(N=!1,i()),M=!0;var o=T;try{for(D(n),P=k(E);null!==P&&(!(P.expirationTime>n)||t&&!e.unstable_shouldYield());){var s=P.callback;if("function"==typeof s){P.callback=null,T=P.priorityLevel;var a=s(P.expirationTime<=n);n=e.unstable_now(),"function"==typeof a?P.callback=a:P===k(E)&&S(E),D(n)}else S(E);P=k(E)}if(null!==P)var l=!0;else{var u=k(C);null!==u&&r(j,u.startTime-n),l=!1}return l}finally{P=null,T=o,M=!1}}var I=o;e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(t){t.callback=null},e.unstable_continueExecution=function(){R||M||(R=!0,n(L))},e.unstable_getCurrentPriorityLevel=function(){return T},e.unstable_getFirstCallbackNode=function(){return k(E)},e.unstable_next=function(t){switch(T){case 1:case 2:case 3:var e=3;break;default:e=T}var n=T;T=e;try{return t()}finally{T=n}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=I,e.unstable_runWithPriority=function(t,e){switch(t){case 1:case 2:case 3:case 4:case 5:break;default:t=3}var n=T;T=t;try{return e()}finally{T=n}},e.unstable_scheduleCallback=function(t,o,s){var a=e.unstable_now();switch(s="object"==typeof s&&null!==s&&"number"==typeof(s=s.delay)&&0<s?a+s:a,t){case 1:var l=-1;break;case 2:l=250;break;case 5:l=1073741823;break;case 4:l=1e4;break;default:l=5e3}return t={id:A++,callback:o,priorityLevel:t,startTime:s,expirationTime:l=s+l,sortIndex:-1},s>a?(t.sortIndex=s,x(C,t),null===k(E)&&t===k(C)&&(N?i():N=!0,r(j,s-a))):(t.sortIndex=l,x(E,t),R||M||(R=!0,n(L))),t},e.unstable_wrapCallback=function(t){var e=T;return function(){var n=T;T=e;try{return t.apply(this,arguments)}finally{T=n}}}},3840:(t,e,n)=>{"use strict";t.exports=n(53)},7013:function(t,e,n){t.exports=function(){"use strict";var t="function"==typeof Promise,e="object"==typeof self?self:n.g,r="undefined"!=typeof Symbol,i="undefined"!=typeof Map,o="undefined"!=typeof Set,s="undefined"!=typeof WeakMap,a="undefined"!=typeof WeakSet,l="undefined"!=typeof DataView,u=r&&void 0!==Symbol.iterator,c=r&&void 0!==Symbol.toStringTag,h=o&&"function"==typeof Set.prototype.entries,f=i&&"function"==typeof Map.prototype.entries,p=h&&Object.getPrototypeOf((new Set).entries()),d=f&&Object.getPrototypeOf((new Map).entries()),g=u&&"function"==typeof Array.prototype[Symbol.iterator],m=g&&Object.getPrototypeOf([][Symbol.iterator]()),_=u&&"function"==typeof String.prototype[Symbol.iterator],y=_&&Object.getPrototypeOf(""[Symbol.iterator]());return function(n){var r=typeof n;if("object"!==r)return r;if(null===n)return"null";if(n===e)return"global";if(Array.isArray(n)&&(!1===c||!(Symbol.toStringTag in n)))return"Array";if("object"==typeof window&&null!==window){if("object"==typeof window.location&&n===window.location)return"Location";if("object"==typeof window.document&&n===window.document)return"Document";if("object"==typeof window.navigator){if("object"==typeof window.navigator.mimeTypes&&n===window.navigator.mimeTypes)return"MimeTypeArray";if("object"==typeof window.navigator.plugins&&n===window.navigator.plugins)return"PluginArray"}if(("function"==typeof window.HTMLElement||"object"==typeof window.HTMLElement)&&n instanceof window.HTMLElement){if("BLOCKQUOTE"===n.tagName)return"HTMLQuoteElement";if("TD"===n.tagName)return"HTMLTableDataCellElement";if("TH"===n.tagName)return"HTMLTableHeaderCellElement"}}var u=c&&n[Symbol.toStringTag];if("string"==typeof u)return u;var h=Object.getPrototypeOf(n);return h===RegExp.prototype?"RegExp":h===Date.prototype?"Date":t&&h===Promise.prototype?"Promise":o&&h===Set.prototype?"Set":i&&h===Map.prototype?"Map":a&&h===WeakSet.prototype?"WeakSet":s&&h===WeakMap.prototype?"WeakMap":l&&h===DataView.prototype?"DataView":i&&h===d?"Map Iterator":o&&h===p?"Set Iterator":g&&h===m?"Array Iterator":_&&h===y?"String Iterator":null===h?"Object":Object.prototype.toString.call(n).slice(8,-1)}}()},3154:(t,e,n)=>{var r;if("function"==typeof fetch&&(void 0!==n.g&&n.g.fetch?r=n.g.fetch:"undefined"!=typeof window&&window.fetch&&(r=window.fetch)),"undefined"==typeof window||void 0===window.document){var i=r||n(4098);i.default&&(i=i.default),e.default=i,t.exports=e.default}}},r={};function i(t){var e=r[t];if(void 0!==e)return e.exports;var o=r[t]={exports:{}};return n[t].call(o.exports,o,o.exports,i),o.exports}i.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return i.d(e,{a:e}),e},e=Object.getPrototypeOf?t=>Object.getPrototypeOf(t):t=>t.__proto__,i.t=function(n,r){if(1&r&&(n=this(n)),8&r)return n;if("object"==typeof n&&n){if(4&r&&n.__esModule)return n;if(16&r&&"function"==typeof n.then)return n}var o=Object.create(null);i.r(o);var s={};t=t||[null,e({}),e([]),e(e)];for(var a=2&r&&n;"object"==typeof a&&!~t.indexOf(a);a=e(a))Object.getOwnPropertyNames(a).forEach((t=>s[t]=()=>n[t]));return s.default=()=>n,i.d(o,s),o},i.d=(t,e)=>{for(var n in e)i.o(e,n)&&!i.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},i.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),i.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),i.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},(()=>{"use strict";var t=i(7294),e=i(3935);function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function o(t,e,n){return e&&r(t.prototype,e),n&&r(t,n),t}function s(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function a(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function l(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?a(Object(n),!0).forEach((function(e){s(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var u,c={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0},h=t.createContext();function f(){return c}var p=function(){function t(){n(this,t),this.usedNamespaces={}}return o(t,[{key:"addUsedNamespaces",value:function(t){var e=this;t.forEach((function(t){e.usedNamespaces[t]||(e.usedNamespaces[t]=!0)}))}},{key:"getUsedNamespaces",value:function(){return Object.keys(this.usedNamespaces)}}]),t}();function d(){return u}var g={type:"3rdParty",init:function(t){!function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};c=l(l({},c),t)}(t.options.react),function(t){u=t}(t)}};function m(e){var n=e.i18n,r=e.defaultNS,i=e.children,o=(0,t.useMemo)((function(){return{i18n:n,defaultNS:r}}),[n,r]);return(0,t.createElement)(h.Provider,{value:o},i)}i(5697);var _=t.createContext(null),y=function(t){t()},v=function(){return y},b={notify:function(){},get:function(){return[]}};function w(t,e){var n,r=b;function i(){s.onStateChange&&s.onStateChange()}function o(){n||(n=e?e.addNestedSub(i):t.subscribe(i),r=function(){var t=v(),e=null,n=null;return{clear:function(){e=null,n=null},notify:function(){t((function(){for(var t=e;t;)t.callback(),t=t.next}))},get:function(){for(var t=[],n=e;n;)t.push(n),n=n.next;return t},subscribe:function(t){var r=!0,i=n={callback:t,next:null,prev:n};return i.prev?i.prev.next=i:e=i,function(){r&&null!==e&&(r=!1,i.next?i.next.prev=i.prev:n=i.prev,i.prev?i.prev.next=i.next:e=i.next)}}}}())}var s={addNestedSub:function(t){return o(),r.subscribe(t)},notifyNestedSubs:function(){r.notify()},handleChangeWrapper:i,isSubscribed:function(){return Boolean(n)},trySubscribe:o,tryUnsubscribe:function(){n&&(n(),n=void 0,r.clear(),r=b)},getListeners:function(){return r}};return s}var x="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement?t.useLayoutEffect:t.useEffect;const k=function(e){var n=e.store,r=e.context,i=e.children,o=(0,t.useMemo)((function(){var t=w(n);return t.onStateChange=t.notifyNestedSubs,{store:n,subscription:t}}),[n]),s=(0,t.useMemo)((function(){return n.getState()}),[n]);x((function(){var t=o.subscription;return t.trySubscribe(),s!==n.getState()&&t.notifyNestedSubs(),function(){t.tryUnsubscribe(),t.onStateChange=null}}),[o,s]);var a=r||_;return t.createElement(a.Provider,{value:o},i)};function S(){return S=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},S.apply(this,arguments)}function O(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}var E=i(8679),C=i.n(E),A=i(9864),P=["getDisplayName","methodName","renderCountProp","shouldHandleStateChanges","storeKey","withRef","forwardRef","context"],T=["reactReduxForwardedRef"],M=[],R=[null,null];function N(t,e){var n=t[1];return[e.payload,n+1]}function D(t,e,n){x((function(){return t.apply(void 0,e)}),n)}function j(t,e,n,r,i,o,s){t.current=r,e.current=i,n.current=!1,o.current&&(o.current=null,s())}function L(t,e,n,r,i,o,s,a,l,u){if(t){var c=!1,h=null,f=function(){if(!c){var t,n,f=e.getState();try{t=r(f,i.current)}catch(t){n=t,h=t}n||(h=null),t===o.current?s.current||l():(o.current=t,a.current=t,s.current=!0,u({type:"STORE_UPDATED",payload:{error:n}}))}};return n.onStateChange=f,n.trySubscribe(),f(),function(){if(c=!0,n.tryUnsubscribe(),n.onStateChange=null,h)throw h}}}var I=function(){return[null,0]};function B(e,n){void 0===n&&(n={});var r=n,i=r.getDisplayName,o=void 0===i?function(t){return"ConnectAdvanced("+t+")"}:i,s=r.methodName,a=void 0===s?"connectAdvanced":s,l=r.renderCountProp,u=void 0===l?void 0:l,c=r.shouldHandleStateChanges,h=void 0===c||c,f=r.storeKey,p=void 0===f?"store":f,d=(r.withRef,r.forwardRef),g=void 0!==d&&d,m=r.context,y=void 0===m?_:m,v=O(r,P),b=y;return function(n){var r=n.displayName||n.name||"Component",i=o(r),s=S({},v,{getDisplayName:o,methodName:a,renderCountProp:u,shouldHandleStateChanges:h,storeKey:p,displayName:i,wrappedComponentName:r,WrappedComponent:n}),l=v.pure,c=l?t.useMemo:function(t){return t()};function f(r){var i=(0,t.useMemo)((function(){var t=r.reactReduxForwardedRef,e=O(r,T);return[r.context,t,e]}),[r]),o=i[0],a=i[1],l=i[2],u=(0,t.useMemo)((function(){return o&&o.Consumer&&(0,A.isContextConsumer)(t.createElement(o.Consumer,null))?o:b}),[o,b]),f=(0,t.useContext)(u),p=Boolean(r.store)&&Boolean(r.store.getState)&&Boolean(r.store.dispatch);Boolean(f)&&Boolean(f.store);var d=p?r.store:f.store,g=(0,t.useMemo)((function(){return function(t){return e(t.dispatch,s)}(d)}),[d]),m=(0,t.useMemo)((function(){if(!h)return R;var t=w(d,p?null:f.subscription),e=t.notifyNestedSubs.bind(t);return[t,e]}),[d,p,f]),_=m[0],y=m[1],v=(0,t.useMemo)((function(){return p?f:S({},f,{subscription:_})}),[p,f,_]),x=(0,t.useReducer)(N,M,I),k=x[0][0],E=x[1];if(k&&k.error)throw k.error;var C=(0,t.useRef)(),P=(0,t.useRef)(l),B=(0,t.useRef)(),z=(0,t.useRef)(!1),F=c((function(){return B.current&&l===P.current?B.current:g(d.getState(),l)}),[d,k,l]);D(j,[P,C,z,l,F,B,y]),D(L,[h,d,_,g,P,C,z,B,y,E],[d,_,g]);var V=(0,t.useMemo)((function(){return t.createElement(n,S({},F,{ref:a}))}),[a,n,F]);return(0,t.useMemo)((function(){return h?t.createElement(u.Provider,{value:v},V):V}),[u,V,v])}var d=l?t.memo(f):f;if(d.WrappedComponent=n,d.displayName=f.displayName=i,g){var m=t.forwardRef((function(e,n){return t.createElement(d,S({},e,{reactReduxForwardedRef:n}))}));return m.displayName=i,m.WrappedComponent=n,C()(m,n)}return C()(d,n)}}function z(t,e){return t===e?0!==t||0!==e||1/t==1/e:t!=t&&e!=e}function F(t,e){if(z(t,e))return!0;if("object"!=typeof t||null===t||"object"!=typeof e||null===e)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(var i=0;i<n.length;i++)if(!Object.prototype.hasOwnProperty.call(e,n[i])||!z(t[n[i]],e[n[i]]))return!1;return!0}function V(t){return function(e,n){var r=t(e,n);function i(){return r}return i.dependsOnOwnProps=!1,i}}function U(t){return null!==t.dependsOnOwnProps&&void 0!==t.dependsOnOwnProps?Boolean(t.dependsOnOwnProps):1!==t.length}function q(t,e){return function(e,n){n.displayName;var r=function(t,e){return r.dependsOnOwnProps?r.mapToProps(t,e):r.mapToProps(t)};return r.dependsOnOwnProps=!0,r.mapToProps=function(e,n){r.mapToProps=t,r.dependsOnOwnProps=U(t);var i=r(e,n);return"function"==typeof i&&(r.mapToProps=i,r.dependsOnOwnProps=U(i),i=r(e,n)),i},r}}const H=[function(t){return"function"==typeof t?q(t):void 0},function(t){return t?void 0:V((function(t){return{dispatch:t}}))},function(t){return t&&"object"==typeof t?V((function(e){return function(t,e){var n={},r=function(r){var i=t[r];"function"==typeof i&&(n[r]=function(){return e(i.apply(void 0,arguments))})};for(var i in t)r(i);return n}(t,e)})):void 0}],W=[function(t){return"function"==typeof t?q(t):void 0},function(t){return t?void 0:V((function(){return{}}))}];function $(t,e,n){return S({},n,t,e)}const K=[function(t){return"function"==typeof t?function(t){return function(e,n){n.displayName;var r,i=n.pure,o=n.areMergedPropsEqual,s=!1;return function(e,n,a){var l=t(e,n,a);return s?i&&o(l,r)||(r=l):(s=!0,r=l),r}}}(t):void 0},function(t){return t?void 0:function(){return $}}];var Q=["initMapStateToProps","initMapDispatchToProps","initMergeProps"];function G(t,e,n,r){return function(i,o){return n(t(i,o),e(r,o),o)}}function X(t,e,n,r,i){var o,s,a,l,u,c=i.areStatesEqual,h=i.areOwnPropsEqual,f=i.areStatePropsEqual,p=!1;return function(i,d){return p?function(i,p){var d,g,m=!h(p,s),_=!c(i,o);return o=i,s=p,m&&_?(a=t(o,s),e.dependsOnOwnProps&&(l=e(r,s)),u=n(a,l,s)):m?(t.dependsOnOwnProps&&(a=t(o,s)),e.dependsOnOwnProps&&(l=e(r,s)),u=n(a,l,s)):_?(d=t(o,s),g=!f(d,a),a=d,g&&(u=n(a,l,s)),u):u}(i,d):(a=t(o=i,s=d),l=e(r,s),u=n(a,l,s),p=!0,u)}}function J(t,e){var n=e.initMapStateToProps,r=e.initMapDispatchToProps,i=e.initMergeProps,o=O(e,Q),s=n(t,o),a=r(t,o),l=i(t,o);return(o.pure?X:G)(s,a,l,t,o)}var Y=["pure","areStatesEqual","areOwnPropsEqual","areStatePropsEqual","areMergedPropsEqual"];function Z(t,e,n){for(var r=e.length-1;r>=0;r--){var i=e[r](t);if(i)return i}return function(e,r){throw new Error("Invalid value of type "+typeof t+" for "+n+" argument when connecting component "+r.wrappedComponentName+".")}}function tt(t,e){return t===e}function et(t){var e=void 0===t?{}:t,n=e.connectHOC,r=void 0===n?B:n,i=e.mapStateToPropsFactories,o=void 0===i?W:i,s=e.mapDispatchToPropsFactories,a=void 0===s?H:s,l=e.mergePropsFactories,u=void 0===l?K:l,c=e.selectorFactory,h=void 0===c?J:c;return function(t,e,n,i){void 0===i&&(i={});var s=i,l=s.pure,c=void 0===l||l,f=s.areStatesEqual,p=void 0===f?tt:f,d=s.areOwnPropsEqual,g=void 0===d?F:d,m=s.areStatePropsEqual,_=void 0===m?F:m,y=s.areMergedPropsEqual,v=void 0===y?F:y,b=O(s,Y),w=Z(t,o,"mapStateToProps"),x=Z(e,a,"mapDispatchToProps"),k=Z(n,u,"mergeProps");return r(h,S({methodName:"connect",getDisplayName:function(t){return"Connect("+t+")"},shouldHandleStateChanges:Boolean(t),initMapStateToProps:w,initMapDispatchToProps:x,initMergeProps:k,pure:c,areStatesEqual:p,areOwnPropsEqual:g,areStatePropsEqual:_,areMergedPropsEqual:v},b))}}const nt=et();var rt;function it(t){for(var e=arguments.length,n=Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];throw Error("[Immer] minified error nr: "+t+(n.length?" "+n.map((function(t){return"'"+t+"'"})).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function ot(t){return!!t&&!!t[Wt]}function st(t){return!!t&&(function(t){if(!t||"object"!=typeof t)return!1;var e=Object.getPrototypeOf(t);if(null===e)return!0;var n=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;return n===Object||"function"==typeof n&&Function.toString.call(n)===$t}(t)||Array.isArray(t)||!!t[Ht]||!!t.constructor[Ht]||ft(t)||pt(t))}function at(t,e,n){void 0===n&&(n=!1),0===lt(t)?(n?Object.keys:Kt)(t).forEach((function(r){n&&"symbol"==typeof r||e(r,t[r],t)})):t.forEach((function(n,r){return e(r,n,t)}))}function lt(t){var e=t[Wt];return e?e.i>3?e.i-4:e.i:Array.isArray(t)?1:ft(t)?2:pt(t)?3:0}function ut(t,e){return 2===lt(t)?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function ct(t,e,n){var r=lt(t);2===r?t.set(e,n):3===r?(t.delete(e),t.add(n)):t[e]=n}function ht(t,e){return t===e?0!==t||1/t==1/e:t!=t&&e!=e}function ft(t){return Ft&&t instanceof Map}function pt(t){return Vt&&t instanceof Set}function dt(t){return t.o||t.t}function gt(t){if(Array.isArray(t))return Array.prototype.slice.call(t);var e=Qt(t);delete e[Wt];for(var n=Kt(e),r=0;r<n.length;r++){var i=n[r],o=e[i];!1===o.writable&&(o.writable=!0,o.configurable=!0),(o.get||o.set)&&(e[i]={configurable:!0,writable:!0,enumerable:o.enumerable,value:t[i]})}return Object.create(Object.getPrototypeOf(t),e)}function mt(t,e){return void 0===e&&(e=!1),yt(t)||ot(t)||!st(t)||(lt(t)>1&&(t.set=t.add=t.clear=t.delete=_t),Object.freeze(t),e&&at(t,(function(t,e){return mt(e,!0)}),!0)),t}function _t(){it(2)}function yt(t){return null==t||"object"!=typeof t||Object.isFrozen(t)}function vt(t){var e=Gt[t];return e||it(18,t),e}function bt(){return Bt}function wt(t,e){e&&(vt("Patches"),t.u=[],t.s=[],t.v=e)}function xt(t){kt(t),t.p.forEach(Ot),t.p=null}function kt(t){t===Bt&&(Bt=t.l)}function St(t){return Bt={p:[],l:Bt,h:t,m:!0,_:0}}function Ot(t){var e=t[Wt];0===e.i||1===e.i?e.j():e.O=!0}function Et(t,e){e._=e.p.length;var n=e.p[0],r=void 0!==t&&t!==n;return e.h.g||vt("ES5").S(e,t,r),r?(n[Wt].P&&(xt(e),it(4)),st(t)&&(t=Ct(e,t),e.l||Pt(e,t)),e.u&&vt("Patches").M(n[Wt],t,e.u,e.s)):t=Ct(e,n,[]),xt(e),e.u&&e.v(e.u,e.s),t!==qt?t:void 0}function Ct(t,e,n){if(yt(e))return e;var r=e[Wt];if(!r)return at(e,(function(i,o){return At(t,r,e,i,o,n)}),!0),e;if(r.A!==t)return e;if(!r.P)return Pt(t,r.t,!0),r.t;if(!r.I){r.I=!0,r.A._--;var i=4===r.i||5===r.i?r.o=gt(r.k):r.o;at(3===r.i?new Set(i):i,(function(e,o){return At(t,r,i,e,o,n)})),Pt(t,i,!1),n&&t.u&&vt("Patches").R(r,n,t.u,t.s)}return r.o}function At(t,e,n,r,i,o){if(ot(i)){var s=Ct(t,i,o&&e&&3!==e.i&&!ut(e.D,r)?o.concat(r):void 0);if(ct(n,r,s),!ot(s))return;t.m=!1}if(st(i)&&!yt(i)){if(!t.h.F&&t._<1)return;Ct(t,i),e&&e.A.l||Pt(t,i)}}function Pt(t,e,n){void 0===n&&(n=!1),t.h.F&&t.m&&mt(e,n)}function Tt(t,e){var n=t[Wt];return(n?dt(n):t)[e]}function Mt(t,e){if(e in t)for(var n=Object.getPrototypeOf(t);n;){var r=Object.getOwnPropertyDescriptor(n,e);if(r)return r;n=Object.getPrototypeOf(n)}}function Rt(t){t.P||(t.P=!0,t.l&&Rt(t.l))}function Nt(t){t.o||(t.o=gt(t.t))}function Dt(t,e,n){var r=ft(e)?vt("MapSet").N(e,n):pt(e)?vt("MapSet").T(e,n):t.g?function(t,e){var n=Array.isArray(t),r={i:n?1:0,A:e?e.A:bt(),P:!1,I:!1,D:{},l:e,t,k:null,o:null,j:null,C:!1},i=r,o=Xt;n&&(i=[r],o=Jt);var s=Proxy.revocable(i,o),a=s.revoke,l=s.proxy;return r.k=l,r.j=a,l}(e,n):vt("ES5").J(e,n);return(n?n.A:bt()).p.push(r),r}function jt(t){return ot(t)||it(22,t),function t(e){if(!st(e))return e;var n,r=e[Wt],i=lt(e);if(r){if(!r.P&&(r.i<4||!vt("ES5").K(r)))return r.t;r.I=!0,n=Lt(e,i),r.I=!1}else n=Lt(e,i);return at(n,(function(e,i){r&&function(t,e){return 2===lt(t)?t.get(e):t[e]}(r.t,e)===i||ct(n,e,t(i))})),3===i?new Set(n):n}(t)}function Lt(t,e){switch(e){case 2:return new Map(t);case 3:return Array.from(t)}return gt(t)}rt=e.unstable_batchedUpdates,y=rt;var It,Bt,zt="undefined"!=typeof Symbol&&"symbol"==typeof Symbol("x"),Ft="undefined"!=typeof Map,Vt="undefined"!=typeof Set,Ut="undefined"!=typeof Proxy&&void 0!==Proxy.revocable&&"undefined"!=typeof Reflect,qt=zt?Symbol.for("immer-nothing"):((It={})["immer-nothing"]=!0,It),Ht=zt?Symbol.for("immer-draftable"):"__$immer_draftable",Wt=zt?Symbol.for("immer-state"):"__$immer_state",$t=("undefined"!=typeof Symbol&&Symbol.iterator,""+Object.prototype.constructor),Kt="undefined"!=typeof Reflect&&Reflect.ownKeys?Reflect.ownKeys:void 0!==Object.getOwnPropertySymbols?function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:Object.getOwnPropertyNames,Qt=Object.getOwnPropertyDescriptors||function(t){var e={};return Kt(t).forEach((function(n){e[n]=Object.getOwnPropertyDescriptor(t,n)})),e},Gt={},Xt={get:function(t,e){if(e===Wt)return t;var n=dt(t);if(!ut(n,e))return function(t,e,n){var r,i=Mt(e,n);return i?"value"in i?i.value:null===(r=i.get)||void 0===r?void 0:r.call(t.k):void 0}(t,n,e);var r=n[e];return t.I||!st(r)?r:r===Tt(t.t,e)?(Nt(t),t.o[e]=Dt(t.A.h,r,t)):r},has:function(t,e){return e in dt(t)},ownKeys:function(t){return Reflect.ownKeys(dt(t))},set:function(t,e,n){var r=Mt(dt(t),e);if(null==r?void 0:r.set)return r.set.call(t.k,n),!0;if(!t.P){var i=Tt(dt(t),e),o=null==i?void 0:i[Wt];if(o&&o.t===n)return t.o[e]=n,t.D[e]=!1,!0;if(ht(n,i)&&(void 0!==n||ut(t.t,e)))return!0;Nt(t),Rt(t)}return t.o[e]===n&&"number"!=typeof n&&(void 0!==n||e in t.o)||(t.o[e]=n,t.D[e]=!0,!0)},deleteProperty:function(t,e){return void 0!==Tt(t.t,e)||e in t.t?(t.D[e]=!1,Nt(t),Rt(t)):delete t.D[e],t.o&&delete t.o[e],!0},getOwnPropertyDescriptor:function(t,e){var n=dt(t),r=Reflect.getOwnPropertyDescriptor(n,e);return r?{writable:!0,configurable:1!==t.i||"length"!==e,enumerable:r.enumerable,value:n[e]}:r},defineProperty:function(){it(11)},getPrototypeOf:function(t){return Object.getPrototypeOf(t.t)},setPrototypeOf:function(){it(12)}},Jt={};at(Xt,(function(t,e){Jt[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}})),Jt.deleteProperty=function(t,e){return Xt.deleteProperty.call(this,t[0],e)},Jt.set=function(t,e,n){return Xt.set.call(this,t[0],e,n,t[0])};var Yt=function(){function t(t){var e=this;this.g=Ut,this.F=!0,this.produce=function(t,n,r){if("function"==typeof t&&"function"!=typeof n){var i=n;n=t;var o=e;return function(t){var e=this;void 0===t&&(t=i);for(var r=arguments.length,s=Array(r>1?r-1:0),a=1;a<r;a++)s[a-1]=arguments[a];return o.produce(t,(function(t){var r;return(r=n).call.apply(r,[e,t].concat(s))}))}}var s;if("function"!=typeof n&&it(6),void 0!==r&&"function"!=typeof r&&it(7),st(t)){var a=St(e),l=Dt(e,t,void 0),u=!0;try{s=n(l),u=!1}finally{u?xt(a):kt(a)}return"undefined"!=typeof Promise&&s instanceof Promise?s.then((function(t){return wt(a,r),Et(t,a)}),(function(t){throw xt(a),t})):(wt(a,r),Et(s,a))}if(!t||"object"!=typeof t){if((s=n(t))===qt)return;return void 0===s&&(s=t),e.F&&mt(s,!0),s}it(21,t)},this.produceWithPatches=function(t,n){return"function"==typeof t?function(n){for(var r=arguments.length,i=Array(r>1?r-1:0),o=1;o<r;o++)i[o-1]=arguments[o];return e.produceWithPatches(n,(function(e){return t.apply(void 0,[e].concat(i))}))}:[e.produce(t,n,(function(t,e){r=t,i=e})),r,i];var r,i},"boolean"==typeof(null==t?void 0:t.useProxies)&&this.setUseProxies(t.useProxies),"boolean"==typeof(null==t?void 0:t.autoFreeze)&&this.setAutoFreeze(t.autoFreeze)}var e=t.prototype;return e.createDraft=function(t){st(t)||it(8),ot(t)&&(t=jt(t));var e=St(this),n=Dt(this,t,void 0);return n[Wt].C=!0,kt(e),n},e.finishDraft=function(t,e){var n=(t&&t[Wt]).A;return wt(n,e),Et(void 0,n)},e.setAutoFreeze=function(t){this.F=t},e.setUseProxies=function(t){t&&!Ut&&it(20),this.g=t},e.applyPatches=function(t,e){var n;for(n=e.length-1;n>=0;n--){var r=e[n];if(0===r.path.length&&"replace"===r.op){t=r.value;break}}n>-1&&(e=e.slice(n+1));var i=vt("Patches").$;return ot(t)?i(t,e):this.produce(t,(function(t){return i(t,e)}))},t}(),Zt=new Yt,te=Zt.produce;Zt.produceWithPatches.bind(Zt),Zt.setAutoFreeze.bind(Zt),Zt.setUseProxies.bind(Zt),Zt.applyPatches.bind(Zt),Zt.createDraft.bind(Zt),Zt.finishDraft.bind(Zt);const ee=te;function ne(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function re(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?ne(Object(n),!0).forEach((function(e){s(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ne(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function ie(t){return"Minified Redux error #"+t+"; visit https://redux.js.org/Errors?code="+t+" for the full message or use the non-minified dev environment for full errors. "}var oe="function"==typeof Symbol&&Symbol.observable||"@@observable",se=function(){return Math.random().toString(36).substring(7).split("").join(".")},ae={INIT:"@@redux/INIT"+se(),REPLACE:"@@redux/REPLACE"+se(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+se()}};function le(t){if("object"!=typeof t||null===t)return!1;for(var e=t;null!==Object.getPrototypeOf(e);)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e}function ue(t,e,n){var r;if("function"==typeof e&&"function"==typeof n||"function"==typeof n&&"function"==typeof arguments[3])throw new Error(ie(0));if("function"==typeof e&&void 0===n&&(n=e,e=void 0),void 0!==n){if("function"!=typeof n)throw new Error(ie(1));return n(ue)(t,e)}if("function"!=typeof t)throw new Error(ie(2));var i=t,o=e,s=[],a=s,l=!1;function u(){a===s&&(a=s.slice())}function c(){if(l)throw new Error(ie(3));return o}function h(t){if("function"!=typeof t)throw new Error(ie(4));if(l)throw new Error(ie(5));var e=!0;return u(),a.push(t),function(){if(e){if(l)throw new Error(ie(6));e=!1,u();var n=a.indexOf(t);a.splice(n,1),s=null}}}function f(t){if(!le(t))throw new Error(ie(7));if(void 0===t.type)throw new Error(ie(8));if(l)throw new Error(ie(9));try{l=!0,o=i(o,t)}finally{l=!1}for(var e=s=a,n=0;n<e.length;n++)(0,e[n])();return t}function p(t){if("function"!=typeof t)throw new Error(ie(10));i=t,f({type:ae.REPLACE})}function d(){var t,e=h;return(t={subscribe:function(t){if("object"!=typeof t||null===t)throw new Error(ie(11));function n(){t.next&&t.next(c())}return n(),{unsubscribe:e(n)}}})[oe]=function(){return this},t}return f({type:ae.INIT}),(r={dispatch:f,subscribe:h,getState:c,replaceReducer:p})[oe]=d,r}function ce(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return 0===e.length?function(t){return t}:1===e.length?e[0]:e.reduce((function(t,e){return function(){return t(e.apply(void 0,arguments))}}))}function he(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return function(t){return function(){var n=t.apply(void 0,arguments),r=function(){throw new Error(ie(15))},i={getState:n.getState,dispatch:function(){return r.apply(void 0,arguments)}},o=e.map((function(t){return t(i)}));return r=ce.apply(void 0,o)(n.dispatch),re(re({},n),{},{dispatch:r})}}}function fe(t){return function(e){var n=e.dispatch,r=e.getState;return function(e){return function(i){return"function"==typeof i?i(n,r,t):e(i)}}}}var pe=fe();pe.withExtraArgument=fe;const de=pe;var ge,me=(ge=function(t,e){return ge=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},ge(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}ge(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),_e=function(t,e){for(var n=0,r=e.length,i=t.length;n<r;n++,i++)t[i]=e[n];return t},ye=Object.defineProperty,ve=(Object.defineProperties,Object.getOwnPropertyDescriptors,Object.getOwnPropertySymbols),be=Object.prototype.hasOwnProperty,we=Object.prototype.propertyIsEnumerable,xe=function(t,e,n){return e in t?ye(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n},ke=function(t,e){for(var n in e||(e={}))be.call(e,n)&&xe(t,n,e[n]);if(ve)for(var r=0,i=ve(e);r<i.length;r++)n=i[r],we.call(e,n)&&xe(t,n,e[n]);return t},Se="undefined"!=typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(0!==arguments.length)return"object"==typeof arguments[0]?ce:ce.apply(null,arguments)};"undefined"!=typeof window&&window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__;var Oe,Ee=function(t){function e(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=t.apply(this,n)||this;return Object.setPrototypeOf(i,e.prototype),i}return me(e,t),Object.defineProperty(e,Symbol.species,{get:function(){return e},enumerable:!1,configurable:!0}),e.prototype.concat=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return t.prototype.concat.apply(this,e)},e.prototype.prepend=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return 1===t.length&&Array.isArray(t[0])?new(e.bind.apply(e,_e([void 0],t[0].concat(this)))):new(e.bind.apply(e,_e([void 0],t.concat(this))))},e}(Array);function Ce(t,e){function n(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];if(e){var i=e.apply(void 0,n);if(!i)throw new Error("prepareAction did not return an object");return ke(ke({type:t,payload:i.payload},"meta"in i&&{meta:i.meta}),"error"in i&&{error:i.error})}return{type:t,payload:n[0]}}return n.toString=function(){return""+t},n.type=t,n.match=function(e){return e.type===t},n}function Ae(t){var e,n={},r=[],i={addCase:function(t,e){var r="string"==typeof t?t:t.type;if(r in n)throw new Error("addCase cannot be called with two reducers for the same action type");return n[r]=e,i},addMatcher:function(t,e){return r.push({matcher:t,reducer:e}),i},addDefaultCase:function(t){return e=t,i}};return t(i),[n,r,e]}!function(){function t(t,e){var n=i[t];return n?n.enumerable=e:i[t]=n={configurable:!0,enumerable:e,get:function(){var e=this[Wt];return Xt.get(e,t)},set:function(e){var n=this[Wt];Xt.set(n,t,e)}},n}function e(t){for(var e=t.length-1;e>=0;e--){var i=t[e][Wt];if(!i.P)switch(i.i){case 5:r(i)&&Rt(i);break;case 4:n(i)&&Rt(i)}}}function n(t){for(var e=t.t,n=t.k,r=Kt(n),i=r.length-1;i>=0;i--){var o=r[i];if(o!==Wt){var s=e[o];if(void 0===s&&!ut(e,o))return!0;var a=n[o],l=a&&a[Wt];if(l?l.t!==s:!ht(a,s))return!0}}var u=!!e[Wt];return r.length!==Kt(e).length+(u?0:1)}function r(t){var e=t.k;if(e.length!==t.t.length)return!0;var n=Object.getOwnPropertyDescriptor(e,e.length-1);return!(!n||n.get)}var i={};!function(t,e){Gt[t]||(Gt[t]=e)}("ES5",{J:function(e,n){var r=Array.isArray(e),i=function(e,n){if(e){for(var r=Array(n.length),i=0;i<n.length;i++)Object.defineProperty(r,""+i,t(i,!0));return r}var o=Qt(n);delete o[Wt];for(var s=Kt(o),a=0;a<s.length;a++){var l=s[a];o[l]=t(l,e||!!o[l].enumerable)}return Object.create(Object.getPrototypeOf(n),o)}(r,e),o={i:r?5:4,A:n?n.A:bt(),P:!1,I:!1,D:{},l:n,t:e,k:i,o:null,O:!1,C:!1};return Object.defineProperty(i,Wt,{value:o,writable:!0}),i},S:function(t,n,i){i?ot(n)&&n[Wt].A===t&&e(t.p):(t.u&&function t(e){if(e&&"object"==typeof e){var n=e[Wt];if(n){var i=n.t,o=n.k,s=n.D,a=n.i;if(4===a)at(o,(function(e){e!==Wt&&(void 0!==i[e]||ut(i,e)?s[e]||t(o[e]):(s[e]=!0,Rt(n)))})),at(i,(function(t){void 0!==o[t]||ut(o,t)||(s[t]=!1,Rt(n))}));else if(5===a){if(r(n)&&(Rt(n),s.length=!0),o.length<i.length)for(var l=o.length;l<i.length;l++)s[l]=!1;else for(var u=i.length;u<o.length;u++)s[u]=!0;for(var c=Math.min(o.length,i.length),h=0;h<c;h++)void 0===s[h]&&t(o[h])}}}}(t.p[0]),e(t.p))},K:function(t){return 4===t.i?n(t):r(t)}})}();var Pe=window.localStorage,Te=function(t){var e=t.name,n=t.initialState;if(!e)throw new Error("`name` is a required option for createSlice");var r=t.reducers||{},i="function"==typeof t.extraReducers?Ae(t.extraReducers):[t.extraReducers],o=i[0],s=void 0===o?{}:o,a=i[1],l=void 0===a?[]:a,u=i[2],c=void 0===u?void 0:u,h=Object.keys(r),f={},p={},d={};h.forEach((function(t){var n,i,o=r[t],s=function(t,e){return t+"/"+e}(e,t);"reducer"in o?(n=o.reducer,i=o.prepare):n=o,f[t]=n,p[s]=n,d[t]=i?Ce(s,i):Ce(s)}));var g=function(t,e,n,r){void 0===n&&(n=[]);var i="function"==typeof e?Ae(e):[e,n,r],o=i[0],s=i[1],a=i[2],l=ee(t,(function(){}));return function(t,e){void 0===t&&(t=l);var n=_e([o[e.type]],s.filter((function(t){return(0,t.matcher)(e)})).map((function(t){return t.reducer})));return 0===n.filter((function(t){return!!t})).length&&(n=[a]),n.reduce((function(t,n){if(n){var r;if(ot(t))return void 0===(r=n(t,e))?t:r;if(st(t))return ee(t,(function(t){return n(t,e)}));if(void 0===(r=n(t,e))){if(null===t)return t;throw Error("A case reducer on a non-draftable value must not return undefined")}return r}return t}),t)}}(n,ke(ke({},s),p),l,c);return{name:e,reducer:g,actions:d,caseReducers:f}}({name:"checker",initialState:{page:null!==(Oe=Pe.getItem("seo-checker-current"))&&void 0!==Oe?Oe:"head",visibility:null==Pe.getItem("seo-checker-visibility")||!!parseInt(Pe.getItem("seo-checker-visibility"))},reducers:{setPage:function(t,e){t.page=e.payload,Pe.setItem("seo-checker-current",e.payload)},toggleVisibility:function(t){t.visibility=!t.visibility,Pe.setItem("seo-checker-visibility",+t.visibility)}}}),Me=Te.actions,Re=Me.setPage,Ne=Me.toggleVisibility;const De=function(t){var e,n=function(t){return function(t){void 0===t&&(t={});var e=t.thunk,n=void 0===e||e,r=(t.immutableCheck,t.serializableCheck,new Ee);return n&&(function(t){return"boolean"==typeof t}(n)?r.push(de):r.push(de.withExtraArgument(n.extraArgument))),r}(t)},r=t||{},i=r.reducer,o=void 0===i?void 0:i,s=r.middleware,a=void 0===s?n():s,l=r.devTools,u=void 0===l||l,c=r.preloadedState,h=void 0===c?void 0:c,f=r.enhancers,p=void 0===f?void 0:f;if("function"==typeof o)e=o;else{if(!function(t){if("object"!=typeof t||null===t)return!1;for(var e=t;null!==Object.getPrototypeOf(e);)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e}(o))throw new Error('"reducer" is a required argument, and must be a function or an object of functions that can be passed to combineReducers');e=function(t){for(var e=Object.keys(t),n={},r=0;r<e.length;r++){var i=e[r];"function"==typeof t[i]&&(n[i]=t[i])}var o,s=Object.keys(n);try{!function(t){Object.keys(t).forEach((function(e){var n=t[e];if(void 0===n(void 0,{type:ae.INIT}))throw new Error(ie(12));if(void 0===n(void 0,{type:ae.PROBE_UNKNOWN_ACTION()}))throw new Error(ie(13))}))}(n)}catch(t){o=t}return function(t,e){if(void 0===t&&(t={}),o)throw o;for(var r=!1,i={},a=0;a<s.length;a++){var l=s[a],u=n[l],c=t[l],h=u(c,e);if(void 0===h)throw e&&e.type,new Error(ie(14));i[l]=h,r=r||h!==c}return(r=r||s.length!==Object.keys(t).length)?i:t}}(o)}var d=a;"function"==typeof d&&(d=d(n));var g=he.apply(void 0,d),m=ce;u&&(m=Se(ke({trace:!1},"object"==typeof u&&u)));var _=[g];return Array.isArray(p)?_=_e([g],p):"function"==typeof p&&(_=p(_)),ue(e,h,m.apply(void 0,_))}({reducer:{checker:Te.reducer}});function je(t){return je="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},je(t)}function Le(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Ie(t,e){return Ie=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},Ie(t,e)}function Be(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Ie(t,e)}function ze(t,e){if(e&&("object"===je(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Le(t)}function Fe(t){return Fe=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Fe(t)}function Ve(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Ue(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o=[],s=!0,a=!1;try{for(n=n.call(t);!(s=(r=n.next()).done)&&(o.push(r.value),!e||o.length!==e);s=!0);}catch(t){a=!0,i=t}finally{try{s||null==n.return||n.return()}finally{if(a)throw i}}return o}}(t,e)||function(t,e){if(t){if("string"==typeof t)return Ve(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ve(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function qe(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function He(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?qe(Object(n),!0).forEach((function(e){s(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):qe(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var We={type:"logger",log:function(t){this.output("log",t)},warn:function(t){this.output("warn",t)},error:function(t){this.output("error",t)},output:function(t,e){console&&console[t]&&console[t].apply(console,e)}},$e=new(function(){function t(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};n(this,t),this.init(e,r)}return o(t,[{key:"init",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.prefix=e.prefix||"i18next:",this.logger=t||We,this.options=e,this.debug=e.debug}},{key:"setDebug",value:function(t){this.debug=t}},{key:"log",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return this.forward(e,"log","",!0)}},{key:"warn",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return this.forward(e,"warn","",!0)}},{key:"error",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return this.forward(e,"error","")}},{key:"deprecate",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return this.forward(e,"warn","WARNING DEPRECATED: ",!0)}},{key:"forward",value:function(t,e,n,r){return r&&!this.debug?null:("string"==typeof t[0]&&(t[0]="".concat(n).concat(this.prefix," ").concat(t[0])),this.logger[e](t))}},{key:"create",value:function(e){return new t(this.logger,He(He({},{prefix:"".concat(this.prefix,":").concat(e,":")}),this.options))}}]),t}()),Ke=function(){function t(){n(this,t),this.observers={}}return o(t,[{key:"on",value:function(t,e){var n=this;return t.split(" ").forEach((function(t){n.observers[t]=n.observers[t]||[],n.observers[t].push(e)})),this}},{key:"off",value:function(t,e){this.observers[t]&&(e?this.observers[t]=this.observers[t].filter((function(t){return t!==e})):delete this.observers[t])}},{key:"emit",value:function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];if(this.observers[t]){var i=[].concat(this.observers[t]);i.forEach((function(t){t.apply(void 0,n)}))}if(this.observers["*"]){var o=[].concat(this.observers["*"]);o.forEach((function(e){e.apply(e,[t].concat(n))}))}}}]),t}();function Qe(){var t,e,n=new Promise((function(n,r){t=n,e=r}));return n.resolve=t,n.reject=e,n}function Ge(t){return null==t?"":""+t}function Xe(t,e,n){t.forEach((function(t){e[t]&&(n[t]=e[t])}))}function Je(t,e,n){function r(t){return t&&t.indexOf("###")>-1?t.replace(/###/g,"."):t}function i(){return!t||"string"==typeof t}for(var o="string"!=typeof e?[].concat(e):e.split(".");o.length>1;){if(i())return{};var s=r(o.shift());!t[s]&&n&&(t[s]=new n),t=Object.prototype.hasOwnProperty.call(t,s)?t[s]:{}}return i()?{}:{obj:t,k:r(o.shift())}}function Ye(t,e,n){var r=Je(t,e,Object);r.obj[r.k]=n}function Ze(t,e){var n=Je(t,e),r=n.obj,i=n.k;if(r)return r[i]}function tn(t,e,n){var r=Ze(t,n);return void 0!==r?r:Ze(e,n)}function en(t,e,n){for(var r in e)"__proto__"!==r&&"constructor"!==r&&(r in t?"string"==typeof t[r]||t[r]instanceof String||"string"==typeof e[r]||e[r]instanceof String?n&&(t[r]=e[r]):en(t[r],e[r],n):t[r]=e[r]);return t}function nn(t){return t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}var rn={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};function on(t){return"string"==typeof t?t.replace(/[&<>"'\/]/g,(function(t){return rn[t]})):t}var sn="undefined"!=typeof window&&window.navigator&&window.navigator.userAgent&&window.navigator.userAgent.indexOf("MSIE")>-1,an=[" ",",","?","!",";"];function ln(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function un(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?ln(Object(n),!0).forEach((function(e){s(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ln(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function cn(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:".";if(t){if(t[e])return t[e];for(var r=e.split(n),i=t,o=0;o<r.length;++o){if(!i)return;if("string"==typeof i[r[o]]&&o+1<r.length)return;if(void 0===i[r[o]]){for(var s=2,a=r.slice(o,o+s).join(n),l=i[a];void 0===l&&r.length>o+s;)s++,l=i[a=r.slice(o,o+s).join(n)];if(void 0===l)return;if("string"==typeof l)return l;if(a&&"string"==typeof l[a])return l[a];var u=r.slice(o+s).join(n);return u?cn(l,u,n):void 0}i=i[r[o]]}return i}}var hn=function(t){Be(s,t);var e,r,i=(e=s,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,n=Fe(e);if(r){var i=Fe(this).constructor;t=Reflect.construct(n,arguments,i)}else t=n.apply(this,arguments);return ze(this,t)});function s(t){var e,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{ns:["translation"],defaultNS:"translation"};return n(this,s),e=i.call(this),sn&&Ke.call(Le(e)),e.data=t||{},e.options=r,void 0===e.options.keySeparator&&(e.options.keySeparator="."),void 0===e.options.ignoreJSONStructure&&(e.options.ignoreJSONStructure=!0),e}return o(s,[{key:"addNamespaces",value:function(t){this.options.ns.indexOf(t)<0&&this.options.ns.push(t)}},{key:"removeNamespaces",value:function(t){var e=this.options.ns.indexOf(t);e>-1&&this.options.ns.splice(e,1)}},{key:"getResource",value:function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=void 0!==r.keySeparator?r.keySeparator:this.options.keySeparator,o=void 0!==r.ignoreJSONStructure?r.ignoreJSONStructure:this.options.ignoreJSONStructure,s=[t,e];n&&"string"!=typeof n&&(s=s.concat(n)),n&&"string"==typeof n&&(s=s.concat(i?n.split(i):n)),t.indexOf(".")>-1&&(s=t.split("."));var a=Ze(this.data,s);return a||!o||"string"!=typeof n?a:cn(this.data&&this.data[t]&&this.data[t][e],n,i)}},{key:"addResource",value:function(t,e,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{silent:!1},o=this.options.keySeparator;void 0===o&&(o=".");var s=[t,e];n&&(s=s.concat(o?n.split(o):n)),t.indexOf(".")>-1&&(r=e,e=(s=t.split("."))[1]),this.addNamespaces(e),Ye(this.data,s,r),i.silent||this.emit("added",t,e,n,r)}},{key:"addResources",value:function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{silent:!1};for(var i in n)"string"!=typeof n[i]&&"[object Array]"!==Object.prototype.toString.apply(n[i])||this.addResource(t,e,i,n[i],{silent:!0});r.silent||this.emit("added",t,e,n)}},{key:"addResourceBundle",value:function(t,e,n,r,i){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{silent:!1},s=[t,e];t.indexOf(".")>-1&&(r=n,n=e,e=(s=t.split("."))[1]),this.addNamespaces(e);var a=Ze(this.data,s)||{};r?en(a,n,i):a=un(un({},a),n),Ye(this.data,s,a),o.silent||this.emit("added",t,e,n)}},{key:"removeResourceBundle",value:function(t,e){this.hasResourceBundle(t,e)&&delete this.data[t][e],this.removeNamespaces(e),this.emit("removed",t,e)}},{key:"hasResourceBundle",value:function(t,e){return void 0!==this.getResource(t,e)}},{key:"getResourceBundle",value:function(t,e){return e||(e=this.options.defaultNS),"v1"===this.options.compatibilityAPI?un(un({},{}),this.getResource(t,e)):this.getResource(t,e)}},{key:"getDataByLanguage",value:function(t){return this.data[t]}},{key:"hasLanguageSomeTranslations",value:function(t){var e=this.getDataByLanguage(t);return!!(e&&Object.keys(e)||[]).find((function(t){return e[t]&&Object.keys(e[t]).length>0}))}},{key:"toJSON",value:function(){return this.data}}]),s}(Ke),fn={processors:{},addPostProcessor:function(t){this.processors[t.name]=t},handle:function(t,e,n,r,i){var o=this;return t.forEach((function(t){o.processors[t]&&(e=o.processors[t].process(e,n,r,i))})),e}};function pn(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function dn(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?pn(Object(n),!0).forEach((function(e){s(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):pn(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var gn={},mn=function(t){Be(s,t);var e,r,i=(e=s,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,n=Fe(e);if(r){var i=Fe(this).constructor;t=Reflect.construct(n,arguments,i)}else t=n.apply(this,arguments);return ze(this,t)});function s(t){var e,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return n(this,s),e=i.call(this),sn&&Ke.call(Le(e)),Xe(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],t,Le(e)),e.options=r,void 0===e.options.keySeparator&&(e.options.keySeparator="."),e.logger=$e.create("translator"),e}return o(s,[{key:"changeLanguage",value:function(t){t&&(this.language=t)}},{key:"exists",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{interpolation:{}};if(null==t)return!1;var n=this.resolve(t,e);return n&&void 0!==n.res}},{key:"extractFromKey",value:function(t,e){var n=void 0!==e.nsSeparator?e.nsSeparator:this.options.nsSeparator;void 0===n&&(n=":");var r=void 0!==e.keySeparator?e.keySeparator:this.options.keySeparator,i=e.ns||this.options.defaultNS,o=n&&t.indexOf(n)>-1,s=!(this.options.userDefinedKeySeparator||e.keySeparator||this.options.userDefinedNsSeparator||e.nsSeparator||function(t,e,n){e=e||"",n=n||"";var r=an.filter((function(t){return e.indexOf(t)<0&&n.indexOf(t)<0}));if(0===r.length)return!0;var i=new RegExp("(".concat(r.map((function(t){return"?"===t?"\\?":t})).join("|"),")")),o=!i.test(t);if(!o){var s=t.indexOf(n);s>0&&!i.test(t.substring(0,s))&&(o=!0)}return o}(t,n,r));if(o&&!s){var a=t.match(this.interpolator.nestingRegexp);if(a&&a.length>0)return{key:t,namespaces:i};var l=t.split(n);(n!==r||n===r&&this.options.ns.indexOf(l[0])>-1)&&(i=l.shift()),t=l.join(r)}return"string"==typeof i&&(i=[i]),{key:t,namespaces:i}}},{key:"translate",value:function(t,e,n){var r=this;if("object"!==je(e)&&this.options.overloadTranslationOptionHandler&&(e=this.options.overloadTranslationOptionHandler(arguments)),e||(e={}),null==t)return"";Array.isArray(t)||(t=[String(t)]);var i=void 0!==e.keySeparator?e.keySeparator:this.options.keySeparator,o=this.extractFromKey(t[t.length-1],e),a=o.key,l=o.namespaces,u=l[l.length-1],c=e.lng||this.language,h=e.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(c&&"cimode"===c.toLowerCase()){if(h){var f=e.nsSeparator||this.options.nsSeparator;return u+f+a}return a}var p=this.resolve(t,e),d=p&&p.res,g=p&&p.usedKey||a,m=p&&p.exactUsedKey||a,_=Object.prototype.toString.apply(d),y=["[object Number]","[object Function]","[object RegExp]"],v=void 0!==e.joinArrays?e.joinArrays:this.options.joinArrays,b=!this.i18nFormat||this.i18nFormat.handleAsObject,w="string"!=typeof d&&"boolean"!=typeof d&&"number"!=typeof d;if(b&&d&&w&&y.indexOf(_)<0&&("string"!=typeof v||"[object Array]"!==_)){if(!e.returnObjects&&!this.options.returnObjects)return this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!"),this.options.returnedObjectHandler?this.options.returnedObjectHandler(g,d,dn(dn({},e),{},{ns:l})):"key '".concat(a," (").concat(this.language,")' returned an object instead of string.");if(i){var x="[object Array]"===_,k=x?[]:{},S=x?m:g;for(var O in d)if(Object.prototype.hasOwnProperty.call(d,O)){var E="".concat(S).concat(i).concat(O);k[O]=this.translate(E,dn(dn({},e),{joinArrays:!1,ns:l})),k[O]===E&&(k[O]=d[O])}d=k}}else if(b&&"string"==typeof v&&"[object Array]"===_)(d=d.join(v))&&(d=this.extendTranslation(d,t,e,n));else{var C=!1,A=!1,P=void 0!==e.count&&"string"!=typeof e.count,T=s.hasDefaultValue(e),M=P?this.pluralResolver.getSuffix(c,e.count,e):"",R=e["defaultValue".concat(M)]||e.defaultValue;!this.isValidLookup(d)&&T&&(C=!0,d=R),this.isValidLookup(d)||(A=!0,d=a);var N=e.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey,D=N&&A?void 0:d,j=T&&R!==d&&this.options.updateMissing;if(A||C||j){if(this.logger.log(j?"updateKey":"missingKey",c,u,a,j?R:d),i){var L=this.resolve(a,dn(dn({},e),{},{keySeparator:!1}));L&&L.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}var I=[],B=this.languageUtils.getFallbackCodes(this.options.fallbackLng,e.lng||this.language);if("fallback"===this.options.saveMissingTo&&B&&B[0])for(var z=0;z<B.length;z++)I.push(B[z]);else"all"===this.options.saveMissingTo?I=this.languageUtils.toResolveHierarchy(e.lng||this.language):I.push(e.lng||this.language);var F=function(t,n,i){r.options.missingKeyHandler?r.options.missingKeyHandler(t,u,n,j?i:D,j,e):r.backendConnector&&r.backendConnector.saveMissing&&r.backendConnector.saveMissing(t,u,n,j?i:D,j,e),r.emit("missingKey",t,u,n,d)};this.options.saveMissing&&(this.options.saveMissingPlurals&&P?I.forEach((function(t){r.pluralResolver.getSuffixes(t).forEach((function(n){F([t],a+n,e["defaultValue".concat(n)]||R)}))})):F(I,a,R))}d=this.extendTranslation(d,t,e,p,n),A&&d===a&&this.options.appendNamespaceToMissingKey&&(d="".concat(u,":").concat(a)),(A||C)&&this.options.parseMissingKeyHandler&&(d=this.options.parseMissingKeyHandler(d))}return d}},{key:"extendTranslation",value:function(t,e,n,r,i){var o=this;if(this.i18nFormat&&this.i18nFormat.parse)t=this.i18nFormat.parse(t,n,r.usedLng,r.usedNS,r.usedKey,{resolved:r});else if(!n.skipInterpolation){n.interpolation&&this.interpolator.init(dn(dn({},n),{interpolation:dn(dn({},this.options.interpolation),n.interpolation)}));var s,a=n.interpolation&&n.interpolation.skipOnVariables||this.options.interpolation.skipOnVariables;if(a){var l=t.match(this.interpolator.nestingRegexp);s=l&&l.length}var u=n.replace&&"string"!=typeof n.replace?n.replace:n;if(this.options.interpolation.defaultVariables&&(u=dn(dn({},this.options.interpolation.defaultVariables),u)),t=this.interpolator.interpolate(t,u,n.lng||this.language,n),a){var c=t.match(this.interpolator.nestingRegexp);s<(c&&c.length)&&(n.nest=!1)}!1!==n.nest&&(t=this.interpolator.nest(t,(function(){for(var t=arguments.length,r=new Array(t),s=0;s<t;s++)r[s]=arguments[s];return i&&i[0]===r[0]&&!n.context?(o.logger.warn("It seems you are nesting recursively key: ".concat(r[0]," in key: ").concat(e[0])),null):o.translate.apply(o,r.concat([e]))}),n)),n.interpolation&&this.interpolator.reset()}var h=n.postProcess||this.options.postProcess,f="string"==typeof h?[h]:h;return null!=t&&f&&f.length&&!1!==n.applyPostProcessor&&(t=fn.handle(f,t,e,this.options&&this.options.postProcessPassResolved?dn({i18nResolved:r},n):n,this)),t}},{key:"resolve",value:function(t){var e,n,r,i,o,s=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return"string"==typeof t&&(t=[t]),t.forEach((function(t){if(!s.isValidLookup(e)){var l=s.extractFromKey(t,a),u=l.key;n=u;var c=l.namespaces;s.options.fallbackNS&&(c=c.concat(s.options.fallbackNS));var h=void 0!==a.count&&"string"!=typeof a.count,f=void 0!==a.context&&("string"==typeof a.context||"number"==typeof a.context)&&""!==a.context,p=a.lngs?a.lngs:s.languageUtils.toResolveHierarchy(a.lng||s.language,a.fallbackLng);c.forEach((function(t){s.isValidLookup(e)||(o=t,!gn["".concat(p[0],"-").concat(t)]&&s.utils&&s.utils.hasLoadedNamespace&&!s.utils.hasLoadedNamespace(o)&&(gn["".concat(p[0],"-").concat(t)]=!0,s.logger.warn('key "'.concat(n,'" for languages "').concat(p.join(", "),'" won\'t get resolved as namespace "').concat(o,'" was not yet loaded'),"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),p.forEach((function(n){if(!s.isValidLookup(e)){i=n;var o,l,c=u,p=[c];for(s.i18nFormat&&s.i18nFormat.addLookupKeys?s.i18nFormat.addLookupKeys(p,u,n,t,a):(h&&(o=s.pluralResolver.getSuffix(n,a.count,a)),h&&f&&p.push(c+o),f&&p.push(c+="".concat(s.options.contextSeparator).concat(a.context)),h&&p.push(c+=o));l=p.pop();)s.isValidLookup(e)||(r=l,e=s.getResource(n,t,l,a))}})))}))}})),{res:e,usedKey:n,exactUsedKey:r,usedLng:i,usedNS:o}}},{key:"isValidLookup",value:function(t){return!(void 0===t||!this.options.returnNull&&null===t||!this.options.returnEmptyString&&""===t)}},{key:"getResource",value:function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return this.i18nFormat&&this.i18nFormat.getResource?this.i18nFormat.getResource(t,e,n,r):this.resourceStore.getResource(t,e,n,r)}}],[{key:"hasDefaultValue",value:function(t){var e="defaultValue";for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&e===n.substring(0,e.length)&&void 0!==t[n])return!0;return!1}}]),s}(Ke);function _n(t){return t.charAt(0).toUpperCase()+t.slice(1)}var yn=function(){function t(e){n(this,t),this.options=e,this.supportedLngs=this.options.supportedLngs||!1,this.logger=$e.create("languageUtils")}return o(t,[{key:"getScriptPartFromCode",value:function(t){if(!t||t.indexOf("-")<0)return null;var e=t.split("-");return 2===e.length?null:(e.pop(),"x"===e[e.length-1].toLowerCase()?null:this.formatLanguageCode(e.join("-")))}},{key:"getLanguagePartFromCode",value:function(t){if(!t||t.indexOf("-")<0)return t;var e=t.split("-");return this.formatLanguageCode(e[0])}},{key:"formatLanguageCode",value:function(t){if("string"==typeof t&&t.indexOf("-")>-1){var e=["hans","hant","latn","cyrl","cans","mong","arab"],n=t.split("-");return this.options.lowerCaseLng?n=n.map((function(t){return t.toLowerCase()})):2===n.length?(n[0]=n[0].toLowerCase(),n[1]=n[1].toUpperCase(),e.indexOf(n[1].toLowerCase())>-1&&(n[1]=_n(n[1].toLowerCase()))):3===n.length&&(n[0]=n[0].toLowerCase(),2===n[1].length&&(n[1]=n[1].toUpperCase()),"sgn"!==n[0]&&2===n[2].length&&(n[2]=n[2].toUpperCase()),e.indexOf(n[1].toLowerCase())>-1&&(n[1]=_n(n[1].toLowerCase())),e.indexOf(n[2].toLowerCase())>-1&&(n[2]=_n(n[2].toLowerCase()))),n.join("-")}return this.options.cleanCode||this.options.lowerCaseLng?t.toLowerCase():t}},{key:"isSupportedCode",value:function(t){return("languageOnly"===this.options.load||this.options.nonExplicitSupportedLngs)&&(t=this.getLanguagePartFromCode(t)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(t)>-1}},{key:"getBestMatchFromCodes",value:function(t){var e,n=this;return t?(t.forEach((function(t){if(!e){var r=n.formatLanguageCode(t);n.options.supportedLngs&&!n.isSupportedCode(r)||(e=r)}})),!e&&this.options.supportedLngs&&t.forEach((function(t){if(!e){var r=n.getLanguagePartFromCode(t);if(n.isSupportedCode(r))return e=r;e=n.options.supportedLngs.find((function(t){if(0===t.indexOf(r))return t}))}})),e||(e=this.getFallbackCodes(this.options.fallbackLng)[0]),e):null}},{key:"getFallbackCodes",value:function(t,e){if(!t)return[];if("function"==typeof t&&(t=t(e)),"string"==typeof t&&(t=[t]),"[object Array]"===Object.prototype.toString.apply(t))return t;if(!e)return t.default||[];var n=t[e];return n||(n=t[this.getScriptPartFromCode(e)]),n||(n=t[this.formatLanguageCode(e)]),n||(n=t[this.getLanguagePartFromCode(e)]),n||(n=t.default),n||[]}},{key:"toResolveHierarchy",value:function(t,e){var n=this,r=this.getFallbackCodes(e||this.options.fallbackLng||[],t),i=[],o=function(t){t&&(n.isSupportedCode(t)?i.push(t):n.logger.warn("rejecting language code not found in supportedLngs: ".concat(t)))};return"string"==typeof t&&t.indexOf("-")>-1?("languageOnly"!==this.options.load&&o(this.formatLanguageCode(t)),"languageOnly"!==this.options.load&&"currentOnly"!==this.options.load&&o(this.getScriptPartFromCode(t)),"currentOnly"!==this.options.load&&o(this.getLanguagePartFromCode(t))):"string"==typeof t&&o(this.formatLanguageCode(t)),r.forEach((function(t){i.indexOf(t)<0&&o(n.formatLanguageCode(t))})),i}}]),t}(),vn=[{lngs:["ach","ak","am","arn","br","fil","gun","ln","mfe","mg","mi","oc","pt","pt-BR","tg","tl","ti","tr","uz","wa"],nr:[1,2],fc:1},{lngs:["af","an","ast","az","bg","bn","ca","da","de","dev","el","en","eo","es","et","eu","fi","fo","fur","fy","gl","gu","ha","hi","hu","hy","ia","it","kk","kn","ku","lb","mai","ml","mn","mr","nah","nap","nb","ne","nl","nn","no","nso","pa","pap","pms","ps","pt-PT","rm","sco","se","si","so","son","sq","sv","sw","ta","te","tk","ur","yo"],nr:[1,2],fc:2},{lngs:["ay","bo","cgg","fa","ht","id","ja","jbo","ka","km","ko","ky","lo","ms","sah","su","th","tt","ug","vi","wo","zh"],nr:[1],fc:3},{lngs:["be","bs","cnr","dz","hr","ru","sr","uk"],nr:[1,2,5],fc:4},{lngs:["ar"],nr:[0,1,2,3,11,100],fc:5},{lngs:["cs","sk"],nr:[1,2,5],fc:6},{lngs:["csb","pl"],nr:[1,2,5],fc:7},{lngs:["cy"],nr:[1,2,3,8],fc:8},{lngs:["fr"],nr:[1,2],fc:9},{lngs:["ga"],nr:[1,2,3,7,11],fc:10},{lngs:["gd"],nr:[1,2,3,20],fc:11},{lngs:["is"],nr:[1,2],fc:12},{lngs:["jv"],nr:[0,1],fc:13},{lngs:["kw"],nr:[1,2,3,4],fc:14},{lngs:["lt"],nr:[1,2,10],fc:15},{lngs:["lv"],nr:[1,2,0],fc:16},{lngs:["mk"],nr:[1,2],fc:17},{lngs:["mnk"],nr:[0,1,2],fc:18},{lngs:["mt"],nr:[1,2,11,20],fc:19},{lngs:["or"],nr:[2,1],fc:2},{lngs:["ro"],nr:[1,2,20],fc:20},{lngs:["sl"],nr:[5,1,2,3],fc:21},{lngs:["he","iw"],nr:[1,2,20,21],fc:22}],bn={1:function(t){return Number(t>1)},2:function(t){return Number(1!=t)},3:function(t){return 0},4:function(t){return Number(t%10==1&&t%100!=11?0:t%10>=2&&t%10<=4&&(t%100<10||t%100>=20)?1:2)},5:function(t){return Number(0==t?0:1==t?1:2==t?2:t%100>=3&&t%100<=10?3:t%100>=11?4:5)},6:function(t){return Number(1==t?0:t>=2&&t<=4?1:2)},7:function(t){return Number(1==t?0:t%10>=2&&t%10<=4&&(t%100<10||t%100>=20)?1:2)},8:function(t){return Number(1==t?0:2==t?1:8!=t&&11!=t?2:3)},9:function(t){return Number(t>=2)},10:function(t){return Number(1==t?0:2==t?1:t<7?2:t<11?3:4)},11:function(t){return Number(1==t||11==t?0:2==t||12==t?1:t>2&&t<20?2:3)},12:function(t){return Number(t%10!=1||t%100==11)},13:function(t){return Number(0!==t)},14:function(t){return Number(1==t?0:2==t?1:3==t?2:3)},15:function(t){return Number(t%10==1&&t%100!=11?0:t%10>=2&&(t%100<10||t%100>=20)?1:2)},16:function(t){return Number(t%10==1&&t%100!=11?0:0!==t?1:2)},17:function(t){return Number(1==t||t%10==1&&t%100!=11?0:1)},18:function(t){return Number(0==t?0:1==t?1:2)},19:function(t){return Number(1==t?0:0==t||t%100>1&&t%100<11?1:t%100>10&&t%100<20?2:3)},20:function(t){return Number(1==t?0:0==t||t%100>0&&t%100<20?1:2)},21:function(t){return Number(t%100==1?1:t%100==2?2:t%100==3||t%100==4?3:0)},22:function(t){return Number(1==t?0:2==t?1:(t<0||t>10)&&t%10==0?2:3)}},wn=["v1","v2","v3"],xn={zero:0,one:1,two:2,few:3,many:4,other:5};function kn(){var t={};return vn.forEach((function(e){e.lngs.forEach((function(n){t[n]={numbers:e.nr,plurals:bn[e.fc]}}))})),t}var Sn=function(){function t(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};n(this,t),this.languageUtils=e,this.options=r,this.logger=$e.create("pluralResolver"),this.options.compatibilityJSON&&"v4"!==this.options.compatibilityJSON||"undefined"!=typeof Intl&&Intl.PluralRules||(this.options.compatibilityJSON="v3",this.logger.error("Your environment seems not to be Intl API compatible, use an Intl.PluralRules polyfill. Will fallback to the compatibilityJSON v3 format handling.")),this.rules=kn()}return o(t,[{key:"addRule",value:function(t,e){this.rules[t]=e}},{key:"getRule",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this.shouldUseIntlApi())try{return new Intl.PluralRules(t,{type:e.ordinal?"ordinal":"cardinal"})}catch(t){return}return this.rules[t]||this.rules[this.languageUtils.getLanguagePartFromCode(t)]}},{key:"needsPlural",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.getRule(t,e);return this.shouldUseIntlApi()?n&&n.resolvedOptions().pluralCategories.length>1:n&&n.numbers.length>1}},{key:"getPluralFormsOfKey",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.getSuffixes(t,n).map((function(t){return"".concat(e).concat(t)}))}},{key:"getSuffixes",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=this.getRule(t,n);return r?this.shouldUseIntlApi()?r.resolvedOptions().pluralCategories.sort((function(t,e){return xn[t]-xn[e]})).map((function(t){return"".concat(e.options.prepend).concat(t)})):r.numbers.map((function(r){return e.getSuffix(t,r,n)})):[]}},{key:"getSuffix",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=this.getRule(t,n);return r?this.shouldUseIntlApi()?"".concat(this.options.prepend).concat(r.select(e)):this.getSuffixRetroCompatible(r,e):(this.logger.warn("no plural rule found for: ".concat(t)),"")}},{key:"getSuffixRetroCompatible",value:function(t,e){var n=this,r=t.noAbs?t.plurals(e):t.plurals(Math.abs(e)),i=t.numbers[r];this.options.simplifyPluralSuffix&&2===t.numbers.length&&1===t.numbers[0]&&(2===i?i="plural":1===i&&(i=""));var o=function(){return n.options.prepend&&i.toString()?n.options.prepend+i.toString():i.toString()};return"v1"===this.options.compatibilityJSON?1===i?"":"number"==typeof i?"_plural_".concat(i.toString()):o():"v2"===this.options.compatibilityJSON||this.options.simplifyPluralSuffix&&2===t.numbers.length&&1===t.numbers[0]?o():this.options.prepend&&r.toString()?this.options.prepend+r.toString():r.toString()}},{key:"shouldUseIntlApi",value:function(){return!wn.includes(this.options.compatibilityJSON)}}]),t}();function On(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function En(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?On(Object(n),!0).forEach((function(e){s(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):On(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var Cn=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};n(this,t),this.logger=$e.create("interpolator"),this.options=e,this.format=e.interpolation&&e.interpolation.format||function(t){return t},this.init(e)}return o(t,[{key:"init",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};t.interpolation||(t.interpolation={escapeValue:!0});var e=t.interpolation;this.escape=void 0!==e.escape?e.escape:on,this.escapeValue=void 0===e.escapeValue||e.escapeValue,this.useRawValueToEscape=void 0!==e.useRawValueToEscape&&e.useRawValueToEscape,this.prefix=e.prefix?nn(e.prefix):e.prefixEscaped||"{{",this.suffix=e.suffix?nn(e.suffix):e.suffixEscaped||"}}",this.formatSeparator=e.formatSeparator?e.formatSeparator:e.formatSeparator||",",this.unescapePrefix=e.unescapeSuffix?"":e.unescapePrefix||"-",this.unescapeSuffix=this.unescapePrefix?"":e.unescapeSuffix||"",this.nestingPrefix=e.nestingPrefix?nn(e.nestingPrefix):e.nestingPrefixEscaped||nn("$t("),this.nestingSuffix=e.nestingSuffix?nn(e.nestingSuffix):e.nestingSuffixEscaped||nn(")"),this.nestingOptionsSeparator=e.nestingOptionsSeparator?e.nestingOptionsSeparator:e.nestingOptionsSeparator||",",this.maxReplaces=e.maxReplaces?e.maxReplaces:1e3,this.alwaysFormat=void 0!==e.alwaysFormat&&e.alwaysFormat,this.resetRegExp()}},{key:"reset",value:function(){this.options&&this.init(this.options)}},{key:"resetRegExp",value:function(){var t="".concat(this.prefix,"(.+?)").concat(this.suffix);this.regexp=new RegExp(t,"g");var e="".concat(this.prefix).concat(this.unescapePrefix,"(.+?)").concat(this.unescapeSuffix).concat(this.suffix);this.regexpUnescape=new RegExp(e,"g");var n="".concat(this.nestingPrefix,"(.+?)").concat(this.nestingSuffix);this.nestingRegexp=new RegExp(n,"g")}},{key:"interpolate",value:function(t,e,n,r){var i,o,s,a=this,l=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{};function u(t){return t.replace(/\$/g,"$$$$")}var c=function(t){if(t.indexOf(a.formatSeparator)<0){var i=tn(e,l,t);return a.alwaysFormat?a.format(i,void 0,n,En(En(En({},r),e),{},{interpolationkey:t})):i}var o=t.split(a.formatSeparator),s=o.shift().trim(),u=o.join(a.formatSeparator).trim();return a.format(tn(e,l,s),u,n,En(En(En({},r),e),{},{interpolationkey:s}))};this.resetRegExp();var h=r&&r.missingInterpolationHandler||this.options.missingInterpolationHandler,f=r&&r.interpolation&&r.interpolation.skipOnVariables||this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:function(t){return u(t)}},{regex:this.regexp,safeValue:function(t){return a.escapeValue?u(a.escape(t)):u(t)}}].forEach((function(e){for(s=0;i=e.regex.exec(t);){if(void 0===(o=c(i[1].trim())))if("function"==typeof h){var n=h(t,i,r);o="string"==typeof n?n:""}else{if(f){o=i[0];continue}a.logger.warn("missed to pass in variable ".concat(i[1]," for interpolating ").concat(t)),o=""}else"string"==typeof o||a.useRawValueToEscape||(o=Ge(o));var l=e.safeValue(o);if(t=t.replace(i[0],l),f?(e.regex.lastIndex+=l.length,e.regex.lastIndex-=i[0].length):e.regex.lastIndex=0,++s>=a.maxReplaces)break}})),t}},{key:"nest",value:function(t,e){var n,r,i=this,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},s=En({},o);function a(t,e){var n=this.nestingOptionsSeparator;if(t.indexOf(n)<0)return t;var r=t.split(new RegExp("".concat(n,"[ ]*{"))),i="{".concat(r[1]);t=r[0],i=(i=this.interpolate(i,s)).replace(/'/g,'"');try{s=JSON.parse(i),e&&(s=En(En({},e),s))}catch(e){return this.logger.warn("failed parsing options string in nesting for key ".concat(t),e),"".concat(t).concat(n).concat(i)}return delete s.defaultValue,t}for(s.applyPostProcessor=!1,delete s.defaultValue;n=this.nestingRegexp.exec(t);){var l=[],u=!1;if(-1!==n[0].indexOf(this.formatSeparator)&&!/{.*}/.test(n[1])){var c=n[1].split(this.formatSeparator).map((function(t){return t.trim()}));n[1]=c.shift(),l=c,u=!0}if((r=e(a.call(this,n[1].trim(),s),s))&&n[0]===t&&"string"!=typeof r)return r;"string"!=typeof r&&(r=Ge(r)),r||(this.logger.warn("missed to resolve ".concat(n[1]," for nesting ").concat(t)),r=""),u&&(r=l.reduce((function(t,e){return i.format(t,e,o.lng,En(En({},o),{},{interpolationkey:n[1].trim()}))}),r.trim())),t=t.replace(n[0],r),this.regexp.lastIndex=0}return t}}]),t}();function An(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Pn(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?An(Object(n),!0).forEach((function(e){s(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):An(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var Tn=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};n(this,t),this.logger=$e.create("formatter"),this.options=e,this.formats={number:function(t,e,n){return new Intl.NumberFormat(e,n).format(t)},currency:function(t,e,n){return new Intl.NumberFormat(e,Pn(Pn({},n),{},{style:"currency"})).format(t)},datetime:function(t,e,n){return new Intl.DateTimeFormat(e,Pn({},n)).format(t)},relativetime:function(t,e,n){return new Intl.RelativeTimeFormat(e,Pn({},n)).format(t,n.range||"day")},list:function(t,e,n){return new Intl.ListFormat(e,Pn({},n)).format(t)}},this.init(e)}return o(t,[{key:"init",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{interpolation:{}},n=e.interpolation;this.formatSeparator=n.formatSeparator?n.formatSeparator:n.formatSeparator||","}},{key:"add",value:function(t,e){this.formats[t]=e}},{key:"format",value:function(t,e,n,r){var i=this,o=e.split(this.formatSeparator).reduce((function(t,e){var o=function(t){var e=t.toLowerCase().trim(),n={};if(t.indexOf("(")>-1){var r=t.split("(");e=r[0].toLowerCase().trim();var i=r[1].substring(0,r[1].length-1);"currency"===e&&i.indexOf(":")<0?n.currency||(n.currency=i.trim()):"relativetime"===e&&i.indexOf(":")<0?n.range||(n.range=i.trim()):i.split(";").forEach((function(t){if(t){var e=Ue(t.split(":"),2),r=e[0],i=e[1];"false"===i.trim()&&(n[r.trim()]=!1),"true"===i.trim()&&(n[r.trim()]=!0),isNaN(i.trim())||(n[r.trim()]=parseInt(i.trim(),10)),n[r.trim()]||(n[r.trim()]=i.trim())}}))}return{formatName:e,formatOptions:n}}(e),s=o.formatName,a=o.formatOptions;if(i.formats[s]){var l=t;try{var u=r&&r.formatParams&&r.formatParams[r.interpolationkey]||{},c=u.locale||u.lng||r.locale||r.lng||n;l=i.formats[s](t,c,Pn(Pn(Pn({},a),r),u))}catch(t){i.logger.warn(t)}return l}return i.logger.warn("there was no format function for ".concat(s)),t}),t);return o}}]),t}();function Mn(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Rn(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Mn(Object(n),!0).forEach((function(e){s(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Mn(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var Nn=function(t){Be(s,t);var e,r,i=(e=s,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,n=Fe(e);if(r){var i=Fe(this).constructor;t=Reflect.construct(n,arguments,i)}else t=n.apply(this,arguments);return ze(this,t)});function s(t,e,r){var o,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return n(this,s),o=i.call(this),sn&&Ke.call(Le(o)),o.backend=t,o.store=e,o.services=r,o.languageUtils=r.languageUtils,o.options=a,o.logger=$e.create("backendConnector"),o.state={},o.queue=[],o.backend&&o.backend.init&&o.backend.init(r,a.backend,a),o}return o(s,[{key:"queueLoad",value:function(t,e,n,r){var i=this,o=[],s=[],a=[],l=[];return t.forEach((function(t){var r=!0;e.forEach((function(e){var a="".concat(t,"|").concat(e);!n.reload&&i.store.hasResourceBundle(t,e)?i.state[a]=2:i.state[a]<0||(1===i.state[a]?s.indexOf(a)<0&&s.push(a):(i.state[a]=1,r=!1,s.indexOf(a)<0&&s.push(a),o.indexOf(a)<0&&o.push(a),l.indexOf(e)<0&&l.push(e)))})),r||a.push(t)})),(o.length||s.length)&&this.queue.push({pending:s,loaded:{},errors:[],callback:r}),{toLoad:o,pending:s,toLoadLanguages:a,toLoadNamespaces:l}}},{key:"loaded",value:function(t,e,n){var r=t.split("|"),i=r[0],o=r[1];e&&this.emit("failedLoading",i,o,e),n&&this.store.addResourceBundle(i,o,n),this.state[t]=e?-1:2;var s={};this.queue.forEach((function(n){!function(t,e,n,r){var i=Je(t,e,Object),o=i.obj,s=i.k;o[s]=o[s]||[],o[s].push(n)}(n.loaded,[i],o),function(t,e){for(var n=t.indexOf(e);-1!==n;)t.splice(n,1),n=t.indexOf(e)}(n.pending,t),e&&n.errors.push(e),0!==n.pending.length||n.done||(Object.keys(n.loaded).forEach((function(t){s[t]||(s[t]=[]),n.loaded[t].length&&n.loaded[t].forEach((function(e){s[t].indexOf(e)<0&&s[t].push(e)}))})),n.done=!0,n.errors.length?n.callback(n.errors):n.callback())})),this.emit("loaded",s),this.queue=this.queue.filter((function(t){return!t.done}))}},{key:"read",value:function(t,e,n){var r=this,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:350,s=arguments.length>5?arguments[5]:void 0;return t.length?this.backend[n](t,e,(function(a,l){a&&l&&i<5?setTimeout((function(){r.read.call(r,t,e,n,i+1,2*o,s)}),o):s(a,l)})):s(null,{})}},{key:"prepareLoading",value:function(t,e){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=arguments.length>3?arguments[3]:void 0;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),i&&i();"string"==typeof t&&(t=this.languageUtils.toResolveHierarchy(t)),"string"==typeof e&&(e=[e]);var o=this.queueLoad(t,e,r,i);if(!o.toLoad.length)return o.pending.length||i(),null;o.toLoad.forEach((function(t){n.loadOne(t)}))}},{key:"load",value:function(t,e,n){this.prepareLoading(t,e,{},n)}},{key:"reload",value:function(t,e,n){this.prepareLoading(t,e,{reload:!0},n)}},{key:"loadOne",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=t.split("|"),i=r[0],o=r[1];this.read(i,o,"read",void 0,void 0,(function(r,s){r&&e.logger.warn("".concat(n,"loading namespace ").concat(o," for language ").concat(i," failed"),r),!r&&s&&e.logger.log("".concat(n,"loaded namespace ").concat(o," for language ").concat(i),s),e.loaded(t,r,s)}))}},{key:"saveMissing",value:function(t,e,n,r,i){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};this.services.utils&&this.services.utils.hasLoadedNamespace&&!this.services.utils.hasLoadedNamespace(e)?this.logger.warn('did not save key "'.concat(n,'" as the namespace "').concat(e,'" was not yet loaded'),"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!"):null!=n&&""!==n&&(this.backend&&this.backend.create&&this.backend.create(t,e,n,r,null,Rn(Rn({},o),{},{isUpdate:i})),t&&t[0]&&this.store.addResource(t[0],e,n,r))}}]),s}(Ke);function Dn(){return{debug:!1,initImmediate:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!0,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:function(t){var e={};if("object"===je(t[1])&&(e=t[1]),"string"==typeof t[1]&&(e.defaultValue=t[1]),"string"==typeof t[2]&&(e.tDescription=t[2]),"object"===je(t[2])||"object"===je(t[3])){var n=t[3]||t[2];Object.keys(n).forEach((function(t){e[t]=n[t]}))}return e},interpolation:{escapeValue:!0,format:function(t,e,n,r){return t},prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0}}}function jn(t){return"string"==typeof t.ns&&(t.ns=[t.ns]),"string"==typeof t.fallbackLng&&(t.fallbackLng=[t.fallbackLng]),"string"==typeof t.fallbackNS&&(t.fallbackNS=[t.fallbackNS]),t.supportedLngs&&t.supportedLngs.indexOf("cimode")<0&&(t.supportedLngs=t.supportedLngs.concat(["cimode"])),t}function Ln(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function In(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Ln(Object(n),!0).forEach((function(e){s(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ln(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Bn(){}function zn(t){Object.getOwnPropertyNames(Object.getPrototypeOf(t)).forEach((function(e){"function"==typeof t[e]&&(t[e]=t[e].bind(t))}))}var Fn=function(t){Be(s,t);var e,r,i=(e=s,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,n=Fe(e);if(r){var i=Fe(this).constructor;t=Reflect.construct(n,arguments,i)}else t=n.apply(this,arguments);return ze(this,t)});function s(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1?arguments[1]:void 0;if(n(this,s),t=i.call(this),sn&&Ke.call(Le(t)),t.options=jn(e),t.services={},t.logger=$e,t.modules={external:[]},zn(Le(t)),r&&!t.isInitialized&&!e.isClone){if(!t.options.initImmediate)return t.init(e,r),ze(t,Le(t));setTimeout((function(){t.init(e,r)}),0)}return t}return o(s,[{key:"init",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;"function"==typeof e&&(n=e,e={}),!e.defaultNS&&e.ns&&("string"==typeof e.ns?e.defaultNS=e.ns:e.ns.indexOf("translation")<0&&(e.defaultNS=e.ns[0]));var r=Dn();function i(t){return t?"function"==typeof t?new t:t:null}if(this.options=In(In(In({},r),this.options),jn(e)),this.options.interpolation=In({},this.options.interpolation),void 0!==e.keySeparator&&(this.options.userDefinedKeySeparator=e.keySeparator),void 0!==e.nsSeparator&&(this.options.userDefinedNsSeparator=e.nsSeparator),!this.options.isClone){var o;this.modules.logger?$e.init(i(this.modules.logger),this.options):$e.init(null,this.options),this.modules.formatter?o=this.modules.formatter:"undefined"!=typeof Intl&&(o=Tn);var s=new yn(this.options);this.store=new hn(this.options.resources,this.options);var a=this.services;a.logger=$e,a.resourceStore=this.store,a.languageUtils=s,a.pluralResolver=new Sn(s,{prepend:this.options.pluralSeparator,compatibilityJSON:this.options.compatibilityJSON,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),!o||this.options.interpolation.format&&this.options.interpolation.format!==r.interpolation.format||(a.formatter=i(o),a.formatter.init(a,this.options),this.options.interpolation.format=a.formatter.format.bind(a.formatter)),a.interpolator=new Cn(this.options),a.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},a.backendConnector=new Nn(i(this.modules.backend),a.resourceStore,a,this.options),a.backendConnector.on("*",(function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];t.emit.apply(t,[e].concat(r))})),this.modules.languageDetector&&(a.languageDetector=i(this.modules.languageDetector),a.languageDetector.init(a,this.options.detection,this.options)),this.modules.i18nFormat&&(a.i18nFormat=i(this.modules.i18nFormat),a.i18nFormat.init&&a.i18nFormat.init(this)),this.translator=new mn(this.services,this.options),this.translator.on("*",(function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];t.emit.apply(t,[e].concat(r))})),this.modules.external.forEach((function(e){e.init&&e.init(t)}))}if(this.format=this.options.interpolation.format,n||(n=Bn),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){var l=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);l.length>0&&"dev"!==l[0]&&(this.options.lng=l[0])}this.services.languageDetector||this.options.lng||this.logger.warn("init: no languageDetector is used and no lng is defined");var u=["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"];u.forEach((function(e){t[e]=function(){var n;return(n=t.store)[e].apply(n,arguments)}}));var c=["addResource","addResources","addResourceBundle","removeResourceBundle"];c.forEach((function(e){t[e]=function(){var n;return(n=t.store)[e].apply(n,arguments),t}}));var h=Qe(),f=function(){var e=function(e,r){t.isInitialized&&!t.initializedStoreOnce&&t.logger.warn("init: i18next is already initialized. You should call init just once!"),t.isInitialized=!0,t.options.isClone||t.logger.log("initialized",t.options),t.emit("initialized",t.options),h.resolve(r),n(e,r)};if(t.languages&&"v1"!==t.options.compatibilityAPI&&!t.isInitialized)return e(null,t.t.bind(t));t.changeLanguage(t.options.lng,e)};return this.options.resources||!this.options.initImmediate?f():setTimeout(f,0),h}},{key:"loadResources",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Bn,r=n,i="string"==typeof t?t:this.language;if("function"==typeof t&&(r=t),!this.options.resources||this.options.partialBundledLanguages){if(i&&"cimode"===i.toLowerCase())return r();var o=[],s=function(t){t&&e.services.languageUtils.toResolveHierarchy(t).forEach((function(t){o.indexOf(t)<0&&o.push(t)}))};if(i)s(i);else{var a=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);a.forEach((function(t){return s(t)}))}this.options.preload&&this.options.preload.forEach((function(t){return s(t)})),this.services.backendConnector.load(o,this.options.ns,r)}else r(null)}},{key:"reloadResources",value:function(t,e,n){var r=Qe();return t||(t=this.languages),e||(e=this.options.ns),n||(n=Bn),this.services.backendConnector.reload(t,e,(function(t){r.resolve(),n(t)})),r}},{key:"use",value:function(t){if(!t)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!t.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return"backend"===t.type&&(this.modules.backend=t),("logger"===t.type||t.log&&t.warn&&t.error)&&(this.modules.logger=t),"languageDetector"===t.type&&(this.modules.languageDetector=t),"i18nFormat"===t.type&&(this.modules.i18nFormat=t),"postProcessor"===t.type&&fn.addPostProcessor(t),"formatter"===t.type&&(this.modules.formatter=t),"3rdParty"===t.type&&this.modules.external.push(t),this}},{key:"changeLanguage",value:function(t,e){var n=this;this.isLanguageChangingTo=t;var r=Qe();this.emit("languageChanging",t);var i=function(t){if(n.language=t,n.languages=n.services.languageUtils.toResolveHierarchy(t),n.resolvedLanguage=void 0,!(["cimode","dev"].indexOf(t)>-1))for(var e=0;e<n.languages.length;e++){var r=n.languages[e];if(!(["cimode","dev"].indexOf(r)>-1)&&n.store.hasLanguageSomeTranslations(r)){n.resolvedLanguage=r;break}}},o=function(o){t||o||!n.services.languageDetector||(o=[]);var s="string"==typeof o?o:n.services.languageUtils.getBestMatchFromCodes(o);s&&(n.language||i(s),n.translator.language||n.translator.changeLanguage(s),n.services.languageDetector&&n.services.languageDetector.cacheUserLanguage(s)),n.loadResources(s,(function(t){!function(t,o){o?(i(o),n.translator.changeLanguage(o),n.isLanguageChangingTo=void 0,n.emit("languageChanged",o),n.logger.log("languageChanged",o)):n.isLanguageChangingTo=void 0,r.resolve((function(){return n.t.apply(n,arguments)})),e&&e(t,(function(){return n.t.apply(n,arguments)}))}(t,s)}))};return t||!this.services.languageDetector||this.services.languageDetector.async?!t&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect(o):o(t):o(this.services.languageDetector.detect()),r}},{key:"getFixedT",value:function(t,e,n){var r=this,i=function t(e,i){var o;if("object"!==je(i)){for(var s=arguments.length,a=new Array(s>2?s-2:0),l=2;l<s;l++)a[l-2]=arguments[l];o=r.options.overloadTranslationOptionHandler([e,i].concat(a))}else o=In({},i);o.lng=o.lng||t.lng,o.lngs=o.lngs||t.lngs,o.ns=o.ns||t.ns;var u=r.options.keySeparator||".",c=n?"".concat(n).concat(u).concat(e):e;return r.t(c,o)};return"string"==typeof t?i.lng=t:i.lngs=t,i.ns=e,i.keyPrefix=n,i}},{key:"t",value:function(){var t;return this.translator&&(t=this.translator).translate.apply(t,arguments)}},{key:"exists",value:function(){var t;return this.translator&&(t=this.translator).exists.apply(t,arguments)}},{key:"setDefaultNamespace",value:function(t){this.options.defaultNS=t}},{key:"hasLoadedNamespace",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;var r=this.resolvedLanguage||this.languages[0],i=!!this.options&&this.options.fallbackLng,o=this.languages[this.languages.length-1];if("cimode"===r.toLowerCase())return!0;var s=function(t,n){var r=e.services.backendConnector.state["".concat(t,"|").concat(n)];return-1===r||2===r};if(n.precheck){var a=n.precheck(this,s);if(void 0!==a)return a}return!!this.hasResourceBundle(r,t)||!this.services.backendConnector.backend||!(!s(r,t)||i&&!s(o,t))}},{key:"loadNamespaces",value:function(t,e){var n=this,r=Qe();return this.options.ns?("string"==typeof t&&(t=[t]),t.forEach((function(t){n.options.ns.indexOf(t)<0&&n.options.ns.push(t)})),this.loadResources((function(t){r.resolve(),e&&e(t)})),r):(e&&e(),Promise.resolve())}},{key:"loadLanguages",value:function(t,e){var n=Qe();"string"==typeof t&&(t=[t]);var r=this.options.preload||[],i=t.filter((function(t){return r.indexOf(t)<0}));return i.length?(this.options.preload=r.concat(i),this.loadResources((function(t){n.resolve(),e&&e(t)})),n):(e&&e(),Promise.resolve())}},{key:"dir",value:function(t){return t||(t=this.resolvedLanguage||(this.languages&&this.languages.length>0?this.languages[0]:this.language)),t?["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"].indexOf(this.services.languageUtils.getLanguagePartFromCode(t))>-1||t.toLowerCase().indexOf("-arab")>1?"rtl":"ltr":"rtl"}},{key:"cloneInstance",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Bn,r=In(In(In({},this.options),e),{isClone:!0}),i=new s(r),o=["store","services","language"];return o.forEach((function(e){i[e]=t[e]})),i.services=In({},this.services),i.services.utils={hasLoadedNamespace:i.hasLoadedNamespace.bind(i)},i.translator=new mn(i.services,i.options),i.translator.on("*",(function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];i.emit.apply(i,[t].concat(n))})),i.init(r,n),i.translator.options=i.options,i.translator.backendConnector.services.utils={hasLoadedNamespace:i.hasLoadedNamespace.bind(i)},i}},{key:"toJSON",value:function(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}]),s}(Ke);s(Fn,"createInstance",(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1?arguments[1]:void 0;return new Fn(t,e)}));var Vn=Fn.createInstance();Vn.createInstance=Fn.createInstance,Vn.createInstance,Vn.init,Vn.loadResources,Vn.reloadResources,Vn.use,Vn.changeLanguage,Vn.getFixedT,Vn.t,Vn.exists,Vn.setDefaultNamespace,Vn.hasLoadedNamespace,Vn.loadNamespaces,Vn.loadLanguages;const Un=Vn;function qn(t){return qn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},qn(t)}var Hn=[],Wn=Hn.forEach,$n=Hn.slice;function Kn(t){return Wn.call($n.call(arguments,1),(function(e){if(e)for(var n in e)void 0===t[n]&&(t[n]=e[n])})),t}function Qn(){return"function"==typeof XMLHttpRequest||"object"===("undefined"==typeof XMLHttpRequest?"undefined":qn(XMLHttpRequest))}var Gn,Xn,Jn,Yn=i(3154),Zn=i.t(Yn,2);function tr(t){return tr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},tr(t)}"function"==typeof fetch&&("undefined"!=typeof global&&global.fetch?Gn=global.fetch:"undefined"!=typeof window&&window.fetch&&(Gn=window.fetch)),Qn&&("undefined"!=typeof global&&global.XMLHttpRequest?Xn=global.XMLHttpRequest:"undefined"!=typeof window&&window.XMLHttpRequest&&(Xn=window.XMLHttpRequest)),"function"==typeof ActiveXObject&&("undefined"!=typeof global&&global.ActiveXObject?Jn=global.ActiveXObject:"undefined"!=typeof window&&window.ActiveXObject&&(Jn=window.ActiveXObject)),Gn||!Zn||Xn||Jn||(Gn=Yn||Zn),"function"!=typeof Gn&&(Gn=void 0);var er=function(t,e){if(e&&"object"===tr(e)){var n="";for(var r in e)n+="&"+encodeURIComponent(r)+"="+encodeURIComponent(e[r]);if(!n)return t;t=t+(-1!==t.indexOf("?")?"&":"?")+n.slice(1)}return t};const nr=function(t,e,n,r){return"function"==typeof n&&(r=n,n=void 0),r=r||function(){},Gn?function(t,e,n,r){t.queryStringParams&&(e=er(e,t.queryStringParams));var i=Kn({},"function"==typeof t.customHeaders?t.customHeaders():t.customHeaders);n&&(i["Content-Type"]="application/json"),Gn(e,Kn({method:n?"POST":"GET",body:n?t.stringify(n):void 0,headers:i},"function"==typeof t.requestOptions?t.requestOptions(n):t.requestOptions)).then((function(t){if(!t.ok)return r(t.statusText||"Error",{status:t.status});t.text().then((function(e){r(null,{status:t.status,data:e})})).catch(r)})).catch(r)}(t,e,n,r):Qn||"function"==typeof ActiveXObject?function(t,e,n,r){n&&"object"===tr(n)&&(n=er("",n).slice(1)),t.queryStringParams&&(e=er(e,t.queryStringParams));try{var i;(i=Xn?new Xn:new Jn("MSXML2.XMLHTTP.3.0")).open(n?"POST":"GET",e,1),t.crossDomain||i.setRequestHeader("X-Requested-With","XMLHttpRequest"),i.withCredentials=!!t.withCredentials,n&&i.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),i.overrideMimeType&&i.overrideMimeType("application/json");var o=t.customHeaders;if(o="function"==typeof o?o():o)for(var s in o)i.setRequestHeader(s,o[s]);i.onreadystatechange=function(){i.readyState>3&&r(i.status>=400?i.statusText:null,{status:i.status,data:i.responseText})},i.send(n)}catch(t){console&&console.log(t)}}(t,e,n,r):void 0};function rr(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ir(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var or=function(){return{loadPath:"/locales/{{lng}}/{{ns}}.json",addPath:"/locales/add/{{lng}}/{{ns}}",allowMultiLoading:!1,parse:function(t){return JSON.parse(t)},stringify:JSON.stringify,parsePayload:function(t,e,n){return function(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}({},e,n||"")},request:nr,reloadInterval:"undefined"==typeof window&&36e5,customHeaders:{},queryStringParams:{},crossDomain:!1,withCredentials:!1,overrideMimeType:!1,requestOptions:{mode:"cors",credentials:"same-origin",cache:"default"}}},sr=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};rr(this,t),this.services=e,this.options=n,this.allOptions=r,this.type="backend",this.init(e,n,r)}var e,n;return e=t,n=[{key:"init",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.services=t,this.options=Kn(n,this.options||{},or()),this.allOptions=r,this.services&&this.options.reloadInterval&&setInterval((function(){return e.reload()}),this.options.reloadInterval)}},{key:"readMulti",value:function(t,e,n){this._readAny(t,t,e,e,n)}},{key:"read",value:function(t,e,n){this._readAny([t],t,[e],e,n)}},{key:"_readAny",value:function(t,e,n,r,i){var o,s=this,a=this.options.loadPath;"function"==typeof this.options.loadPath&&(a=this.options.loadPath(t,n)),(a=function(t){return!!t&&"function"==typeof t.then}(o=a)?o:Promise.resolve(o)).then((function(o){var a=s.services.interpolator.interpolate(o,{lng:t.join("+"),ns:n.join("+")});s.loadUrl(a,i,e,r)}))}},{key:"loadUrl",value:function(t,e,n,r){var i=this;this.options.request(this.options,t,void 0,(function(o,s){if(s&&(s.status>=500&&s.status<600||!s.status))return e("failed loading "+t+"; status code: "+s.status,!0);if(s&&s.status>=400&&s.status<500)return e("failed loading "+t+"; status code: "+s.status,!1);if(!s&&o&&o.message&&o.message.indexOf("Failed to fetch")>-1)return e("failed loading "+t+": "+o.message,!0);if(o)return e(o,!1);var a,l;try{a="string"==typeof s.data?i.options.parse(s.data,n,r):s.data}catch(e){l="failed parsing "+t+" to json"}if(l)return e(l,!1);e(null,a)}))}},{key:"create",value:function(t,e,n,r,i){var o=this;if(this.options.addPath){"string"==typeof t&&(t=[t]);var s=this.options.parsePayload(e,n,r),a=0,l=[],u=[];t.forEach((function(n){var r=o.options.addPath;"function"==typeof o.options.addPath&&(r=o.options.addPath(n,e));var c=o.services.interpolator.interpolate(r,{lng:n,ns:e});o.options.request(o.options,c,s,(function(e,n){a+=1,l.push(e),u.push(n),a===t.length&&i&&i(l,u)}))}))}}},{key:"reload",value:function(){var t=this,e=this.services,n=e.backendConnector,r=e.languageUtils,i=e.logger,o=n.language;if(!o||"cimode"!==o.toLowerCase()){var s=[],a=function(t){r.toResolveHierarchy(t).forEach((function(t){s.indexOf(t)<0&&s.push(t)}))};a(o),this.allOptions.preload&&this.allOptions.preload.forEach((function(t){return a(t)})),s.forEach((function(e){t.allOptions.ns.forEach((function(t){n.read(e,t,"read",null,null,(function(r,o){r&&i.warn("loading namespace ".concat(t," for language ").concat(e," failed"),r),!r&&o&&i.log("loaded namespace ".concat(t," for language ").concat(e),o),n.loaded("".concat(e,"|").concat(t),r,o)}))}))}))}}}],n&&ir(e.prototype,n),t}();sr.type="backend";const ar=sr;var lr=[],ur=lr.forEach,cr=lr.slice;function hr(t){return ur.call(cr.call(arguments,1),(function(e){if(e)for(var n in e)void 0===t[n]&&(t[n]=e[n])})),t}var fr=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/,pr=function(t,e,n){var r=n||{};r.path=r.path||"/";var i=t+"="+encodeURIComponent(e);if(r.maxAge>0){var o=r.maxAge-0;if(isNaN(o))throw new Error("maxAge should be a Number");i+="; Max-Age="+Math.floor(o)}if(r.domain){if(!fr.test(r.domain))throw new TypeError("option domain is invalid");i+="; Domain="+r.domain}if(r.path){if(!fr.test(r.path))throw new TypeError("option path is invalid");i+="; Path="+r.path}if(r.expires){if("function"!=typeof r.expires.toUTCString)throw new TypeError("option expires is invalid");i+="; Expires="+r.expires.toUTCString()}if(r.httpOnly&&(i+="; HttpOnly"),r.secure&&(i+="; Secure"),r.sameSite)switch("string"==typeof r.sameSite?r.sameSite.toLowerCase():r.sameSite){case!0:i+="; SameSite=Strict";break;case"lax":i+="; SameSite=Lax";break;case"strict":i+="; SameSite=Strict";break;case"none":i+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}return i},dr={name:"cookie",lookup:function(t){var e;if(t.lookupCookie&&"undefined"!=typeof document){var n=function(t){for(var e=t+"=",n=document.cookie.split(";"),r=0;r<n.length;r++){for(var i=n[r];" "===i.charAt(0);)i=i.substring(1,i.length);if(0===i.indexOf(e))return i.substring(e.length,i.length)}return null}(t.lookupCookie);n&&(e=n)}return e},cacheUserLanguage:function(t,e){e.lookupCookie&&"undefined"!=typeof document&&function(t,e,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{path:"/",sameSite:"strict"};n&&(i.expires=new Date,i.expires.setTime(i.expires.getTime()+60*n*1e3)),r&&(i.domain=r),document.cookie=pr(t,encodeURIComponent(e),i)}(e.lookupCookie,t,e.cookieMinutes,e.cookieDomain,e.cookieOptions)}},gr={name:"querystring",lookup:function(t){var e;if("undefined"!=typeof window)for(var n=window.location.search.substring(1).split("&"),r=0;r<n.length;r++){var i=n[r].indexOf("=");i>0&&n[r].substring(0,i)===t.lookupQuerystring&&(e=n[r].substring(i+1))}return e}},mr=null,_r=function(){if(null!==mr)return mr;try{mr="undefined"!==window&&null!==window.localStorage;var t="i18next.translate.boo";window.localStorage.setItem(t,"foo"),window.localStorage.removeItem(t)}catch(t){mr=!1}return mr},yr={name:"localStorage",lookup:function(t){var e;if(t.lookupLocalStorage&&_r()){var n=window.localStorage.getItem(t.lookupLocalStorage);n&&(e=n)}return e},cacheUserLanguage:function(t,e){e.lookupLocalStorage&&_r()&&window.localStorage.setItem(e.lookupLocalStorage,t)}},vr=null,br=function(){if(null!==vr)return vr;try{vr="undefined"!==window&&null!==window.sessionStorage;var t="i18next.translate.boo";window.sessionStorage.setItem(t,"foo"),window.sessionStorage.removeItem(t)}catch(t){vr=!1}return vr},wr={name:"sessionStorage",lookup:function(t){var e;if(t.lookupSessionStorage&&br()){var n=window.sessionStorage.getItem(t.lookupSessionStorage);n&&(e=n)}return e},cacheUserLanguage:function(t,e){e.lookupSessionStorage&&br()&&window.sessionStorage.setItem(e.lookupSessionStorage,t)}},xr={name:"navigator",lookup:function(t){var e=[];if("undefined"!=typeof navigator){if(navigator.languages)for(var n=0;n<navigator.languages.length;n++)e.push(navigator.languages[n]);navigator.userLanguage&&e.push(navigator.userLanguage),navigator.language&&e.push(navigator.language)}return e.length>0?e:void 0}},kr={name:"htmlTag",lookup:function(t){var e,n=t.htmlTag||("undefined"!=typeof document?document.documentElement:null);return n&&"function"==typeof n.getAttribute&&(e=n.getAttribute("lang")),e}},Sr={name:"path",lookup:function(t){var e;if("undefined"!=typeof window){var n=window.location.pathname.match(/\/([a-zA-Z-]*)/g);if(n instanceof Array)if("number"==typeof t.lookupFromPathIndex){if("string"!=typeof n[t.lookupFromPathIndex])return;e=n[t.lookupFromPathIndex].replace("/","")}else e=n[0].replace("/","")}return e}},Or={name:"subdomain",lookup:function(t){var e;if("undefined"!=typeof window){var n=window.location.href.match(/(?:http[s]*\:\/\/)*(.*?)\.(?=[^\/]*\..{2,5})/gi);n instanceof Array&&(e="number"==typeof t.lookupFromSubdomainIndex?n[t.lookupFromSubdomainIndex].replace("http://","").replace("https://","").replace(".",""):n[0].replace("http://","").replace("https://","").replace(".",""))}return e}},Er=function(){function t(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};n(this,t),this.type="languageDetector",this.detectors={},this.init(e,r)}return o(t,[{key:"init",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.services=t,this.options=hr(e,this.options||{},{order:["querystring","cookie","localStorage","sessionStorage","navigator","htmlTag"],lookupQuerystring:"lng",lookupCookie:"i18next",lookupLocalStorage:"i18nextLng",lookupSessionStorage:"i18nextLng",caches:["localStorage"],excludeCacheFor:["cimode"]}),this.options.lookupFromUrlIndex&&(this.options.lookupFromPathIndex=this.options.lookupFromUrlIndex),this.i18nOptions=n,this.addDetector(dr),this.addDetector(gr),this.addDetector(yr),this.addDetector(wr),this.addDetector(xr),this.addDetector(kr),this.addDetector(Sr),this.addDetector(Or)}},{key:"addDetector",value:function(t){this.detectors[t.name]=t}},{key:"detect",value:function(t){var e=this;t||(t=this.options.order);var n=[];return t.forEach((function(t){if(e.detectors[t]){var r=e.detectors[t].lookup(e.options);r&&"string"==typeof r&&(r=[r]),r&&(n=n.concat(r))}})),this.services.languageUtils.getBestMatchFromCodes?n:n.length>0?n[0]:null}},{key:"cacheUserLanguage",value:function(t,e){var n=this;e||(e=this.options.caches),e&&(this.options.excludeCacheFor&&this.options.excludeCacheFor.indexOf(t)>-1||e.forEach((function(e){n.detectors[e]&&n.detectors[e].cacheUserLanguage(t,n.options)})))}}]),t}();Er.type="languageDetector";const Cr=Er;var Ar;Un.use(ar).use(Cr).use(g).init({detection:{order:["querystring","navigator","htmlTag","path","subdomain"]},backend:{loadPath:(null!==(Ar=document.seo)&&void 0!==Ar?Ar:"")+"/locales/{{lng}}/{{ns}}.json"},fallbackLng:"en",debug:!0});const Pr=Un;var Tr={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},Mr=t.createContext&&t.createContext(Tr),Rr=function(){return Rr=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},Rr.apply(this,arguments)};function Nr(e){return e&&e.map((function(e,n){return t.createElement(e.tag,Rr({key:n},e.attr),Nr(e.child))}))}function Dr(e){return function(n){return t.createElement(jr,Rr({attr:Rr({},e.attr)},n),Nr(e.child))}}function jr(e){var n=function(n){var r,i=e.attr,o=e.size,s=e.title,a=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n}(e,["attr","size","title"]),l=o||n.size||"1em";return n.className&&(r=n.className),e.className&&(r=(r?r+" ":"")+e.className),t.createElement("svg",Rr({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,i,a,{className:r,style:Rr(Rr({color:e.color||n.color},n.style),e.style),height:l,width:l,xmlns:"http://www.w3.org/2000/svg"}),s&&t.createElement("title",null,s),e.children)};return void 0!==Mr?t.createElement(Mr.Consumer,null,(function(t){return n(t)})):n(Tr)}function Lr(t){return Dr({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"}},{tag:"path",attr:{d:"M19.14 12.94c.04-.3.06-.61.06-.94 0-.32-.02-.64-.07-.94l2.03-1.58a.49.49 0 00.12-.61l-1.92-3.32a.488.488 0 00-.59-.22l-2.39.96c-.5-.38-1.03-.7-1.62-.94l-.36-2.54a.484.484 0 00-.48-.41h-3.84c-.24 0-.43.17-.47.41l-.36 2.54c-.59.24-1.13.57-1.62.94l-2.39-.96c-.22-.08-.47 0-.59.22L2.74 8.87c-.12.21-.08.47.12.61l2.03 1.58c-.05.3-.09.63-.09.94s.02.64.07.94l-2.03 1.58a.49.49 0 00-.12.61l1.92 3.32c.12.22.37.29.59.22l2.39-.96c.5.38 1.03.7 1.62.94l.36 2.54c.05.24.24.41.48.41h3.84c.24 0 .44-.17.47-.41l.36-2.54c.59-.24 1.13-.56 1.62-.94l2.39.96c.22.08.47 0 .59-.22l1.92-3.32c.12-.22.07-.47-.12-.61l-2.01-1.58zM12 15.6c-1.98 0-3.6-1.62-3.6-3.6s1.62-3.6 3.6-3.6 3.6 1.62 3.6 3.6-1.62 3.6-3.6 3.6z"}}]})(t)}function Ir(t){return Dr({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}}]})(t)}function Br(t){return Br="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Br(t)}function zr(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Fr(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Vr(t,e){return Vr=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},Vr(t,e)}function Ur(t,e){if(e&&("object"===Br(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function qr(t){return qr=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},qr(t)}const Hr=function(e){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Vr(t,e)}(a,e);var n,r,i,o,s=(i=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=qr(i);if(o){var n=qr(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return Ur(this,t)});function a(){return zr(this,a),s.apply(this,arguments)}return n=a,(r=[{key:"render",value:function(){return t.createElement("div",{className:"seo-checker-loader"},t.createElement("div",{className:"seo-checker-loader-ring"},t.createElement("div",null),t.createElement("div",null),t.createElement("div",null),t.createElement("div",null)))}}])&&Fr(n.prototype,r),a}(t.Component);function Wr(t,e){if(null==t)return{};var n,r,i=O(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function $r(){if(console&&console.warn){for(var t,e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];"string"==typeof n[0]&&(n[0]="react-i18next:: ".concat(n[0])),(t=console).warn.apply(t,n)}}var Kr={};function Qr(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];"string"==typeof e[0]&&Kr[e[0]]||("string"==typeof e[0]&&(Kr[e[0]]=new Date),$r.apply(void 0,e))}function Gr(t,e,n){t.loadNamespaces(e,(function(){t.isInitialized?n():t.on("initialized",(function e(){setTimeout((function(){t.off("initialized",e)}),0),n()}))}))}function Xr(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!e.languages||!e.languages.length)return Qr("i18n.languages were undefined or empty",e.languages),!0;var r=e.languages[0],i=!!e.options&&e.options.fallbackLng,o=e.languages[e.languages.length-1];if("cimode"===r.toLowerCase())return!0;var s=function(t,n){var r=e.services.backendConnector.state["".concat(t,"|").concat(n)];return-1===r||2===r};return!(n.bindI18n&&n.bindI18n.indexOf("languageChanging")>-1&&e.services.backendConnector.backend&&e.isLanguageChangingTo&&!s(e.isLanguageChangingTo,t)||!e.hasResourceBundle(r,t)&&e.services.backendConnector.backend&&(!s(r,t)||i&&!s(o,t)))}function Jr(t){return t.displayName||t.name||("string"==typeof t&&t.length>0?t:"Unknown")}function Yr(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Zr(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Yr(Object(n),!0).forEach((function(e){s(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Yr(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function ti(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.i18n,i=(0,t.useContext)(h)||{},o=i.i18n,s=i.defaultNS,a=r||o||d();if(a&&!a.reportNamespaces&&(a.reportNamespaces=new p),!a){Qr("You will need to pass in an i18next instance by using initReactI18next");var l=function(t){return Array.isArray(t)?t[t.length-1]:t},u=[l,{},!1];return u.t=l,u.i18n={},u.ready=!1,u}a.options.react&&void 0!==a.options.react.wait&&Qr("It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.");var c=Zr(Zr(Zr({},f()),a.options.react),n),g=c.useSuspense,m=c.keyPrefix,_=e||s||a.options&&a.options.defaultNS;_="string"==typeof _?[_]:_||["translation"],a.reportNamespaces.addUsedNamespaces&&a.reportNamespaces.addUsedNamespaces(_);var y=(a.isInitialized||a.initializedStoreOnce)&&_.every((function(t){return Xr(t,a,c)}));function v(){return a.getFixedT(null,"fallback"===c.nsMode?_:_[0],m)}var b=(0,t.useState)(v),w=Ue(b,2),x=w[0],k=w[1],S=(0,t.useRef)(!0);(0,t.useEffect)((function(){var t=c.bindI18n,e=c.bindI18nStore;function n(){S.current&&k(v)}return S.current=!0,y||g||Gr(a,_,(function(){S.current&&k(v)})),t&&a&&a.on(t,n),e&&a&&a.store.on(e,n),function(){S.current=!1,t&&a&&t.split(" ").forEach((function(t){return a.off(t,n)})),e&&a&&e.split(" ").forEach((function(t){return a.store.off(t,n)}))}}),[a,_.join()]);var O=(0,t.useRef)(!0);(0,t.useEffect)((function(){S.current&&!O.current&&k(v),O.current=!1}),[a]);var E=[x,a,y];if(E.t=x,E.i18n=a,E.ready=y,y)return E;if(!y&&!g)return E;throw new Promise((function(t){Gr(a,_,(function(){t()}))}))}var ei=["forwardedRef"];function ni(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function ri(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?ni(Object(n),!0).forEach((function(e){s(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ni(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function ii(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(r){function i(i){var o=i.forwardedRef,s=Wr(i,ei),a=Ue(ti(e,s),3),l=a[0],u=a[1],c=a[2],h=ri(ri({},s),{},{t:l,i18n:u,tReady:c});return n.withRef&&o?h.ref=o:!n.withRef&&o&&(h.forwardedRef=o),t.createElement(r,h)}return i.displayName="withI18nextTranslation(".concat(Jr(r),")"),i.WrappedComponent=r,n.withRef?t.forwardRef((function(e,n){return t.createElement(i,Object.assign({},e,{forwardedRef:n}))})):i}}function oi(t){return oi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},oi(t)}function si(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ai(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function li(t,e){return li=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},li(t,e)}function ui(t,e){if(e&&("object"===oi(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function ci(t){return ci=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},ci(t)}var hi=function(e){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&li(t,e)}(a,e);var n,r,i,o,s=(i=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=ci(i);if(o){var n=ci(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return ui(this,t)});function a(){return si(this,a),s.apply(this,arguments)}return n=a,r=[{key:"render",value:function(){var e=this,n=this.props,r=n.blocks,i=n.checker.page,o=this.props.i18n.t;return t.createElement("div",{className:"seo-checker-selector"},t.createElement("select",{onChange:function(t){var n=t.target;e.props.setPage(n.value)},value:i},r.map((function(e){var n=e.slug,r=e.name;return t.createElement("option",{value:n,key:n},o(n,r))})),t.createElement("option",{value:"settings",key:"settings"},o("settings","Settings"))))}}],r&&ai(n.prototype,r),a}(t.Component);const fi=ii()(nt((function(t){return{checker:t.checker}}),{setPage:Re})(hi));var pi=i(4204);function di(t){return Dr({tag:"svg",attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M880 112H144c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V144c0-17.7-14.3-32-32-32zM704 536c0 4.4-3.6 8-8 8H328c-4.4 0-8-3.6-8-8v-48c0-4.4 3.6-8 8-8h368c4.4 0 8 3.6 8 8v48z"}}]})(t)}function gi(t){return Dr({tag:"svg",attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M880 112H144c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V144c0-17.7-14.3-32-32-32zM704 536c0 4.4-3.6 8-8 8H544v152c0 4.4-3.6 8-8 8h-48c-4.4 0-8-3.6-8-8V544H328c-4.4 0-8-3.6-8-8v-48c0-4.4 3.6-8 8-8h152V328c0-4.4 3.6-8 8-8h48c4.4 0 8 3.6 8 8v152h152c4.4 0 8 3.6 8 8v48z"}}]})(t)}var mi=i(4960);mi.expect,mi.version,mi.Assertion,mi.AssertionError,mi.util,mi.config,mi.use,mi.should,mi.assert,mi.core;const _i=mi;var yi=i(8773),vi=i.n(yi);_i.use(vi()),_i.config.showDiff=!1;var bi=_i.util,wi=bi.flag,xi=bi.getActual,ki=bi.objDisplay;function Si(t){return Si="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Si(t)}function Oi(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Ei(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Ci(t,e){return Ci=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},Ci(t,e)}function Ai(t,e){if(e&&("object"===Si(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function Pi(t){return Pi=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Pi(t)}_i.util.getMessage=function(t,e){var n,r=Pr.t,i=wi(t,"negate"),o=wi(t,"object"),s=e[3],a=xi(t,e),l=i?e[2]:e[1],u=wi(t,"message");return"function"==typeof l&&(l=l()),(l=l||"")&&(void 0!==o&&Array.isArray(o)&&o.forEach((function(t,e){l=l.replace("'"+t+"'","'#{val-"+e+"}'")})),l=null===(n=l.split(" "))||void 0===n?void 0:n.map((function(t){return r("chai."+t,t)})).join(" "),void 0!==o&&Array.isArray(o)&&o.forEach((function(t,e){l=l.replace("#{val-"+e+"}",t)}))),l=l.replace(/#\{this\}/g,(function(){return ki(o)})).replace(/#\{act\}/g,(function(){return ki(a)})).replace(/#\{exp\}/g,(function(){return ki(s)})),u?u+": "+l:l};var Ti=_i.expect,Mi=function(e){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Ci(t,e)}(a,e);var n,r,i,o,s=(i=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Pi(i);if(o){var n=Pi(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return Ai(this,t)});function a(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),(e=s.call(this,t)).state={expanded:!1},e}return n=a,r=[{key:"run",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=this.props.test,n=e.func,r={status:!1};if(!n)return r;try{"function"!=typeof n&&(n=window.Function("el","expect",'"use strict";'+n)),n(t,Ti),r.status=!0}catch(t){r.message=(null==t?void 0:t.message)||!1}return r}},{key:"render",value:function(){var e=this,n=this.state.expanded,r=this.props,i=r.slug,o=r.test,s=o.selector,a=o.name,l=o.tests,u=o.results,c=this.props.i18n.t,h=s?function(t){return function(t){if(Array.isArray(t))return Oi(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return Oi(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Oi(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(document.querySelectorAll(s)):this.props.el,f=this.run(h),p=f.status,d=f.message,g=[p?"success":o.iswarning?"warning":"fail",n&&u?"expanded":""].join(" "),m=null;return u&&h.length&&("function"==typeof u?(console.log("test"),m=u(h)):m=h.map((function(t){return t.outerHTML})).join("\n")),m=(0,pi.html)(m,{indent_size:2,space_in_empty_paren:!1}),t.createElement("div",{className:"seo-checker-test "+g},t.createElement("div",null,c(i,a),u?t.createElement("a",{onClick:function(){console.log(n),e.setState({expanded:!n})}},n?t.createElement(di,null):t.createElement(gi,null)):""),m?t.createElement("pre",null,t.createElement("code",null,m)):"",t.createElement("p",null,d),p&&void 0!==l&&Array.isArray(l)?t.createElement(Fi,{slug:i,tests:l,el:h}):"")}}],r&&Ei(n.prototype,r),a}(t.Component);const Ri=ii()(Mi);function Ni(t){return Ni="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ni(t)}function Di(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function ji(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Li(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Ii(t,e){return Ii=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},Ii(t,e)}function Bi(t,e){if(e&&("object"===Ni(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function zi(t){return zi=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},zi(t)}const Fi=function(e){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Ii(t,e)}(a,e);var n,r,i,o,s=(i=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=zi(i);if(o){var n=zi(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return Bi(this,t)});function a(){return ji(this,a),s.apply(this,arguments)}return n=a,(r=[{key:"render",value:function(){var e=this,n=this.props,r=n.slug,i=n.tests;return t.createElement(t.Fragment,null,i.map((function(n){var i=n.selector?function(t){return function(t){if(Array.isArray(t))return Di(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return Di(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Di(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(document.querySelectorAll(n.selector)):e.props.el,o=[r,n.slug].join(".");return t.createElement(Ri,{slug:o,el:i,test:n,key:o})})))}}])&&Li(n.prototype,r),a}(t.Component);function Vi(t){return Vi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vi(t)}function Ui(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function qi(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Hi(t,e){return Hi=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},Hi(t,e)}function Wi(t,e){if(e&&("object"===Vi(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function $i(t){return $i=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},$i(t)}var Ki=function(e){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Hi(t,e)}(a,e);var n,r,i,o,s=(i=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=$i(i);if(o){var n=$i(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return Wi(this,t)});function a(){return Ui(this,a),s.apply(this,arguments)}return n=a,r=[{key:"render",value:function(){var e=this.props.i18n.t;return t.createElement("div",{className:"seo-checker-error"},e("error","Error."))}}],r&&qi(n.prototype,r),a}(t.Component);const Qi=ii()(Ki);function Gi(t){return Gi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Gi(t)}function Xi(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Ji(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Yi(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Zi(t,e){return Zi=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},Zi(t,e)}function to(t,e){if(e&&("object"===Gi(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function eo(t){return eo=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},eo(t)}var no=function(e){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Zi(t,e)}(a,e);var n,r,i,o,s=(i=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=eo(i);if(o){var n=eo(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return to(this,t)});function a(){return Ji(this,a),s.apply(this,arguments)}return n=a,r=[{key:"render",value:function(){var e=this.props,n=e.slug,r=e.section,i=e.i18n.t,o=r.tests,s=r.selector,a=r.name,l=[n,r.slug].join("."),u=s?function(t){return function(t){if(Array.isArray(t))return Xi(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return Xi(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Xi(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(document.querySelectorAll(s)):null;return t.createElement("div",{className:"seo-checker-section"},t.createElement("div",{className:"seo-checker-title"},i(l,a)),void 0!==o&&Array.isArray(o)?t.createElement(Fi,{slug:l,tests:o,el:u}):t.createElement("p",null,i("notfound","Not found")))}}],r&&Yi(n.prototype,r),a}(t.Component);const ro=ii()(no);function io(t){return io="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},io(t)}function oo(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function so(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function ao(t,e){return ao=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},ao(t,e)}function lo(t,e){if(e&&("object"===io(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function uo(t){return uo=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},uo(t)}var co=function(e){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ao(t,e)}(a,e);var n,r,i,o,s=(i=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=uo(i);if(o){var n=uo(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return lo(this,t)});function a(){return oo(this,a),s.apply(this,arguments)}return n=a,r=[{key:"getBlock",value:function(){for(var t=this.props,e=t.blocks,n=t.checker.page,r=0;r<e.length;r++)if(n===e[r].slug)return e[r];return e[0]||null}},{key:"render",value:function(){var e=this.getBlock(),n=e.slug,r=e.sections;return t.createElement("div",{className:"seo-checker-results"},r?r.map((function(e){var r=[n,e.slug].join(".");return t.createElement(ro,{slug:n,section:e,key:r})})):t.createElement(Qi,null))}}],r&&so(n.prototype,r),a}(t.Component);const ho=nt((function(t){return{checker:t.checker}}))(co);let fo="lc,34,7n,7,7b,19,,,,2,,2,,,20,b,1c,l,g,,2t,7,2,6,2,2,,4,z,,u,r,2j,b,1m,9,9,,o,4,,9,,3,,5,17,3,3b,f,,w,1j,,,,4,8,4,,3,7,a,2,t,,1m,,,,2,4,8,,9,,a,2,q,,2,2,1l,,4,2,4,2,2,3,3,,u,2,3,,b,2,1l,,4,5,,2,4,,k,2,m,6,,,1m,,,2,,4,8,,7,3,a,2,u,,1n,,,,c,,9,,14,,3,,1l,3,5,3,,4,7,2,b,2,t,,1m,,2,,2,,3,,5,2,7,2,b,2,s,2,1l,2,,,2,4,8,,9,,a,2,t,,20,,4,,2,3,,,8,,29,,2,7,c,8,2q,,2,9,b,6,22,2,r,,,,,,1j,e,,5,,2,5,b,,10,9,,2u,4,,6,,2,2,2,p,2,4,3,g,4,d,,2,2,6,,f,,jj,3,qa,3,t,3,t,2,u,2,1s,2,,7,8,,2,b,9,,19,3,3b,2,y,,3a,3,4,2,9,,6,3,63,2,2,,1m,,,7,,,,,2,8,6,a,2,,1c,h,1r,4,1c,7,,,5,,14,9,c,2,w,4,2,2,,3,1k,,,2,3,,,3,1m,8,2,2,48,3,,d,,7,4,,6,,3,2,5i,1m,,5,ek,,5f,x,2da,3,3x,,2o,w,fe,6,2x,2,n9w,4,,a,w,2,28,2,7k,,3,,4,,p,2,5,,47,2,q,i,d,,12,8,p,b,1a,3,1c,,2,4,2,2,13,,1v,6,2,2,2,2,c,,8,,1b,,1f,,,3,2,2,5,2,,,16,2,8,,6m,,2,,4,,fn4,,kh,g,g,g,a6,2,gt,,6a,,45,5,1ae,3,,2,5,4,14,3,4,,4l,2,fx,4,ar,2,49,b,4w,,1i,f,1k,3,1d,4,2,2,1x,3,10,5,,8,1q,,c,2,1g,9,a,4,2,,2n,3,2,,,2,6,,4g,,3,8,l,2,1l,2,,,,,m,,e,7,3,5,5f,8,2,3,,,n,,29,,2,6,,,2,,,2,,2,6j,,2,4,6,2,,2,r,2,2d,8,2,,,2,2y,,,,2,6,,,2t,3,2,4,,5,77,9,,2,6t,,a,2,,,4,,40,4,2,2,4,,w,a,14,6,2,4,8,,9,6,2,3,1a,d,,2,ba,7,,6,,,2a,m,2,7,,2,,2,3e,6,3,,,2,,7,,,20,2,3,,,,9n,2,f0b,5,1n,7,t4,,1r,4,29,,f5k,2,43q,,,3,4,5,8,8,2,7,u,4,44,3,1iz,1j,4,1e,8,,e,,m,5,,f,11s,7,,h,2,7,,2,,5,79,7,c5,4,15s,7,31,7,240,5,gx7k,2o,3k,6o".split(",").map((t=>t?parseInt(t,36):1));for(let t=1;t<fo.length;t++)fo[t]+=fo[t-1];function po(t){for(let e=1;e<fo.length;e+=2)if(fo[e]>t)return fo[e-1]<=t;return!1}function go(t){return t>=127462&&t<=127487}function mo(t,e,n=!0){return(n?_o:yo)(t,e)}function _o(t,e){if(e==t.length)return e;e&&vo(t.charCodeAt(e))&&bo(t.charCodeAt(e-1))&&e--;let n=wo(t,e);for(e+=ko(n);e<t.length;){let r=wo(t,e);if(8205==n||8205==r||po(r))e+=ko(r),n=r;else{if(!go(r))break;{let n=0,r=e-2;for(;r>=0&&go(wo(t,r));)n++,r-=2;if(n%2==0)break;e+=2}}}return e}function yo(t,e){for(;e>0;){let n=_o(t,e-2);if(n<e)return n;e--}return 0}function vo(t){return t>=56320&&t<57344}function bo(t){return t>=55296&&t<56320}function wo(t,e){let n=t.charCodeAt(e);if(!bo(n)||e+1==t.length)return n;let r=t.charCodeAt(e+1);return vo(r)?r-56320+(n-55296<<10)+65536:n}function xo(t){return t<=65535?String.fromCharCode(t):(t-=65536,String.fromCharCode(55296+(t>>10),56320+(1023&t)))}function ko(t){return t<65536?1:2}function So(t,e,n=t.length){let r=0;for(let i=0;i<n;)9==t.charCodeAt(i)?(r+=e-r%e,i++):(r++,i=mo(t,i));return r}function Oo(t,e,n,r){for(let r=0,i=0;;){if(i>=e)return r;if(r==t.length)break;i+=9==t.charCodeAt(r)?n-i%n:1,r=mo(t,r)}return!0===r?-1:t.length}class Eo{constructor(){}lineAt(t){if(t<0||t>this.length)throw new RangeError(`Invalid position ${t} in document of length ${this.length}`);return this.lineInner(t,!1,1,0)}line(t){if(t<1||t>this.lines)throw new RangeError(`Invalid line number ${t} in ${this.lines}-line document`);return this.lineInner(t,!0,1,0)}replace(t,e,n){let r=[];return this.decompose(0,t,r,2),n.length&&n.decompose(0,n.length,r,3),this.decompose(e,this.length,r,1),Ao.from(r,this.length-(e-t)+n.length)}append(t){return this.replace(this.length,this.length,t)}slice(t,e=this.length){let n=[];return this.decompose(t,e,n,0),Ao.from(n,e-t)}eq(t){if(t==this)return!0;if(t.length!=this.length||t.lines!=this.lines)return!1;let e=this.scanIdentical(t,1),n=this.length-this.scanIdentical(t,-1),r=new Mo(this),i=new Mo(t);for(let t=e,o=e;;){if(r.next(t),i.next(t),t=0,r.lineBreak!=i.lineBreak||r.done!=i.done||r.value!=i.value)return!1;if(o+=r.value.length,r.done||o>=n)return!0}}iter(t=1){return new Mo(this,t)}iterRange(t,e=this.length){return new Ro(this,t,e)}iterLines(t,e){let n;if(null==t)n=this.iter();else{null==e&&(e=this.lines+1);let r=this.line(t).from;n=this.iterRange(r,Math.max(r,e==this.lines+1?this.length:e<=1?0:this.line(e-1).to))}return new No(n)}toString(){return this.sliceString(0)}toJSON(){let t=[];return this.flatten(t),t}static of(t){if(0==t.length)throw new RangeError("A document must have at least one line");return 1!=t.length||t[0]?t.length<=32?new Co(t):Ao.from(Co.split(t,[])):Eo.empty}}class Co extends Eo{constructor(t,e=function(t){let e=-1;for(let n of t)e+=n.length+1;return e}(t)){super(),this.text=t,this.length=e}get lines(){return this.text.length}get children(){return null}lineInner(t,e,n,r){for(let i=0;;i++){let o=this.text[i],s=r+o.length;if((e?n:s)>=t)return new Do(r,s,n,o);r=s+1,n++}}decompose(t,e,n,r){let i=t<=0&&e>=this.length?this:new Co(To(this.text,t,e),Math.min(e,this.length)-Math.max(0,t));if(1&r){let t=n.pop(),e=Po(i.text,t.text.slice(),0,i.length);if(e.length<=32)n.push(new Co(e,t.length+i.length));else{let t=e.length>>1;n.push(new Co(e.slice(0,t)),new Co(e.slice(t)))}}else n.push(i)}replace(t,e,n){if(!(n instanceof Co))return super.replace(t,e,n);let r=Po(this.text,Po(n.text,To(this.text,0,t)),e),i=this.length+n.length-(e-t);return r.length<=32?new Co(r,i):Ao.from(Co.split(r,[]),i)}sliceString(t,e=this.length,n="\n"){let r="";for(let i=0,o=0;i<=e&&o<this.text.length;o++){let s=this.text[o],a=i+s.length;i>t&&o&&(r+=n),t<a&&e>i&&(r+=s.slice(Math.max(0,t-i),e-i)),i=a+1}return r}flatten(t){for(let e of this.text)t.push(e)}scanIdentical(){return 0}static split(t,e){let n=[],r=-1;for(let i of t)n.push(i),r+=i.length+1,32==n.length&&(e.push(new Co(n,r)),n=[],r=-1);return r>-1&&e.push(new Co(n,r)),e}}class Ao extends Eo{constructor(t,e){super(),this.children=t,this.length=e,this.lines=0;for(let e of t)this.lines+=e.lines}lineInner(t,e,n,r){for(let i=0;;i++){let o=this.children[i],s=r+o.length,a=n+o.lines-1;if((e?a:s)>=t)return o.lineInner(t,e,n,r);r=s+1,n=a+1}}decompose(t,e,n,r){for(let i=0,o=0;o<=e&&i<this.children.length;i++){let s=this.children[i],a=o+s.length;if(t<=a&&e>=o){let i=r&((o<=t?1:0)|(a>=e?2:0));o>=t&&a<=e&&!i?n.push(s):s.decompose(t-o,e-o,n,i)}o=a+1}}replace(t,e,n){if(n.lines<this.lines)for(let r=0,i=0;r<this.children.length;r++){let o=this.children[r],s=i+o.length;if(t>=i&&e<=s){let a=o.replace(t-i,e-i,n),l=this.lines-o.lines+a.lines;if(a.lines<l>>4&&a.lines>l>>6){let i=this.children.slice();return i[r]=a,new Ao(i,this.length-(e-t)+n.length)}return super.replace(i,s,a)}i=s+1}return super.replace(t,e,n)}sliceString(t,e=this.length,n="\n"){let r="";for(let i=0,o=0;i<this.children.length&&o<=e;i++){let s=this.children[i],a=o+s.length;o>t&&i&&(r+=n),t<a&&e>o&&(r+=s.sliceString(t-o,e-o,n)),o=a+1}return r}flatten(t){for(let e of this.children)e.flatten(t)}scanIdentical(t,e){if(!(t instanceof Ao))return 0;let n=0,[r,i,o,s]=e>0?[0,0,this.children.length,t.children.length]:[this.children.length-1,t.children.length-1,-1,-1];for(;;r+=e,i+=e){if(r==o||i==s)return n;let a=this.children[r],l=t.children[i];if(a!=l)return n+a.scanIdentical(l,e);n+=a.length+1}}static from(t,e=t.reduce(((t,e)=>t+e.length+1),-1)){let n=0;for(let e of t)n+=e.lines;if(n<32){let n=[];for(let e of t)e.flatten(n);return new Co(n,e)}let r=Math.max(32,n>>5),i=r<<1,o=r>>1,s=[],a=0,l=-1,u=[];function c(t){let e;if(t.lines>i&&t instanceof Ao)for(let e of t.children)c(e);else t.lines>o&&(a>o||!a)?(h(),s.push(t)):t instanceof Co&&a&&(e=u[u.length-1])instanceof Co&&t.lines+e.lines<=32?(a+=t.lines,l+=t.length+1,u[u.length-1]=new Co(e.text.concat(t.text),e.length+1+t.length)):(a+t.lines>r&&h(),a+=t.lines,l+=t.length+1,u.push(t))}function h(){0!=a&&(s.push(1==u.length?u[0]:Ao.from(u,l)),l=-1,a=u.length=0)}for(let e of t)c(e);return h(),1==s.length?s[0]:new Ao(s,e)}}function Po(t,e,n=0,r=1e9){for(let i=0,o=0,s=!0;o<t.length&&i<=r;o++){let a=t[o],l=i+a.length;l>=n&&(l>r&&(a=a.slice(0,r-i)),i<n&&(a=a.slice(n-i)),s?(e[e.length-1]+=a,s=!1):e.push(a)),i=l+1}return e}function To(t,e,n){return Po(t,[""],e,n)}Eo.empty=new Co([""],0);class Mo{constructor(t,e=1){this.dir=e,this.done=!1,this.lineBreak=!1,this.value="",this.nodes=[t],this.offsets=[e>0?1:(t instanceof Co?t.text.length:t.children.length)<<1]}nextInner(t,e){for(this.done=this.lineBreak=!1;;){let n=this.nodes.length-1,r=this.nodes[n],i=this.offsets[n],o=i>>1,s=r instanceof Co?r.text.length:r.children.length;if(o==(e>0?s:0)){if(0==n)return this.done=!0,this.value="",this;e>0&&this.offsets[n-1]++,this.nodes.pop(),this.offsets.pop()}else if((1&i)==(e>0?0:1)){if(this.offsets[n]+=e,0==t)return this.lineBreak=!0,this.value="\n",this;t--}else if(r instanceof Co){let i=r.text[o+(e<0?-1:0)];if(this.offsets[n]+=e,i.length>Math.max(0,t))return this.value=0==t?i:e>0?i.slice(t):i.slice(0,i.length-t),this;t-=i.length}else{let i=r.children[o+(e<0?-1:0)];t>i.length?(t-=i.length,this.offsets[n]+=e):(e<0&&this.offsets[n]--,this.nodes.push(i),this.offsets.push(e>0?1:(i instanceof Co?i.text.length:i.children.length)<<1))}}}next(t=0){return t<0&&(this.nextInner(-t,-this.dir),t=this.value.length),this.nextInner(t,this.dir)}}class Ro{constructor(t,e,n){this.value="",this.done=!1,this.cursor=new Mo(t,e>n?-1:1),this.pos=e>n?t.length:0,this.from=Math.min(e,n),this.to=Math.max(e,n)}nextInner(t,e){if(e<0?this.pos<=this.from:this.pos>=this.to)return this.value="",this.done=!0,this;t+=Math.max(0,e<0?this.pos-this.to:this.from-this.pos);let n=e<0?this.pos-this.from:this.to-this.pos;t>n&&(t=n),n-=t;let{value:r}=this.cursor.next(t);return this.pos+=(r.length+t)*e,this.value=r.length<=n?r:e<0?r.slice(r.length-n):r.slice(0,n),this.done=!this.value,this}next(t=0){return t<0?t=Math.max(t,this.from-this.pos):t>0&&(t=Math.min(t,this.to-this.pos)),this.nextInner(t,this.cursor.dir)}get lineBreak(){return this.cursor.lineBreak&&""!=this.value}}class No{constructor(t){this.inner=t,this.afterBreak=!0,this.value="",this.done=!1}next(t=0){let{done:e,lineBreak:n,value:r}=this.inner.next(t);return e?(this.done=!0,this.value=""):n?this.afterBreak?this.value="":(this.afterBreak=!0,this.next()):(this.value=r,this.afterBreak=!1),this}get lineBreak(){return!1}}"undefined"!=typeof Symbol&&(Eo.prototype[Symbol.iterator]=function(){return this.iter()},Mo.prototype[Symbol.iterator]=Ro.prototype[Symbol.iterator]=No.prototype[Symbol.iterator]=function(){return this});class Do{constructor(t,e,n,r){this.from=t,this.to=e,this.number=n,this.text=r}get length(){return this.to-this.from}}const jo=/\r\n?|\n/;var Lo=function(t){return t[t.Simple=0]="Simple",t[t.TrackDel=1]="TrackDel",t[t.TrackBefore=2]="TrackBefore",t[t.TrackAfter=3]="TrackAfter",t}(Lo||(Lo={}));class Io{constructor(t){this.sections=t}get length(){let t=0;for(let e=0;e<this.sections.length;e+=2)t+=this.sections[e];return t}get newLength(){let t=0;for(let e=0;e<this.sections.length;e+=2){let n=this.sections[e+1];t+=n<0?this.sections[e]:n}return t}get empty(){return 0==this.sections.length||2==this.sections.length&&this.sections[1]<0}iterGaps(t){for(let e=0,n=0,r=0;e<this.sections.length;){let i=this.sections[e++],o=this.sections[e++];o<0?(t(n,r,i),r+=i):r+=o,n+=i}}iterChangedRanges(t,e=!1){Vo(this,t,e)}get invertedDesc(){let t=[];for(let e=0;e<this.sections.length;){let n=this.sections[e++],r=this.sections[e++];r<0?t.push(n,r):t.push(r,n)}return new Io(t)}composeDesc(t){return this.empty?t:t.empty?this:qo(this,t)}mapDesc(t,e=!1){return t.empty?this:Uo(this,t,e)}mapPos(t,e=-1,n=Lo.Simple){let r=0,i=0;for(let o=0;o<this.sections.length;){let s=this.sections[o++],a=this.sections[o++],l=r+s;if(a<0){if(l>t)return i+(t-r);i+=s}else{if(n!=Lo.Simple&&l>=t&&(n==Lo.TrackDel&&r<t&&l>t||n==Lo.TrackBefore&&r<t||n==Lo.TrackAfter&&l>t))return null;if(l>t||l==t&&e<0&&!s)return t==r||e<0?i:i+a;i+=a}r=l}if(t>r)throw new RangeError(`Position ${t} is out of range for changeset of length ${r}`);return i}touchesRange(t,e=t){for(let n=0,r=0;n<this.sections.length&&r<=e;){let i=r+this.sections[n++];if(this.sections[n++]>=0&&r<=e&&i>=t)return!(r<t&&i>e)||"cover";r=i}return!1}toString(){let t="";for(let e=0;e<this.sections.length;){let n=this.sections[e++],r=this.sections[e++];t+=(t?" ":"")+n+(r>=0?":"+r:"")}return t}toJSON(){return this.sections}static fromJSON(t){if(!Array.isArray(t)||t.length%2||t.some((t=>"number"!=typeof t)))throw new RangeError("Invalid JSON representation of ChangeDesc");return new Io(t)}}class Bo extends Io{constructor(t,e){super(t),this.inserted=e}apply(t){if(this.length!=t.length)throw new RangeError("Applying change set to a document with the wrong length");return Vo(this,((e,n,r,i,o)=>t=t.replace(r,r+(n-e),o)),!1),t}mapDesc(t,e=!1){return Uo(this,t,e,!0)}invert(t){let e=this.sections.slice(),n=[];for(let r=0,i=0;r<e.length;r+=2){let o=e[r],s=e[r+1];if(s>=0){e[r]=s,e[r+1]=o;let a=r>>1;for(;n.length<a;)n.push(Eo.empty);n.push(o?t.slice(i,i+o):Eo.empty)}i+=o}return new Bo(e,n)}compose(t){return this.empty?t:t.empty?this:qo(this,t,!0)}map(t,e=!1){return t.empty?this:Uo(this,t,e,!0)}iterChanges(t,e=!1){Vo(this,t,e)}get desc(){return new Io(this.sections)}filter(t){let e=[],n=[],r=[],i=new Ho(this);t:for(let o=0,s=0;;){let a=o==t.length?1e9:t[o++];for(;s<a||s==a&&0==i.len;){if(i.done)break t;let t=Math.min(i.len,a-s);zo(r,t,-1);let o=-1==i.ins?-1:0==i.off?i.ins:0;zo(e,t,o),o>0&&Fo(n,e,i.text),i.forward(t),s+=t}let l=t[o++];for(;s<l;){if(i.done)break t;let t=Math.min(i.len,l-s);zo(e,t,-1),zo(r,t,-1==i.ins?-1:0==i.off?i.ins:0),i.forward(t),s+=t}}return{changes:new Bo(e,n),filtered:new Io(r)}}toJSON(){let t=[];for(let e=0;e<this.sections.length;e+=2){let n=this.sections[e],r=this.sections[e+1];r<0?t.push(n):0==r?t.push([n]):t.push([n].concat(this.inserted[e>>1].toJSON()))}return t}static of(t,e,n){let r=[],i=[],o=0,s=null;function a(t=!1){if(!t&&!r.length)return;o<e&&zo(r,e-o,-1);let n=new Bo(r,i);s=s?s.compose(n.map(s)):n,r=[],i=[],o=0}return function t(l){if(Array.isArray(l))for(let e of l)t(e);else if(l instanceof Bo){if(l.length!=e)throw new RangeError(`Mismatched change set length (got ${l.length}, expected ${e})`);a(),s=s?s.compose(l.map(s)):l}else{let{from:t,to:s=t,insert:u}=l;if(t>s||t<0||s>e)throw new RangeError(`Invalid change range ${t} to ${s} (in doc of length ${e})`);let c=u?"string"==typeof u?Eo.of(u.split(n||jo)):u:Eo.empty,h=c.length;if(t==s&&0==h)return;t<o&&a(),t>o&&zo(r,t-o,-1),zo(r,s-t,h),Fo(i,r,c),o=s}}(t),a(!s),s}static empty(t){return new Bo(t?[t,-1]:[],[])}static fromJSON(t){if(!Array.isArray(t))throw new RangeError("Invalid JSON representation of ChangeSet");let e=[],n=[];for(let r=0;r<t.length;r++){let i=t[r];if("number"==typeof i)e.push(i,-1);else{if(!Array.isArray(i)||"number"!=typeof i[0]||i.some(((t,e)=>e&&"string"!=typeof t)))throw new RangeError("Invalid JSON representation of ChangeSet");if(1==i.length)e.push(i[0],0);else{for(;n.length<r;)n.push(Eo.empty);n[r]=Eo.of(i.slice(1)),e.push(i[0],n[r].length)}}}return new Bo(e,n)}}function zo(t,e,n,r=!1){if(0==e&&n<=0)return;let i=t.length-2;i>=0&&n<=0&&n==t[i+1]?t[i]+=e:0==e&&0==t[i]?t[i+1]+=n:r?(t[i]+=e,t[i+1]+=n):t.push(e,n)}function Fo(t,e,n){if(0==n.length)return;let r=e.length-2>>1;if(r<t.length)t[t.length-1]=t[t.length-1].append(n);else{for(;t.length<r;)t.push(Eo.empty);t.push(n)}}function Vo(t,e,n){let r=t.inserted;for(let i=0,o=0,s=0;s<t.sections.length;){let a=t.sections[s++],l=t.sections[s++];if(l<0)i+=a,o+=a;else{let u=i,c=o,h=Eo.empty;for(;u+=a,c+=l,l&&r&&(h=h.append(r[s-2>>1])),!(n||s==t.sections.length||t.sections[s+1]<0);)a=t.sections[s++],l=t.sections[s++];e(i,u,o,c,h),i=u,o=c}}}function Uo(t,e,n,r=!1){let i=[],o=r?[]:null,s=new Ho(t),a=new Ho(e);for(let t=0,e=0;;)if(-1==s.ins)t+=s.len,s.next();else if(-1==a.ins&&e<t){let n=Math.min(a.len,t-e);a.forward(n),zo(i,n,-1),e+=n}else if(a.ins>=0&&(s.done||e<t||e==t&&(a.len<s.len||a.len==s.len&&!n))){for(zo(i,a.ins,-1);t>e&&!s.done&&t+s.len<e+a.len;)t+=s.len,s.next();e+=a.len,a.next()}else{if(!(s.ins>=0)){if(s.done&&a.done)return o?new Bo(i,o):new Io(i);throw new Error("Mismatched change set lengths")}{let n=0,r=t+s.len;for(;;)if(a.ins>=0&&e>t&&e+a.len<r)n+=a.ins,e+=a.len,a.next();else{if(!(-1==a.ins&&e<r))break;{let t=Math.min(a.len,r-e);n+=t,a.forward(t),e+=t}}zo(i,n,s.ins),o&&Fo(o,i,s.text),t=r,s.next()}}}function qo(t,e,n=!1){let r=[],i=n?[]:null,o=new Ho(t),s=new Ho(e);for(let t=!1;;){if(o.done&&s.done)return i?new Bo(r,i):new Io(r);if(0==o.ins)zo(r,o.len,0,t),o.next();else if(0!=s.len||s.done){if(o.done||s.done)throw new Error("Mismatched change set lengths");{let e=Math.min(o.len2,s.len),n=r.length;if(-1==o.ins){let n=-1==s.ins?-1:s.off?0:s.ins;zo(r,e,n,t),i&&n&&Fo(i,r,s.text)}else-1==s.ins?(zo(r,o.off?0:o.len,e,t),i&&Fo(i,r,o.textBit(e))):(zo(r,o.off?0:o.len,s.off?0:s.ins,t),i&&!s.off&&Fo(i,r,s.text));t=(o.ins>e||s.ins>=0&&s.len>e)&&(t||r.length>n),o.forward2(e),s.forward(e)}}else zo(r,0,s.ins,t),i&&Fo(i,r,s.text),s.next()}}class Ho{constructor(t){this.set=t,this.i=0,this.next()}next(){let{sections:t}=this.set;this.i<t.length?(this.len=t[this.i++],this.ins=t[this.i++]):(this.len=0,this.ins=-2),this.off=0}get done(){return-2==this.ins}get len2(){return this.ins<0?this.len:this.ins}get text(){let{inserted:t}=this.set,e=this.i-2>>1;return e>=t.length?Eo.empty:t[e]}textBit(t){let{inserted:e}=this.set,n=this.i-2>>1;return n>=e.length&&!t?Eo.empty:e[n].slice(this.off,null==t?void 0:this.off+t)}forward(t){t==this.len?this.next():(this.len-=t,this.off+=t)}forward2(t){-1==this.ins?this.forward(t):t==this.ins?this.next():(this.ins-=t,this.off+=t)}}class Wo{constructor(t,e,n){this.from=t,this.to=e,this.flags=n}get anchor(){return 16&this.flags?this.to:this.from}get head(){return 16&this.flags?this.from:this.to}get empty(){return this.from==this.to}get assoc(){return 4&this.flags?-1:8&this.flags?1:0}get bidiLevel(){let t=3&this.flags;return 3==t?null:t}get goalColumn(){let t=this.flags>>5;return 33554431==t?void 0:t}map(t,e=-1){let n=t.mapPos(this.from,e),r=t.mapPos(this.to,e);return n==this.from&&r==this.to?this:new Wo(n,r,this.flags)}extend(t,e=t){if(t<=this.anchor&&e>=this.anchor)return $o.range(t,e);let n=Math.abs(t-this.anchor)>Math.abs(e-this.anchor)?t:e;return $o.range(this.anchor,n)}eq(t){return this.anchor==t.anchor&&this.head==t.head}toJSON(){return{anchor:this.anchor,head:this.head}}static fromJSON(t){if(!t||"number"!=typeof t.anchor||"number"!=typeof t.head)throw new RangeError("Invalid JSON representation for SelectionRange");return $o.range(t.anchor,t.head)}}class $o{constructor(t,e=0){this.ranges=t,this.mainIndex=e}map(t,e=-1){return t.empty?this:$o.create(this.ranges.map((n=>n.map(t,e))),this.mainIndex)}eq(t){if(this.ranges.length!=t.ranges.length||this.mainIndex!=t.mainIndex)return!1;for(let e=0;e<this.ranges.length;e++)if(!this.ranges[e].eq(t.ranges[e]))return!1;return!0}get main(){return this.ranges[this.mainIndex]}asSingle(){return 1==this.ranges.length?this:new $o([this.main])}addRange(t,e=!0){return $o.create([t].concat(this.ranges),e?0:this.mainIndex+1)}replaceRange(t,e=this.mainIndex){let n=this.ranges.slice();return n[e]=t,$o.create(n,this.mainIndex)}toJSON(){return{ranges:this.ranges.map((t=>t.toJSON())),main:this.mainIndex}}static fromJSON(t){if(!t||!Array.isArray(t.ranges)||"number"!=typeof t.main||t.main>=t.ranges.length)throw new RangeError("Invalid JSON representation for EditorSelection");return new $o(t.ranges.map((t=>Wo.fromJSON(t))),t.main)}static single(t,e=t){return new $o([$o.range(t,e)],0)}static create(t,e=0){if(0==t.length)throw new RangeError("A selection needs at least one range");for(let n=0,r=0;r<t.length;r++){let i=t[r];if(i.empty?i.from<=n:i.from<n)return Ko(t.slice(),e);n=i.to}return new $o(t,e)}static cursor(t,e=0,n,r){return new Wo(t,t,(0==e?0:e<0?4:8)|(null==n?3:Math.min(2,n))|(null!=r?r:33554431)<<5)}static range(t,e,n){let r=(null!=n?n:33554431)<<5;return e<t?new Wo(e,t,16|r):new Wo(t,e,r)}}function Ko(t,e=0){let n=t[e];t.sort(((t,e)=>t.from-e.from)),e=t.indexOf(n);for(let n=1;n<t.length;n++){let r=t[n],i=t[n-1];if(r.empty?r.from<=i.to:r.from<i.to){let o=i.from,s=Math.max(r.to,i.to);n<=e&&e--,t.splice(--n,2,r.anchor>r.head?$o.range(s,o):$o.range(o,s))}}return new $o(t,e)}function Qo(t,e){for(let n of t.ranges)if(n.to>e)throw new RangeError("Selection points outside of document")}let Go=0;class Xo{constructor(t,e,n,r,i){this.combine=t,this.compareInput=e,this.compare=n,this.isStatic=r,this.extensions=i,this.id=Go++,this.default=t([])}static define(t={}){return new Xo(t.combine||(t=>t),t.compareInput||((t,e)=>t===e),t.compare||(t.combine?(t,e)=>t===e:Jo),!!t.static,t.enables)}of(t){return new Yo([],this,0,t)}compute(t,e){if(this.isStatic)throw new Error("Can't compute a static facet");return new Yo(t,this,1,e)}computeN(t,e){if(this.isStatic)throw new Error("Can't compute a static facet");return new Yo(t,this,2,e)}from(t,e){return e||(e=t=>t),this.compute([t],(n=>e(n.field(t))))}}function Jo(t,e){return t==e||t.length==e.length&&t.every(((t,n)=>t===e[n]))}class Yo{constructor(t,e,n,r){this.dependencies=t,this.facet=e,this.type=n,this.value=r,this.id=Go++}dynamicSlot(t){var e;let n=this.value,r=this.facet.compareInput,i=t[this.id]>>1,o=2==this.type,s=!1,a=!1,l=[];for(let n of this.dependencies)"doc"==n?s=!0:"selection"==n?a=!0:0==(1&(null!==(e=t[n.id])&&void 0!==e?e:1))&&l.push(t[n.id]);return(t,e)=>{let u=t.values[i];if(u===ls)return t.values[i]=n(t),1;if(e&&(s&&e.docChanged||a&&(e.docChanged||e.selection)||l.some((e=>(1&us(t,e))>0)))){let e=n(t);if(o?!function(t,e,n){if(t.length!=e.length)return!1;for(let r=0;r<t.length;r++)if(!n(t[r],e[r]))return!1;return!0}(e,u,r):!r(e,u))return t.values[i]=e,1}return 0}}}function Zo(t,e,n){let r=n.map((e=>t[e.id])),i=n.map((t=>t.type)),o=r.filter((t=>!(1&t))),s=t[e.id]>>1;return(t,n)=>{let a=t.values[s],l=a===ls||!n;for(let e of o)1&us(t,e)&&(l=!0);if(!l)return 0;let u=[];for(let e=0;e<r.length;e++){let n=cs(t,r[e]);if(2==i[e])for(let t of n)u.push(t);else u.push(n)}let c=e.combine(u);return a!==ls&&e.compare(c,a)?0:(t.values[s]=c,1)}}const ts=Xo.define({static:!0});class es{constructor(t,e,n,r,i){this.id=t,this.createF=e,this.updateF=n,this.compareF=r,this.spec=i,this.provides=void 0}static define(t){let e=new es(Go++,t.create,t.update,t.compare||((t,e)=>t===e),t);return t.provide&&(e.provides=t.provide(e)),e}create(t){let e=t.facet(ts).find((t=>t.field==this));return((null==e?void 0:e.create)||this.createF)(t)}slot(t){let e=t[this.id]>>1;return(t,n)=>{let r=t.values[e];if(r===ls)return t.values[e]=this.create(t),1;if(n){let i=this.updateF(r,n);if(!this.compareF(r,i))return t.values[e]=i,1}return 0}}init(t){return[this,ts.of({field:this,create:t})]}get extension(){return this}}function ns(t){return e=>new is(e,t)}const rs={lowest:ns(4),low:ns(3),default:ns(2),high:ns(1),highest:ns(0),fallback:ns(4),extend:ns(1),override:ns(0)};class is{constructor(t,e){this.inner=t,this.prec=e}}class os{of(t){return new ss(this,t)}reconfigure(t){return os.reconfigure.of({compartment:this,extension:t})}get(t){return t.config.compartments.get(this)}}class ss{constructor(t,e){this.compartment=t,this.inner=e}}class as{constructor(t,e,n,r,i){for(this.base=t,this.compartments=e,this.dynamicSlots=n,this.address=r,this.staticValues=i,this.statusTemplate=[];this.statusTemplate.length<n.length;)this.statusTemplate.push(0)}staticFacet(t){let e=this.address[t.id];return null==e?t.default:this.staticValues[e>>1]}static resolve(t,e,n){let r=[],i=Object.create(null),o=new Map;for(let n of function(t,e,n){let r=[[],[],[],[],[]],i=new Map;return function t(o,s){let a=i.get(o);if(null!=a){if(a>=s)return;let t=r[a].indexOf(o);t>-1&&r[a].splice(t,1),o instanceof ss&&n.delete(o.compartment)}if(i.set(o,s),Array.isArray(o))for(let e of o)t(e,s);else if(o instanceof ss){if(n.has(o.compartment))throw new RangeError("Duplicate use of compartment in extensions");let r=e.get(o.compartment)||o.inner;n.set(o.compartment,r),t(r,s)}else if(o instanceof is)t(o.inner,o.prec);else if(o instanceof es)r[s].push(o),o.provides&&t(o.provides,s);else if(o instanceof Yo)r[s].push(o),o.facet.extensions&&t(o.facet.extensions,s);else{let e=o.extension;if(!e)throw new Error(`Unrecognized extension value in extension set (${o}). This sometimes happens because multiple instances of @codemirror/state are loaded, breaking instanceof checks.`);t(e,s)}}(t,2),r.reduce(((t,e)=>t.concat(e)))}(t,e,o))n instanceof es?r.push(n):(i[n.facet.id]||(i[n.facet.id]=[])).push(n);let s=Object.create(null),a=[],l=[],u=[];for(let t of r)s[t.id]=l.length<<1,l.push((e=>t.slot(e))),u.push([]);for(let t in i){let e=i[t],r=e[0].facet;if(e.every((t=>0==t.type))){s[r.id]=a.length<<1|1;let t=r.combine(e.map((t=>t.value))),i=n?n.config.address[r.id]:null;if(null!=i){let e=cs(n,i);r.compare(t,e)&&(t=e)}a.push(t)}else{for(let t of e)0==t.type?(s[t.id]=a.length<<1|1,a.push(t.value)):(s[t.id]=l.length<<1,l.push((e=>t.dynamicSlot(e))),u.push(t.dependencies.filter((t=>"string"!=typeof t)).map((t=>t.id))));s[r.id]=l.length<<1,l.push((t=>Zo(t,r,e))),u.push(e.filter((t=>0!=t.type)).map((t=>t.id)))}}let c=l.map((t=>ls));if(n){let t=(e,r)=>{if(r>7)return!1;let i=s[e];if(!(1&i))return u[i>>1].every((e=>t(e,r+1)));let o=n.config.address[e];return null!=o&&cs(n,o)==a[i>>1]};for(let e in s){let r=s[e],i=n.config.address[e];null!=i&&0==(1&r)&&t(+e,0)&&(c[r>>1]=cs(n,i))}}return{configuration:new as(t,o,l.map((t=>t(s))),s,a),values:c}}}const ls={};function us(t,e){if(1&e)return 2;let n=e>>1,r=t.status[n];if(4==r)throw new Error("Cyclic dependency between fields and/or facets");if(2&r)return r;t.status[n]=4;let i=t.config.dynamicSlots[n](t,t.applying);return t.status[n]=2|i}function cs(t,e){return 1&e?t.config.staticValues[e>>1]:t.values[e>>1]}const hs=Xo.define(),fs=Xo.define({combine:t=>t.some((t=>t)),static:!0}),ps=Xo.define({combine:t=>t.length?t[0]:void 0,static:!0}),ds=Xo.define(),gs=Xo.define(),ms=Xo.define(),_s=Xo.define({combine:t=>!!t.length&&t[0]});class ys{constructor(t,e){this.type=t,this.value=e}static define(){return new vs}}class vs{of(t){return new ys(this,t)}}class bs{constructor(t){this.map=t}of(t){return new ws(this,t)}}class ws{constructor(t,e){this.type=t,this.value=e}map(t){let e=this.type.map(this.value,t);return void 0===e?void 0:e==this.value?this:new ws(this.type,e)}is(t){return this.type==t}static define(t={}){return new bs(t.map||(t=>t))}static mapEffects(t,e){if(!t.length)return t;let n=[];for(let r of t){let t=r.map(e);t&&n.push(t)}return n}}ws.reconfigure=ws.define(),ws.appendConfig=ws.define();class xs{constructor(t,e,n,r,i,o){this.startState=t,this.changes=e,this.selection=n,this.effects=r,this.annotations=i,this.scrollIntoView=o,this._doc=null,this._state=null,n&&Qo(n,e.newLength),i.some((t=>t.type==xs.time))||(this.annotations=i.concat(xs.time.of(Date.now())))}get newDoc(){return this._doc||(this._doc=this.changes.apply(this.startState.doc))}get newSelection(){return this.selection||this.startState.selection.map(this.changes)}get state(){return this._state||this.startState.applyTransaction(this),this._state}annotation(t){for(let e of this.annotations)if(e.type==t)return e.value}get docChanged(){return!this.changes.empty}get reconfigured(){return this.startState.config!=this.state.config}isUserEvent(t){let e=this.annotation(xs.userEvent);return!(!e||!(e==t||e.length>t.length&&e.slice(0,t.length)==t&&"."==e[t.length]))}}function ks(t,e){let n=[];for(let r=0,i=0;;){let o,s;if(r<t.length&&(i==e.length||e[i]>=t[r]))o=t[r++],s=t[r++];else{if(!(i<e.length))return n;o=e[i++],s=e[i++]}!n.length||n[n.length-1]<o?n.push(o,s):n[n.length-1]<s&&(n[n.length-1]=s)}}function Ss(t,e,n){var r;let i,o,s;return n?(i=e.changes,o=Bo.empty(e.changes.length),s=t.changes.compose(e.changes)):(i=e.changes.map(t.changes),o=t.changes.mapDesc(e.changes,!0),s=t.changes.compose(i)),{changes:s,selection:e.selection?e.selection.map(o):null===(r=t.selection)||void 0===r?void 0:r.map(i),effects:ws.mapEffects(t.effects,i).concat(ws.mapEffects(e.effects,o)),annotations:t.annotations.length?t.annotations.concat(e.annotations):e.annotations,scrollIntoView:t.scrollIntoView||e.scrollIntoView}}function Os(t,e,n){let r=e.selection,i=As(e.annotations);return e.userEvent&&(i=i.concat(xs.userEvent.of(e.userEvent))),{changes:e.changes instanceof Bo?e.changes:Bo.of(e.changes||[],n,t.facet(ps)),selection:r&&(r instanceof $o?r:$o.single(r.anchor,r.head)),effects:As(e.effects),annotations:i,scrollIntoView:!!e.scrollIntoView}}function Es(t,e,n){let r=Os(t,e.length?e[0]:{},t.doc.length);e.length&&!1===e[0].filter&&(n=!1);for(let i=1;i<e.length;i++){!1===e[i].filter&&(n=!1);let o=!!e[i].sequential;r=Ss(r,Os(t,e[i],o?r.changes.newLength:t.doc.length),o)}let i=new xs(t,r.changes,r.selection,r.effects,r.annotations,r.scrollIntoView);return function(t){let e=t.startState,n=e.facet(ms),r=t;for(let i=n.length-1;i>=0;i--){let o=n[i](t);o&&Object.keys(o).length&&(r=Ss(t,Os(e,o,t.changes.newLength),!0))}return r==t?t:new xs(e,t.changes,t.selection,r.effects,r.annotations,r.scrollIntoView)}(n?function(t){let e=t.startState,n=!0;for(let r of e.facet(ds)){let e=r(t);if(!1===e){n=!1;break}Array.isArray(e)&&(n=!0===n?e:ks(n,e))}if(!0!==n){let r,i;if(!1===n)i=t.changes.invertedDesc,r=Bo.empty(e.doc.length);else{let e=t.changes.filter(n);r=e.changes,i=e.filtered.invertedDesc}t=new xs(e,r,t.selection&&t.selection.map(i),ws.mapEffects(t.effects,i),t.annotations,t.scrollIntoView)}let r=e.facet(gs);for(let n=r.length-1;n>=0;n--){let i=r[n](t);t=i instanceof xs?i:Array.isArray(i)&&1==i.length&&i[0]instanceof xs?i[0]:Es(e,As(i),!1)}return t}(i):i)}xs.time=ys.define(),xs.userEvent=ys.define(),xs.addToHistory=ys.define(),xs.remote=ys.define();const Cs=[];function As(t){return null==t?Cs:Array.isArray(t)?t:[t]}var Ps=function(t){return t[t.Word=0]="Word",t[t.Space=1]="Space",t[t.Other=2]="Other",t}(Ps||(Ps={}));const Ts=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;let Ms;try{Ms=new RegExp("[\\p{Alphabetic}\\p{Number}_]","u")}catch(bt){}class Rs{constructor(t,e,n,r,i=null){this.config=t,this.doc=e,this.selection=n,this.values=r,this.applying=null,this.status=t.statusTemplate.slice(),this.applying=i,i&&(i._state=this);for(let t=0;t<this.config.dynamicSlots.length;t++)us(this,t<<1);this.applying=null}field(t,e=!0){let n=this.config.address[t.id];if(null!=n)return us(this,n),cs(this,n);if(e)throw new RangeError("Field is not present in this state")}update(...t){return Es(this,t,!0)}applyTransaction(t){let e,n=this.config,{base:r,compartments:i}=n;for(let e of t.effects)e.is(os.reconfigure)?(n&&(i=new Map,n.compartments.forEach(((t,e)=>i.set(e,t))),n=null),i.set(e.value.compartment,e.value.extension)):e.is(ws.reconfigure)?(n=null,r=e.value):e.is(ws.appendConfig)&&(n=null,r=As(r).concat(e.value));if(n)e=t.startState.values.slice();else{let t=as.resolve(r,i,this);n=t.configuration,e=new Rs(n,this.doc,this.selection,t.values,null).values}new Rs(n,t.newDoc,t.newSelection,e,t)}replaceSelection(t){return"string"==typeof t&&(t=this.toText(t)),this.changeByRange((e=>({changes:{from:e.from,to:e.to,insert:t},range:$o.cursor(e.from+t.length)})))}changeByRange(t){let e=this.selection,n=t(e.ranges[0]),r=this.changes(n.changes),i=[n.range],o=As(n.effects);for(let n=1;n<e.ranges.length;n++){let s=t(e.ranges[n]),a=this.changes(s.changes),l=a.map(r);for(let t=0;t<n;t++)i[t]=i[t].map(l);let u=r.mapDesc(a,!0);i.push(s.range.map(u)),r=r.compose(l),o=ws.mapEffects(o,l).concat(ws.mapEffects(As(s.effects),u))}return{changes:r,selection:$o.create(i,e.mainIndex),effects:o}}changes(t=[]){return t instanceof Bo?t:Bo.of(t,this.doc.length,this.facet(Rs.lineSeparator))}toText(t){return Eo.of(t.split(this.facet(Rs.lineSeparator)||jo))}sliceDoc(t=0,e=this.doc.length){return this.doc.sliceString(t,e,this.lineBreak)}facet(t){let e=this.config.address[t.id];return null==e?t.default:(us(this,e),cs(this,e))}toJSON(t){let e={doc:this.sliceDoc(),selection:this.selection.toJSON()};if(t)for(let n in t){let r=t[n];r instanceof es&&(e[n]=r.spec.toJSON(this.field(t[n]),this))}return e}static fromJSON(t,e={},n){if(!t||"string"!=typeof t.doc)throw new RangeError("Invalid JSON representation for EditorState");let r=[];if(n)for(let e in n){let i=n[e],o=t[e];r.push(i.init((t=>i.spec.fromJSON(o,t))))}return Rs.create({doc:t.doc,selection:$o.fromJSON(t.selection),extensions:e.extensions?r.concat([e.extensions]):r})}static create(t={}){let{configuration:e,values:n}=as.resolve(t.extensions||[],new Map),r=t.doc instanceof Eo?t.doc:Eo.of((t.doc||"").split(e.staticFacet(Rs.lineSeparator)||jo)),i=t.selection?t.selection instanceof $o?t.selection:$o.single(t.selection.anchor,t.selection.head):$o.single(0);return Qo(i,r.length),e.staticFacet(fs)||(i=i.asSingle()),new Rs(e,r,i,n)}get tabSize(){return this.facet(Rs.tabSize)}get lineBreak(){return this.facet(Rs.lineSeparator)||"\n"}get readOnly(){return this.facet(_s)}phrase(t){for(let e of this.facet(Rs.phrases))if(Object.prototype.hasOwnProperty.call(e,t))return e[t];return t}languageDataAt(t,e,n=-1){let r=[];for(let i of this.facet(hs))for(let o of i(this,e,n))Object.prototype.hasOwnProperty.call(o,t)&&r.push(o[t]);return r}charCategorizer(t){return e=this.languageDataAt("wordChars",t).join(""),t=>{if(!/\S/.test(t))return Ps.Space;if(function(t){if(Ms)return Ms.test(t);for(let e=0;e<t.length;e++){let n=t[e];if(/\w/.test(n)||n>""&&(n.toUpperCase()!=n.toLowerCase()||Ts.test(n)))return!0}return!1}(t))return Ps.Word;for(let n=0;n<e.length;n++)if(t.indexOf(e[n])>-1)return Ps.Word;return Ps.Other};var e}wordAt(t){let{text:e,from:n,length:r}=this.doc.lineAt(t),i=this.charCategorizer(t),o=t-n,s=t-n;for(;o>0;){let t=mo(e,o,!1);if(i(e.slice(t,o))!=Ps.Word)break;o=t}for(;s<r;){let t=mo(e,s);if(i(e.slice(s,t))!=Ps.Word)break;s=t}return o==s?null:$o.range(o+n,s+n)}}function Ns(t,e,n={}){let r={};for(let e of t)for(let t of Object.keys(e)){let i=e[t],o=r[t];if(void 0===o)r[t]=i;else if(o===i||void 0===i);else{if(!Object.hasOwnProperty.call(n,t))throw new Error("Config merge conflict for field "+t);r[t]=n[t](o,i)}}for(let t in e)void 0===r[t]&&(r[t]=e[t]);return r}Rs.allowMultipleSelections=fs,Rs.tabSize=Xo.define({combine:t=>t.length?t[0]:4}),Rs.lineSeparator=ps,Rs.readOnly=_s,Rs.phrases=Xo.define(),Rs.languageData=hs,Rs.changeFilter=ds,Rs.transactionFilter=gs,Rs.transactionExtender=ms,os.reconfigure=ws.define();const Ds="undefined"==typeof Symbol?"__ͼ":Symbol.for("ͼ"),js="undefined"==typeof Symbol?"__styleSet"+Math.floor(1e8*Math.random()):Symbol("styleSet"),Ls="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:{};class Is{constructor(t,e){this.rules=[];let{finish:n}=e||{};function r(t){return/^@/.test(t)?[t]:t.split(/,\s*/)}function i(t,e,o,s){let a=[],l=/^@(\w+)\b/.exec(t[0]),u=l&&"keyframes"==l[1];if(l&&null==e)return o.push(t[0]+";");for(let n in e){let s=e[n];if(/&/.test(n))i(n.split(/,\s*/).map((e=>t.map((t=>e.replace(/&/,t))))).reduce(((t,e)=>t.concat(e))),s,o);else if(s&&"object"==typeof s){if(!l)throw new RangeError("The value of a property ("+n+") should be a primitive value.");i(r(n),s,a,u)}else null!=s&&a.push(n.replace(/_.*/,"").replace(/[A-Z]/g,(t=>"-"+t.toLowerCase()))+": "+s+";")}(a.length||u)&&o.push((!n||l||s?t:t.map(n)).join(", ")+" {"+a.join(" ")+"}")}for(let e in t)i(r(e),t[e],this.rules)}getRules(){return this.rules.join("\n")}static newName(){let t=Ls[Ds]||1;return Ls[Ds]=t+1,"ͼ"+t.toString(36)}static mount(t,e){(t[js]||new zs(t)).mount(Array.isArray(e)?e:[e])}}let Bs=null;class zs{constructor(t){if(!t.head&&t.adoptedStyleSheets&&"undefined"!=typeof CSSStyleSheet){if(Bs)return t.adoptedStyleSheets=[Bs.sheet].concat(t.adoptedStyleSheets),t[js]=Bs;this.sheet=new CSSStyleSheet,t.adoptedStyleSheets=[this.sheet].concat(t.adoptedStyleSheets),Bs=this}else{this.styleTag=(t.ownerDocument||t).createElement("style");let e=t.head||t;e.insertBefore(this.styleTag,e.firstChild)}this.modules=[],t[js]=this}mount(t){let e=this.sheet,n=0,r=0;for(let i=0;i<t.length;i++){let o=t[i],s=this.modules.indexOf(o);if(s<r&&s>-1&&(this.modules.splice(s,1),r--,s=-1),-1==s){if(this.modules.splice(r++,0,o),e)for(let t=0;t<o.rules.length;t++)e.insertRule(o.rules[t],n++)}else{for(;r<s;)n+=this.modules[r++].rules.length;n+=o.rules.length,r++}}if(!e){let t="";for(let e=0;e<this.modules.length;e++)t+=this.modules[e].getRules()+"\n";this.styleTag.textContent=t}}}class Fs{eq(t){return this==t}range(t,e=t){return new Vs(t,e,this)}}Fs.prototype.startSide=Fs.prototype.endSide=0,Fs.prototype.point=!1,Fs.prototype.mapMode=Lo.TrackDel;class Vs{constructor(t,e,n){this.from=t,this.to=e,this.value=n}}function Us(t,e){return t.from-e.from||t.value.startSide-e.value.startSide}class qs{constructor(t,e,n,r){this.from=t,this.to=e,this.value=n,this.maxPoint=r}get length(){return this.to[this.to.length-1]}findIndex(t,e,n,r=0){let i=n?this.to:this.from;for(let o=r,s=i.length;;){if(o==s)return o;let r=o+s>>1,a=i[r]-t||(n?this.value[r].endSide:this.value[r].startSide)-e;if(r==o)return a>=0?o:s;a>=0?s=r:o=r+1}}between(t,e,n,r){for(let i=this.findIndex(e,-1e9,!0),o=this.findIndex(n,1e9,!1,i);i<o;i++)if(!1===r(this.from[i]+t,this.to[i]+t,this.value[i]))return!1}map(t,e){let n=[],r=[],i=[],o=-1,s=-1;for(let a=0;a<this.value.length;a++){let l,u,c=this.value[a],h=this.from[a]+t,f=this.to[a]+t;if(h==f){let t=e.mapPos(h,c.startSide,c.mapMode);if(null==t)continue;l=u=t}else if(l=e.mapPos(h,c.startSide),u=e.mapPos(f,c.endSide),l>u||l==u&&c.startSide>0&&c.endSide<=0)continue;(u-l||c.endSide-c.startSide)<0||(o<0&&(o=l),c.point&&(s=Math.max(s,u-l)),n.push(c),r.push(l-o),i.push(u-o))}return{mapped:n.length?new qs(r,i,n,s):null,pos:o}}}class Hs{constructor(t,e,n=Hs.empty,r){this.chunkPos=t,this.chunk=e,this.nextLayer=n,this.maxPoint=r}get length(){let t=this.chunk.length-1;return t<0?0:Math.max(this.chunkEnd(t),this.nextLayer.length)}get size(){if(this.isEmpty)return 0;let t=this.nextLayer.size;for(let e of this.chunk)t+=e.value.length;return t}chunkEnd(t){return this.chunkPos[t]+this.chunk[t].length}update(t){let{add:e=[],sort:n=!1,filterFrom:r=0,filterTo:i=this.length}=t,o=t.filter;if(0==e.length&&!o)return this;if(n&&e.slice().sort(Us),this.isEmpty)return e.length?Hs.of(e):this;let s=new Ks(this,null,-1).goto(0),a=0,l=[],u=new Ws;for(;s.value||a<e.length;)if(a<e.length&&(s.from-e[a].from||s.startSide-e[a].value.startSide)>=0){let t=e[a++];u.addInner(t.from,t.to,t.value)||l.push(t)}else 1==s.rangeIndex&&s.chunkIndex<this.chunk.length&&(a==e.length||this.chunkEnd(s.chunkIndex)<e[a].from)&&(!o||r>this.chunkEnd(s.chunkIndex)||i<this.chunkPos[s.chunkIndex])&&u.addChunk(this.chunkPos[s.chunkIndex],this.chunk[s.chunkIndex])?s.nextChunk():((!o||r>s.to||i<s.from||o(s.from,s.to,s.value))&&(u.addInner(s.from,s.to,s.value)||l.push(new Vs(s.from,s.to,s.value))),s.next());return u.finishInner(this.nextLayer.isEmpty&&!l.length?Hs.empty:this.nextLayer.update({add:l,filter:o,filterFrom:r,filterTo:i}))}map(t){if(0==t.length||this.isEmpty)return this;let e=[],n=[],r=-1;for(let i=0;i<this.chunk.length;i++){let o=this.chunkPos[i],s=this.chunk[i],a=t.touchesRange(o,o+s.length);if(!1===a)r=Math.max(r,s.maxPoint),e.push(s),n.push(t.mapPos(o));else if(!0===a){let{mapped:i,pos:a}=s.map(o,t);i&&(r=Math.max(r,i.maxPoint),e.push(i),n.push(a))}}let i=this.nextLayer.map(t);return 0==e.length?i:new Hs(n,e,i,r)}between(t,e,n){if(!this.isEmpty){for(let r=0;r<this.chunk.length;r++){let i=this.chunkPos[r],o=this.chunk[r];if(e>=i&&t<=i+o.length&&!1===o.between(i,t-i,e-i,n))return}this.nextLayer.between(t,e,n)}}iter(t=0){return Qs.from([this]).goto(t)}get isEmpty(){return this.nextLayer==this}static iter(t,e=0){return Qs.from(t).goto(e)}static compare(t,e,n,r,i=-1){let o=t.filter((t=>t.maxPoint>=500||!t.isEmpty&&t.maxPoint>=i)),s=e.filter((t=>t.maxPoint>=500||!t.isEmpty&&t.maxPoint>=i)),a=$s(o,s,n),l=new Xs(o,a,i),u=new Xs(s,a,i);n.iterGaps(((t,e,n)=>Js(l,t,u,e,n,r))),n.empty&&0==n.length&&Js(l,0,u,0,0,r)}static eq(t,e,n=0,r){null==r&&(r=1e9);let i=t.filter((t=>!t.isEmpty&&e.indexOf(t)<0)),o=e.filter((e=>!e.isEmpty&&t.indexOf(e)<0));if(i.length!=o.length)return!1;if(!i.length)return!0;let s=$s(i,o),a=new Xs(i,s,0).goto(n),l=new Xs(o,s,0).goto(n);for(;;){if(a.to!=l.to||!Ys(a.active,l.active)||a.point&&(!l.point||!a.point.eq(l.point)))return!1;if(a.to>r)return!0;a.next(),l.next()}}static spans(t,e,n,r,i=-1){let o=new Xs(t,null,i).goto(e),s=e,a=o.openStart;for(;;){let t=Math.min(o.to,n);if(o.point?(r.point(s,t,o.point,o.activeForPoint(o.to),a),a=o.openEnd(t)+(o.to>t?1:0)):t>s&&(r.span(s,t,o.active,a),a=o.openEnd(t)),o.to>n)break;s=o.to,o.next()}return a}static of(t,e=!1){let n=new Ws;for(let r of t instanceof Vs?[t]:e?function(t){if(t.length>1)for(let e=t[0],n=1;n<t.length;n++){let r=t[n];if(Us(e,r)>0)return t.slice().sort(Us);e=r}return t}(t):t)n.add(r.from,r.to,r.value);return n.finish()}}Hs.empty=new Hs([],[],null,-1),Hs.empty.nextLayer=Hs.empty;class Ws{constructor(){this.chunks=[],this.chunkPos=[],this.chunkStart=-1,this.last=null,this.lastFrom=-1e9,this.lastTo=-1e9,this.from=[],this.to=[],this.value=[],this.maxPoint=-1,this.setMaxPoint=-1,this.nextLayer=null}finishChunk(t){this.chunks.push(new qs(this.from,this.to,this.value,this.maxPoint)),this.chunkPos.push(this.chunkStart),this.chunkStart=-1,this.setMaxPoint=Math.max(this.setMaxPoint,this.maxPoint),this.maxPoint=-1,t&&(this.from=[],this.to=[],this.value=[])}add(t,e,n){this.addInner(t,e,n)||(this.nextLayer||(this.nextLayer=new Ws)).add(t,e,n)}addInner(t,e,n){let r=t-this.lastTo||n.startSide-this.last.endSide;if(r<=0&&(t-this.lastFrom||n.startSide-this.last.startSide)<0)throw new Error("Ranges must be added sorted by `from` position and `startSide`");return!(r<0||(250==this.from.length&&this.finishChunk(!0),this.chunkStart<0&&(this.chunkStart=t),this.from.push(t-this.chunkStart),this.to.push(e-this.chunkStart),this.last=n,this.lastFrom=t,this.lastTo=e,this.value.push(n),n.point&&(this.maxPoint=Math.max(this.maxPoint,e-t)),0))}addChunk(t,e){if((t-this.lastTo||e.value[0].startSide-this.last.endSide)<0)return!1;this.from.length&&this.finishChunk(!0),this.setMaxPoint=Math.max(this.setMaxPoint,e.maxPoint),this.chunks.push(e),this.chunkPos.push(t);let n=e.value.length-1;return this.last=e.value[n],this.lastFrom=e.from[n]+t,this.lastTo=e.to[n]+t,!0}finish(){return this.finishInner(Hs.empty)}finishInner(t){if(this.from.length&&this.finishChunk(!1),0==this.chunks.length)return t;let e=new Hs(this.chunkPos,this.chunks,this.nextLayer?this.nextLayer.finishInner(t):t,this.setMaxPoint);return this.from=null,e}}function $s(t,e,n){let r=new Map;for(let e of t)for(let t=0;t<e.chunk.length;t++)e.chunk[t].maxPoint<500&&r.set(e.chunk[t],e.chunkPos[t]);let i=new Set;for(let t of e)for(let e=0;e<t.chunk.length;e++){let o=r.get(t.chunk[e]);null!=o&&(n?n.mapPos(o):o)==t.chunkPos[e]&&i.add(t.chunk[e])}return i}class Ks{constructor(t,e,n,r=0){this.layer=t,this.skip=e,this.minPoint=n,this.rank=r}get startSide(){return this.value?this.value.startSide:0}get endSide(){return this.value?this.value.endSide:0}goto(t,e=-1e9){return this.chunkIndex=this.rangeIndex=0,this.gotoInner(t,e,!1),this}gotoInner(t,e,n){for(;this.chunkIndex<this.layer.chunk.length;){let e=this.layer.chunk[this.chunkIndex];if(!(this.skip&&this.skip.has(e)||this.layer.chunkEnd(this.chunkIndex)<t||e.maxPoint<this.minPoint))break;this.chunkIndex++,n=!1}if(this.chunkIndex<this.layer.chunk.length){let r=this.layer.chunk[this.chunkIndex].findIndex(t-this.layer.chunkPos[this.chunkIndex],e,!0);(!n||this.rangeIndex<r)&&this.setRangeIndex(r)}this.next()}forward(t,e){(this.to-t||this.endSide-e)<0&&this.gotoInner(t,e,!0)}next(){for(;;){if(this.chunkIndex==this.layer.chunk.length){this.from=this.to=1e9,this.value=null;break}{let t=this.layer.chunkPos[this.chunkIndex],e=this.layer.chunk[this.chunkIndex],n=t+e.from[this.rangeIndex];if(this.from=n,this.to=t+e.to[this.rangeIndex],this.value=e.value[this.rangeIndex],this.setRangeIndex(this.rangeIndex+1),this.minPoint<0||this.value.point&&this.to-this.from>=this.minPoint)break}}}setRangeIndex(t){if(t==this.layer.chunk[this.chunkIndex].value.length){if(this.chunkIndex++,this.skip)for(;this.chunkIndex<this.layer.chunk.length&&this.skip.has(this.layer.chunk[this.chunkIndex]);)this.chunkIndex++;this.rangeIndex=0}else this.rangeIndex=t}nextChunk(){this.chunkIndex++,this.rangeIndex=0,this.next()}compare(t){return this.from-t.from||this.startSide-t.startSide||this.to-t.to||this.endSide-t.endSide}}class Qs{constructor(t){this.heap=t}static from(t,e=null,n=-1){let r=[];for(let i=0;i<t.length;i++)for(let o=t[i];!o.isEmpty;o=o.nextLayer)o.maxPoint>=n&&r.push(new Ks(o,e,n,i));return 1==r.length?r[0]:new Qs(r)}get startSide(){return this.value?this.value.startSide:0}goto(t,e=-1e9){for(let n of this.heap)n.goto(t,e);for(let t=this.heap.length>>1;t>=0;t--)Gs(this.heap,t);return this.next(),this}forward(t,e){for(let n of this.heap)n.forward(t,e);for(let t=this.heap.length>>1;t>=0;t--)Gs(this.heap,t);(this.to-t||this.value.endSide-e)<0&&this.next()}next(){if(0==this.heap.length)this.from=this.to=1e9,this.value=null,this.rank=-1;else{let t=this.heap[0];this.from=t.from,this.to=t.to,this.value=t.value,this.rank=t.rank,t.value&&t.next(),Gs(this.heap,0)}}}function Gs(t,e){for(let n=t[e];;){let r=1+(e<<1);if(r>=t.length)break;let i=t[r];if(r+1<t.length&&i.compare(t[r+1])>=0&&(i=t[r+1],r++),n.compare(i)<0)break;t[r]=n,t[e]=i,e=r}}class Xs{constructor(t,e,n){this.minPoint=n,this.active=[],this.activeTo=[],this.activeRank=[],this.minActive=-1,this.point=null,this.pointFrom=0,this.pointRank=0,this.to=-1e9,this.endSide=0,this.openStart=-1,this.cursor=Qs.from(t,e,n)}goto(t,e=-1e9){return this.cursor.goto(t,e),this.active.length=this.activeTo.length=this.activeRank.length=0,this.minActive=-1,this.to=t,this.endSide=e,this.openStart=-1,this.next(),this}forward(t,e){for(;this.minActive>-1&&(this.activeTo[this.minActive]-t||this.active[this.minActive].endSide-e)<0;)this.removeActive(this.minActive);this.cursor.forward(t,e)}removeActive(t){Zs(this.active,t),Zs(this.activeTo,t),Zs(this.activeRank,t),this.minActive=ea(this.active,this.activeTo)}addActive(t){let e=0,{value:n,to:r,rank:i}=this.cursor;for(;e<this.activeRank.length&&this.activeRank[e]<=i;)e++;ta(this.active,e,n),ta(this.activeTo,e,r),ta(this.activeRank,e,i),t&&ta(t,e,this.cursor.from),this.minActive=ea(this.active,this.activeTo)}next(){let t=this.to,e=this.point;this.point=null;let n=this.openStart<0?[]:null,r=0;for(;;){let i=this.minActive;if(i>-1&&(this.activeTo[i]-this.cursor.from||this.active[i].endSide-this.cursor.startSide)<0){if(this.activeTo[i]>t){this.to=this.activeTo[i],this.endSide=this.active[i].endSide;break}this.removeActive(i),n&&Zs(n,i)}else{if(!this.cursor.value){this.to=this.endSide=1e9;break}if(this.cursor.from>t){this.to=this.cursor.from,this.endSide=this.cursor.startSide;break}{let i=this.cursor.value;if(i.point){if(!(e&&this.cursor.to==this.to&&this.cursor.from<this.cursor.to&&i.endSide==this.endSide)){this.point=i,this.pointFrom=this.cursor.from,this.pointRank=this.cursor.rank,this.to=this.cursor.to,this.endSide=i.endSide,this.cursor.from<t&&(r=1),this.cursor.next(),this.to>t&&this.forward(this.to,this.endSide);break}this.cursor.next()}else this.addActive(n),this.cursor.next()}}}if(n){let e=0;for(;e<n.length&&n[e]<t;)e++;this.openStart=e+r}}activeForPoint(t){if(!this.active.length)return this.active;let e=[];for(let n=this.active.length-1;n>=0&&!(this.activeRank[n]<this.pointRank);n--)(this.activeTo[n]>t||this.activeTo[n]==t&&this.active[n].endSide>=this.point.endSide)&&e.push(this.active[n]);return e.reverse()}openEnd(t){let e=0;for(let n=this.activeTo.length-1;n>=0&&this.activeTo[n]>t;n--)e++;return e}}function Js(t,e,n,r,i,o){t.goto(e),n.goto(r);let s=r+i,a=r,l=r-e;for(;;){let e=t.to+l-n.to||t.endSide-n.endSide,r=e<0?t.to+l:n.to,i=Math.min(r,s);if(t.point||n.point?t.point&&n.point&&(t.point==n.point||t.point.eq(n.point))&&Ys(t.activeForPoint(t.to+l),n.activeForPoint(n.to))||o.comparePoint(a,i,t.point,n.point):i>a&&!Ys(t.active,n.active)&&o.compareRange(a,i,t.active,n.active),r>s)break;a=r,e<=0&&t.next(),e>=0&&n.next()}}function Ys(t,e){if(t.length!=e.length)return!1;for(let n=0;n<t.length;n++)if(t[n]!=e[n]&&!t[n].eq(e[n]))return!1;return!0}function Zs(t,e){for(let n=e,r=t.length-1;n<r;n++)t[n]=t[n+1];t.pop()}function ta(t,e,n){for(let n=t.length-1;n>=e;n--)t[n+1]=t[n];t[e]=n}function ea(t,e){let n=-1,r=1e9;for(let i=0;i<e.length;i++)(e[i]-r||t[i].endSide-t[n].endSide)<0&&(n=i,r=e[i]);return n}for(var na={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",229:"q"},ra={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"',229:"Q"},ia="undefined"!=typeof navigator&&/Chrome\/(\d+)/.exec(navigator.userAgent),oa="undefined"!=typeof navigator&&/Apple Computer/.test(navigator.vendor),sa="undefined"!=typeof navigator&&/Gecko\/\d+/.test(navigator.userAgent),aa="undefined"!=typeof navigator&&/Mac/.test(navigator.platform),la="undefined"!=typeof navigator&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent),ua=ia&&(aa||+ia[1]<57)||sa&&aa,ca=0;ca<10;ca++)na[48+ca]=na[96+ca]=String(ca);for(ca=1;ca<=24;ca++)na[ca+111]="F"+ca;for(ca=65;ca<=90;ca++)na[ca]=String.fromCharCode(ca+32),ra[ca]=String.fromCharCode(ca);for(var ha in na)ra.hasOwnProperty(ha)||(ra[ha]=na[ha]);function fa(t){let e;return e=11==t.nodeType?t.getSelection?t:t.ownerDocument:t,e.getSelection()}function pa(t,e){return!!e&&t.contains(1!=e.nodeType?e.parentNode:e)}function da(t,e){if(!e.anchorNode)return!1;try{return pa(t,e.anchorNode)}catch(t){return!1}}function ga(t){return 3==t.nodeType?Ca(t,0,t.nodeValue.length).getClientRects():1==t.nodeType?t.getClientRects():[]}function ma(t,e,n,r){return!!n&&(ya(t,e,n,r,-1)||ya(t,e,n,r,1))}function _a(t){for(var e=0;;e++)if(!(t=t.previousSibling))return e}function ya(t,e,n,r,i){for(;;){if(t==n&&e==r)return!0;if(e==(i<0?0:va(t))){if("DIV"==t.nodeName)return!1;let n=t.parentNode;if(!n||1!=n.nodeType)return!1;e=_a(t)+(i<0?0:1),t=n}else{if(1!=t.nodeType)return!1;if(1==(t=t.childNodes[e+(i<0?-1:0)]).nodeType&&"false"==t.contentEditable)return!1;e=i<0?va(t):0}}}function va(t){return 3==t.nodeType?t.nodeValue.length:t.childNodes.length}const ba={left:0,right:0,top:0,bottom:0};function wa(t,e){let n=e?t.left:t.right;return{left:n,right:n,top:t.top,bottom:t.bottom}}function xa(t){return{left:0,right:t.innerWidth,top:0,bottom:t.innerHeight}}class ka{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}eq(t){return this.anchorNode==t.anchorNode&&this.anchorOffset==t.anchorOffset&&this.focusNode==t.focusNode&&this.focusOffset==t.focusOffset}setRange(t){this.set(t.anchorNode,t.anchorOffset,t.focusNode,t.focusOffset)}set(t,e,n,r){this.anchorNode=t,this.anchorOffset=e,this.focusNode=n,this.focusOffset=r}}let Sa,Oa=null;function Ea(t){if(t.setActive)return t.setActive();if(Oa)return t.focus(Oa);let e=[];for(let n=t;n&&(e.push(n,n.scrollTop,n.scrollLeft),n!=n.ownerDocument);n=n.parentNode);if(t.focus(null==Oa?{get preventScroll(){return Oa={preventScroll:!0},!0}}:void 0),!Oa){Oa=!1;for(let t=0;t<e.length;){let n=e[t++],r=e[t++],i=e[t++];n.scrollTop!=r&&(n.scrollTop=r),n.scrollLeft!=i&&(n.scrollLeft=i)}}}function Ca(t,e,n=e){let r=Sa||(Sa=document.createRange());return r.setEnd(t,n),r.setStart(t,e),r}function Aa(t,e,n){let r={key:e,code:e,keyCode:n,which:n,cancelable:!0},i=new KeyboardEvent("keydown",r);i.synthetic=!0,t.dispatchEvent(i);let o=new KeyboardEvent("keyup",r);return o.synthetic=!0,t.dispatchEvent(o),i.defaultPrevented||o.defaultPrevented}class Pa{constructor(t,e,n=!0){this.node=t,this.offset=e,this.precise=n}static before(t,e){return new Pa(t.parentNode,_a(t),e)}static after(t,e){return new Pa(t.parentNode,_a(t)+1,e)}}const Ta=[];class Ma{constructor(){this.parent=null,this.dom=null,this.dirty=2}get editorView(){if(!this.parent)throw new Error("Accessing view in orphan content view");return this.parent.editorView}get overrideDOMText(){return null}get posAtStart(){return this.parent?this.parent.posBefore(this):0}get posAtEnd(){return this.posAtStart+this.length}posBefore(t){let e=this.posAtStart;for(let n of this.children){if(n==t)return e;e+=n.length+n.breakAfter}throw new RangeError("Invalid child in posBefore")}posAfter(t){return this.posBefore(t)+t.length}coordsAt(t,e){return null}sync(t){var e;if(2&this.dirty){let n=this.dom,r=n.firstChild;for(let i of this.children)if(i.dirty&&(i.dom||!r||(null===(e=Ma.get(r))||void 0===e?void 0:e.parent)||i.reuseDOM(r),i.sync(t),i.dirty=0),t&&!t.written&&t.node==n&&r!=i.dom&&(t.written=!0),i.dom.parentNode==n){for(;r&&r!=i.dom;)r=Ra(r);r=i.dom.nextSibling}else n.insertBefore(i.dom,r);for(r&&t&&t.node==n&&(t.written=!0);r;)r=Ra(r)}else if(1&this.dirty)for(let e of this.children)e.dirty&&(e.sync(t),e.dirty=0)}reuseDOM(t){return!1}localPosFromDOM(t,e){let n;if(t==this.dom)n=this.dom.childNodes[e];else{let r=0==va(t)?0:0==e?-1:1;for(;;){let e=t.parentNode;if(e==this.dom)break;0==r&&e.firstChild!=e.lastChild&&(r=t==e.firstChild?-1:1),t=e}n=r<0?t:t.nextSibling}if(n==this.dom.firstChild)return 0;for(;n&&!Ma.get(n);)n=n.nextSibling;if(!n)return this.length;for(let t=0,e=0;;t++){let r=this.children[t];if(r.dom==n)return e;e+=r.length+r.breakAfter}}domBoundsAround(t,e,n=0){let r=-1,i=-1,o=-1,s=-1;for(let a=0,l=n,u=n;a<this.children.length;a++){let n=this.children[a],c=l+n.length;if(l<t&&c>e)return n.domBoundsAround(t,e,l);if(c>=t&&-1==r&&(r=a,i=l),l>e&&n.dom.parentNode==this.dom){o=a,s=u;break}u=c,l=c+n.breakAfter}return{from:i,to:s<0?n+this.length:s,startDOM:(r?this.children[r-1].dom.nextSibling:null)||this.dom.firstChild,endDOM:o<this.children.length&&o>=0?this.children[o].dom:null}}markDirty(t=!1){this.dirty|=2,this.markParentsDirty(t)}markParentsDirty(t){for(let e=this.parent;e;e=e.parent){if(t&&(e.dirty|=2),1&e.dirty)return;e.dirty|=1,t=!1}}setParent(t){this.parent!=t&&(this.parent=t,this.dirty&&this.markParentsDirty(!0))}setDOM(t){this.dom&&(this.dom.cmView=null),this.dom=t,t.cmView=this}get rootView(){for(let t=this;;){let e=t.parent;if(!e)return t;t=e}}replaceChildren(t,e,n=Ta){this.markDirty();for(let n=t;n<e;n++){let t=this.children[n];t.parent==this&&(t.parent=null)}this.children.splice(t,e-t,...n);for(let t=0;t<n.length;t++)n[t].setParent(this)}ignoreMutation(t){return!1}ignoreEvent(t){return!1}childCursor(t=this.length){return new Na(this.children,t,this.children.length)}childPos(t,e=1){return this.childCursor().findPos(t,e)}toString(){let t=this.constructor.name.replace("View","");return t+(this.children.length?"("+this.children.join()+")":this.length?"["+("Text"==t?this.text:this.length)+"]":"")+(this.breakAfter?"#":"")}static get(t){return t.cmView}get isEditable(){return!0}}function Ra(t){let e=t.nextSibling;return t.parentNode.removeChild(t),e}Ma.prototype.breakAfter=0;class Na{constructor(t,e,n){this.children=t,this.pos=e,this.i=n,this.off=0}findPos(t,e=1){for(;;){if(t>this.pos||t==this.pos&&(e>0||0==this.i||this.children[this.i-1].breakAfter))return this.off=t-this.pos,this;let n=this.children[--this.i];this.pos-=n.length+n.breakAfter}}}let[Da,ja]="undefined"!=typeof navigator?[navigator,document]:[{userAgent:"",vendor:"",platform:""},{documentElement:{style:{}}}];const La=/Edge\/(\d+)/.exec(Da.userAgent),Ia=/MSIE \d/.test(Da.userAgent),Ba=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(Da.userAgent),za=!!(Ia||Ba||La),Fa=!za&&/gecko\/(\d+)/i.test(Da.userAgent),Va=!za&&/Chrome\/(\d+)/.exec(Da.userAgent),Ua="webkitFontSmoothing"in ja.documentElement.style,qa=!za&&/Apple Computer/.test(Da.vendor),Ha=qa&&(/Mobile\/\w+/.test(Da.userAgent)||Da.maxTouchPoints>2);var Wa={mac:Ha||/Mac/.test(Da.platform),windows:/Win/.test(Da.platform),linux:/Linux|X11/.test(Da.platform),ie:za,ie_version:Ia?ja.documentMode||6:Ba?+Ba[1]:La?+La[1]:0,gecko:Fa,gecko_version:Fa?+(/Firefox\/(\d+)/.exec(Da.userAgent)||[0,0])[1]:0,chrome:!!Va,chrome_version:Va?+Va[1]:0,ios:Ha,android:/Android\b/.test(Da.userAgent),webkit:Ua,safari:qa,webkit_version:Ua?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0,tabSize:null!=ja.documentElement.style.tabSize?"tab-size":"-moz-tab-size"};const $a=[];class Ka extends Ma{become(t){return!1}getSide(){return 0}}Ka.prototype.children=$a;class Qa extends Ka{constructor(t){super(),this.text=t}get length(){return this.text.length}createDOM(t){this.setDOM(t||document.createTextNode(this.text))}sync(t){this.dom||this.createDOM(),this.dom.nodeValue!=this.text&&(t&&t.node==this.dom&&(t.written=!0),this.dom.nodeValue=this.text)}reuseDOM(t){return 3==t.nodeType&&(this.createDOM(t),!0)}merge(t,e,n){return(!n||n instanceof Qa&&!(this.length-(e-t)+n.length>256))&&(this.text=this.text.slice(0,t)+(n?n.text:"")+this.text.slice(e),this.markDirty(),!0)}slice(t){let e=new Qa(this.text.slice(t));return this.text=this.text.slice(0,t),e}localPosFromDOM(t,e){return t==this.dom?e:e?this.text.length:0}domAtPos(t){return new Pa(this.dom,t)}domBoundsAround(t,e,n){return{from:n,to:n+this.length,startDOM:this.dom,endDOM:this.dom.nextSibling}}coordsAt(t,e){return Xa(this.dom,t,e)}}class Ga extends Ka{constructor(t,e=[],n=0){super(),this.mark=t,this.children=e,this.length=n;for(let t of e)t.setParent(this)}createDOM(){let t=document.createElement(this.mark.tagName);if(this.mark.class&&(t.className=this.mark.class),this.mark.attrs)for(let e in this.mark.attrs)t.setAttribute(e,this.mark.attrs[e]);this.setDOM(t)}sync(t){(!this.dom||4&this.dirty)&&this.createDOM(),super.sync(t)}merge(t,e,n,r,i){return!(n&&(!(n instanceof Ga&&n.mark.eq(this.mark))||t&&r<=0||e<this.length&&i<=0)||(tl(this,t,e,n?n.children:$a,r-1,i-1),this.markDirty(),0))}slice(t){let e=[],n=0,r=-1,i=0;for(let o of this.children){let s=n+o.length;s>t&&e.push(n<t?o.slice(t-n):o),r<0&&n>=t&&(r=i),n=s,i++}let o=this.length-t;return this.length=t,r>-1&&this.replaceChildren(r,this.children.length),new Ga(this.mark,e,o)}domAtPos(t){return el(this.dom,this.children,t)}coordsAt(t,e){return rl(this,t,e)}}function Xa(t,e,n){let r=t.nodeValue.length;e>r&&(e=r);let i=e,o=e,s=0;0==e&&n<0||e==r&&n>=0?Wa.chrome||Wa.gecko||(e?(i--,s=1):(o++,s=-1)):n<0?i--:o++;let a=Ca(t,i,o).getClientRects();if(!a.length)return ba;let l=a[(s?s<0:n>=0)?0:a.length-1];return Wa.safari&&!s&&0==l.width&&(l=Array.prototype.find.call(a,(t=>t.width))||l),s?wa(l,s<0):l||null}class Ja extends Ka{constructor(t,e,n){super(),this.widget=t,this.length=e,this.side=n}static create(t,e,n){return new(t.customView||Ja)(t,e,n)}slice(t){let e=Ja.create(this.widget,this.length-t,this.side);return this.length-=t,e}sync(){this.dom&&this.widget.updateDOM(this.dom)||(this.setDOM(this.widget.toDOM(this.editorView)),this.dom.contentEditable="false")}getSide(){return this.side}merge(t,e,n,r,i){return!(n&&(!(n instanceof Ja&&this.widget.compare(n.widget))||t>0&&r<=0||e<this.length&&i<=0)||(this.length=t+(n?n.length:0)+(this.length-e),0))}become(t){return t.length==this.length&&t instanceof Ja&&t.side==this.side&&this.widget.constructor==t.widget.constructor&&(this.widget.eq(t.widget)||this.markDirty(!0),this.widget=t.widget,!0)}ignoreMutation(){return!0}ignoreEvent(t){return this.widget.ignoreEvent(t)}get overrideDOMText(){if(0==this.length)return Eo.empty;let t=this;for(;t.parent;)t=t.parent;let e=t.editorView,n=e&&e.state.doc,r=this.posAtStart;return n?n.slice(r,r+this.length):Eo.empty}domAtPos(t){return 0==t?Pa.before(this.dom):Pa.after(this.dom,t==this.length)}domBoundsAround(){return null}coordsAt(t,e){let n=this.dom.getClientRects(),r=null;if(!n.length)return ba;for(let e=t>0?n.length-1:0;r=n[e],!(t>0?0==e:e==n.length-1||r.top<r.bottom);e+=t>0?-1:1);return 0==t&&e>0||t==this.length&&e<=0?r:wa(r,0==t)}get isEditable(){return!1}}class Ya extends Ja{domAtPos(t){return new Pa(this.widget.text,t)}sync(){this.dom||this.setDOM(this.widget.toDOM())}localPosFromDOM(t,e){return e?3==t.nodeType?Math.min(e,this.length):this.length:0}ignoreMutation(){return!1}get overrideDOMText(){return null}coordsAt(t,e){return Xa(this.widget.text,t,e)}get isEditable(){return!0}}class Za extends Ka{constructor(t){super(),this.side=t}get length(){return 0}merge(){return!1}become(t){return t instanceof Za&&t.side==this.side}slice(){return new Za(this.side)}sync(){this.dom?this.dirty&&"​"!=this.dom.nodeValue&&(this.dom.nodeValue="​"):this.setDOM(document.createTextNode("​"))}getSide(){return this.side}domAtPos(t){return Pa.before(this.dom)}domBoundsAround(){return null}coordsAt(t){let e=ga(this.dom);return e[e.length-1]||null}get overrideDOMText(){return Eo.of([this.dom.nodeValue.replace(/\u200b/g,"")])}}function tl(t,e,n,r,i,o){let s=t.childCursor(),{i:a,off:l}=s.findPos(n,1),{i:u,off:c}=s.findPos(e,-1),h=e-n;for(let t of r)h+=t.length;t.length+=h;let{children:f}=t;if(u==a&&c){let t=f[u];if(1==r.length&&t.merge(c,l,r[0],i,o))return;if(0==r.length)return void t.merge(c,l,null,i,o);let e=t.slice(l);e.merge(0,0,r[r.length-1],0,o)?r[r.length-1]=e:r.push(e),a++,o=l=0}if(l){let t=f[a];r.length&&t.merge(0,l,r[r.length-1],0,o)?(r.pop(),o=r.length?0:i):t.merge(0,l,null,0,0)}else a<f.length&&r.length&&f[a].merge(0,0,r[r.length-1],0,o)&&(r.pop(),o=r.length?0:i);if(c){let t=f[u];r.length&&t.merge(c,t.length,r[0],i,0)?(r.shift(),i=r.length?0:o):t.merge(c,t.length,null,0,0),u++}else if(u&&r.length){let t=f[u-1];t.merge(t.length,t.length,r[0],i,0)&&(r.shift(),i=r.length?0:o)}for(;u<a&&r.length&&f[a-1].become(r[r.length-1]);)r.pop(),a--,o=r.length?0:i;for(;u<a&&r.length&&f[u].become(r[0]);)r.shift(),u++,i=r.length?0:o;!r.length&&u&&a<f.length&&f[a].merge(0,0,f[u-1],i,o)&&u--,(r.length||u!=a)&&t.replaceChildren(u,a,r)}function el(t,e,n){let r=0;for(let i=0;r<e.length;r++){let o=e[r],s=i+o.length;if(!(s==i&&o.getSide()<=0)){if(n>i&&n<s&&o.dom.parentNode==t)return o.domAtPos(n-i);if(n<=i)break;i=s}}for(;r>0;r--){let n=e[r-1].dom;if(n.parentNode==t)return Pa.after(n)}return new Pa(t,0)}function nl(t,e,n){let r,{children:i}=t;n>0&&e instanceof Ga&&i.length&&(r=i[i.length-1])instanceof Ga&&r.mark.eq(e.mark)?nl(r,e.children[0],n-1):(i.push(e),e.setParent(t)),t.length+=e.length}function rl(t,e,n){for(let r=0,i=0;i<t.children.length;i++){let o,s=t.children[i],a=r+s.length;if((n<=0||a==t.length||s.getSide()>0?a>=e:a>e)&&(e<a||i+1==t.children.length||(o=t.children[i+1]).length||o.getSide()>0)){let t=0;if(a==r){if(s.getSide()<=0)continue;t=n=-s.getSide()}let i=s.coordsAt(e-r,n);return t&&i?wa(i,n<0):i}r=a}let r=t.dom.lastChild;if(!r)return t.dom.getBoundingClientRect();let i=ga(r);return i[i.length-1]||null}function il(t,e){for(let n in t)"class"==n&&e.class?e.class+=" "+t.class:"style"==n&&e.style?e.style+=";"+t.style:e[n]=t[n];return e}function ol(t,e){if(t==e)return!0;if(!t||!e)return!1;let n=Object.keys(t),r=Object.keys(e);if(n.length!=r.length)return!1;for(let i of n)if(-1==r.indexOf(i)||t[i]!==e[i])return!1;return!0}function sl(t,e,n){if(e)for(let r in e)n&&r in n||t.removeAttribute(r);if(n)for(let r in n)e&&e[r]==n[r]||t.setAttribute(r,n[r])}class al{eq(t){return!1}updateDOM(t){return!1}compare(t){return this==t||this.constructor==t.constructor&&this.eq(t)}get estimatedHeight(){return-1}ignoreEvent(t){return!0}get customView(){return null}}var ll=function(t){return t[t.Text=0]="Text",t[t.WidgetBefore=1]="WidgetBefore",t[t.WidgetAfter=2]="WidgetAfter",t[t.WidgetRange=3]="WidgetRange",t}(ll||(ll={}));class ul extends Fs{constructor(t,e,n,r){super(),this.startSide=t,this.endSide=e,this.widget=n,this.spec=r}get heightRelevant(){return!1}static mark(t){return new cl(t)}static widget(t){let e=t.side||0;return new fl(t,e,e,!!t.block,t.widget||null,!1)}static replace(t){let e=!!t.block,{start:n,end:r}=pl(t,e);return new fl(t,1e8*(n?-1:1)*(e?2:1),1e8*(r?1:-1)*(e?2:1),e,t.widget||null,!0)}static line(t){return new hl(t)}static set(t,e=!1){return Hs.of(t,e)}hasHeight(){return!!this.widget&&this.widget.estimatedHeight>-1}}ul.none=Hs.empty;class cl extends ul{constructor(t){let{start:e,end:n}=pl(t);super(1e8*(e?-1:1),1e8*(n?1:-1),null,t),this.tagName=t.tagName||"span",this.class=t.class||"",this.attrs=t.attributes||null}eq(t){return this==t||t instanceof cl&&this.tagName==t.tagName&&this.class==t.class&&ol(this.attrs,t.attrs)}range(t,e=t){if(t>=e)throw new RangeError("Mark decorations may not be empty");return super.range(t,e)}}cl.prototype.point=!1;class hl extends ul{constructor(t){super(-1e8,-1e8,null,t)}eq(t){return t instanceof hl&&ol(this.spec.attributes,t.spec.attributes)}range(t,e=t){if(e!=t)throw new RangeError("Line decoration ranges must be zero-length");return super.range(t,e)}}hl.prototype.mapMode=Lo.TrackBefore,hl.prototype.point=!0;class fl extends ul{constructor(t,e,n,r,i,o){super(e,n,i,t),this.block=r,this.isReplace=o,this.mapMode=r?e<0?Lo.TrackBefore:Lo.TrackAfter:Lo.TrackDel}get type(){return this.startSide<this.endSide?ll.WidgetRange:this.startSide<0?ll.WidgetBefore:ll.WidgetAfter}get heightRelevant(){return this.block||!!this.widget&&this.widget.estimatedHeight>=5}eq(t){return t instanceof fl&&function(t,e){return t==e||!!(t&&e&&t.compare(e))}(this.widget,t.widget)&&this.block==t.block&&this.startSide==t.startSide&&this.endSide==t.endSide}range(t,e=t){if(this.isReplace&&(t>e||t==e&&this.startSide>0&&this.endSide<0))throw new RangeError("Invalid range for replacement decoration");if(!this.isReplace&&e!=t)throw new RangeError("Widget decorations can only have zero-length ranges");return super.range(t,e)}}function pl(t,e=!1){let{inclusiveStart:n,inclusiveEnd:r}=t;return null==n&&(n=t.inclusive),null==r&&(r=t.inclusive),{start:null!=n?n:e,end:null!=r?r:e}}function dl(t,e,n,r=0){let i=n.length-1;i>=0&&n[i]+r>t?n[i]=Math.max(n[i],e):n.push(t,e)}fl.prototype.point=!0;class gl extends Ma{constructor(){super(...arguments),this.children=[],this.length=0,this.prevAttrs=void 0,this.attrs=null,this.breakAfter=0}merge(t,e,n,r,i,o){if(n){if(!(n instanceof gl))return!1;this.dom||n.transferDOM(this)}return r&&this.setDeco(n?n.attrs:null),tl(this,t,e,n?n.children:ml,i,o),!0}split(t){let e=new gl;if(e.breakAfter=this.breakAfter,0==this.length)return e;let{i:n,off:r}=this.childPos(t);r&&(e.append(this.children[n].slice(r),0),this.children[n].merge(r,this.children[n].length,null,0,0),n++);for(let t=n;t<this.children.length;t++)e.append(this.children[t],0);for(;n>0&&0==this.children[n-1].length;)this.children[n-1].parent=null,n--;return this.children.length=n,this.markDirty(),this.length=t,e}transferDOM(t){this.dom&&(t.setDOM(this.dom),t.prevAttrs=void 0===this.prevAttrs?this.attrs:this.prevAttrs,this.prevAttrs=void 0,this.dom=null)}setDeco(t){ol(this.attrs,t)||(this.dom&&(this.prevAttrs=this.attrs,this.markDirty()),this.attrs=t)}append(t,e){nl(this,t,e)}addLineDeco(t){let e=t.spec.attributes,n=t.spec.class;e&&(this.attrs=il(e,this.attrs||{})),n&&(this.attrs=il(e,{class:n}))}domAtPos(t){return el(this.dom,this.children,t)}sync(t){var e;(!this.dom||4&this.dirty)&&(this.setDOM(document.createElement("div")),this.dom.className="cm-line",this.prevAttrs=this.attrs?null:void 0),void 0!==this.prevAttrs&&(sl(this.dom,this.prevAttrs,this.attrs),this.dom.classList.add("cm-line"),this.prevAttrs=void 0),super.sync(t);let n=this.dom.lastChild;for(;n&&Ma.get(n)instanceof Ga;)n=n.lastChild;if(!n||"BR"!=n.nodeName&&0==(null===(e=Ma.get(n))||void 0===e?void 0:e.isEditable)&&(!Wa.ios||!this.children.some((t=>t instanceof Qa)))){let t=document.createElement("BR");t.cmIgnore=!0,this.dom.appendChild(t)}}measureTextSize(){if(0==this.children.length||this.length>20)return null;let t=0;for(let e of this.children){if(!(e instanceof Qa))return null;let n=ga(e.dom);if(1!=n.length)return null;t+=n[0].width}return{lineHeight:this.dom.getBoundingClientRect().height,charWidth:t/this.length}}coordsAt(t,e){return rl(this,t,e)}match(t){return!1}get type(){return ll.Text}static find(t,e){for(let n=0,r=0;;n++){let i=t.children[n],o=r+i.length;if(o>=e){if(i instanceof gl)return i;if(i.length)return null}r=o+i.breakAfter}}}const ml=[];class _l extends Ma{constructor(t,e,n){super(),this.widget=t,this.length=e,this.type=n,this.breakAfter=0}merge(t,e,n,r,i,o){return!(n&&(!(n instanceof _l&&this.widget.compare(n.widget))||t>0&&i<=0||e<this.length&&o<=0)||(this.length=t+(n?n.length:0)+(this.length-e),0))}domAtPos(t){return 0==t?Pa.before(this.dom):Pa.after(this.dom,t==this.length)}split(t){let e=this.length-t;this.length=t;let n=new _l(this.widget,e,this.type);return n.breakAfter=this.breakAfter,n}get children(){return ml}sync(){this.dom&&this.widget.updateDOM(this.dom)||(this.setDOM(this.widget.toDOM(this.editorView)),this.dom.contentEditable="false")}get overrideDOMText(){return this.parent?this.parent.view.state.doc.slice(this.posAtStart,this.posAtEnd):Eo.empty}domBoundsAround(){return null}match(t){return t instanceof _l&&t.type==this.type&&t.widget.constructor==this.widget.constructor&&(t.widget.eq(this.widget)||this.markDirty(!0),this.widget=t.widget,this.length=t.length,this.breakAfter=t.breakAfter,!0)}ignoreMutation(){return!0}ignoreEvent(t){return this.widget.ignoreEvent(t)}}class yl{constructor(t,e,n){this.doc=t,this.pos=e,this.end=n,this.content=[],this.curLine=null,this.breakAtStart=0,this.pendingBuffer=0,this.atCursorPos=!0,this.openStart=-1,this.openEnd=-1,this.text="",this.textOff=0,this.cursor=t.iter(),this.skip=e}posCovered(){if(0==this.content.length)return!this.breakAtStart&&this.doc.lineAt(this.pos).from!=this.pos;let t=this.content[this.content.length-1];return!(t.breakAfter||t instanceof _l&&t.type==ll.WidgetBefore)}getLine(){return this.curLine||(this.content.push(this.curLine=new gl),this.atCursorPos=!0),this.curLine}flushBuffer(t){this.pendingBuffer&&(this.curLine.append(vl(new Za(-1),t),t.length),this.pendingBuffer=0)}addBlockWidget(t){this.flushBuffer([]),this.curLine=null,this.content.push(t)}finish(t){t?this.pendingBuffer=0:this.flushBuffer([]),this.posCovered()||this.getLine()}buildText(t,e,n){for(;t>0;){if(this.textOff==this.text.length){let{value:e,lineBreak:n,done:r}=this.cursor.next(this.skip);if(this.skip=0,r)throw new Error("Ran out of text content when drawing inline views");if(n){this.posCovered()||this.getLine(),this.content.length?this.content[this.content.length-1].breakAfter=1:this.breakAtStart=1,this.flushBuffer([]),this.curLine=null,t--;continue}this.text=e,this.textOff=0}let r=Math.min(this.text.length-this.textOff,t,512);this.flushBuffer(e),this.getLine().append(vl(new Qa(this.text.slice(this.textOff,this.textOff+r)),e),n),this.atCursorPos=!0,this.textOff+=r,t-=r,n=0}}span(t,e,n,r){this.buildText(e-t,n,r),this.pos=e,this.openStart<0&&(this.openStart=r)}point(t,e,n,r,i){let o=e-t;if(n instanceof fl)if(n.block){let{type:t}=n;t!=ll.WidgetAfter||this.posCovered()||this.getLine(),this.addBlockWidget(new _l(n.widget||new bl("div"),o,t))}else{let s=Ja.create(n.widget||new bl("span"),o,n.startSide),a=this.atCursorPos&&!s.isEditable&&i<=r.length&&(t<e||n.startSide>0),l=!s.isEditable&&(t<e||n.startSide<=0),u=this.getLine();2!=this.pendingBuffer||a||(this.pendingBuffer=0),this.flushBuffer(r),a&&(u.append(vl(new Za(1),r),i),i=r.length+Math.max(0,i-r.length)),u.append(vl(s,r),i),this.atCursorPos=l,this.pendingBuffer=l?t<e?1:2:0}else this.doc.lineAt(this.pos).from==this.pos&&this.getLine().addLineDeco(n);o&&(this.textOff+o<=this.text.length?this.textOff+=o:(this.skip+=o-(this.text.length-this.textOff),this.text="",this.textOff=0),this.pos=e),this.openStart<0&&(this.openStart=i)}static build(t,e,n,r){let i=new yl(t,e,n);return i.openEnd=Hs.spans(r,e,n,i),i.openStart<0&&(i.openStart=i.openEnd),i.finish(i.openEnd),i}}function vl(t,e){for(let n of e)t=new Ga(n,[t],t.length);return t}class bl extends al{constructor(t){super(),this.tag=t}eq(t){return t.tag==this.tag}toDOM(){return document.createElement(this.tag)}updateDOM(t){return t.nodeName.toLowerCase()==this.tag}}const wl=[],xl=Xo.define(),kl=Xo.define(),Sl=Xo.define(),Ol=Xo.define(),El=Xo.define(),Cl=Xo.define(),Al=ws.define({map:(t,e)=>t.map(e)}),Pl=ws.define({map:(t,e)=>t.map(e)});function Tl(t,e,n){let r=t.facet(Ol);r.length?r[0](e):window.onerror?window.onerror(String(e),n,void 0,void 0,e):n?console.error(n+":",e):console.error(e)}const Ml=Xo.define({combine:t=>!t.length||t[0]});class Rl{constructor(t,e){this.field=t,this.get=e}}class Nl{from(t){return new Rl(this,t)}static define(){return new Nl}}Nl.decorations=Nl.define(),Nl.atomicRanges=Nl.define(),Nl.scrollMargins=Nl.define();let Dl=0;const jl=Xo.define();class Ll{constructor(t,e,n){this.id=t,this.create=e,this.fields=n,this.extension=jl.of(this)}static define(t,e){let{eventHandlers:n,provide:r,decorations:i}=e||{},o=[];if(r)for(let t of Array.isArray(r)?r:[r])o.push(t);return n&&o.push(Il.from((t=>({plugin:t,handlers:n})))),i&&o.push(Nl.decorations.from(i)),new Ll(Dl++,t,o)}static fromClass(t,e){return Ll.define((e=>new t(e)),e)}}const Il=Nl.define();class Bl{constructor(t){this.spec=t,this.mustUpdate=null,this.value=null}takeField(t,e){for(let{field:n,get:r}of this.spec.fields)n==t&&e.push(r(this.value))}update(t){if(this.value){if(this.mustUpdate){let t=this.mustUpdate;if(this.mustUpdate=null,!this.value.update)return this;try{this.value.update(t)}catch(e){if(Tl(t.state,e,"CodeMirror plugin crashed"),this.value.destroy)try{this.value.destroy()}catch(t){}return Bl.dummy}}}else try{this.value=this.spec.create(t)}catch(e){return Tl(t.state,e,"CodeMirror plugin crashed"),Bl.dummy}return this}destroy(t){var e;if(null===(e=this.value)||void 0===e?void 0:e.destroy)try{this.value.destroy()}catch(e){Tl(t.state,e,"CodeMirror plugin crashed")}}}function zl(t){let e={};for(let n=t.length-1;n>=0;n--)il(t[n],e);return e}Bl.dummy=new Bl(Ll.define((()=>({}))));const Fl=Xo.define({combine:zl}),Vl=Xo.define({combine:zl}),Ul=Xo.define(),ql=Xo.define();class Hl{constructor(t,e,n,r){this.fromA=t,this.toA=e,this.fromB=n,this.toB=r}join(t){return new Hl(Math.min(this.fromA,t.fromA),Math.max(this.toA,t.toA),Math.min(this.fromB,t.fromB),Math.max(this.toB,t.toB))}addToSet(t){let e=t.length,n=this;for(;e>0;e--){let r=t[e-1];if(!(r.fromA>n.toA)){if(r.toA<n.fromA)break;n=n.join(r),t.splice(e-1,1)}}return t.splice(e,0,n),t}static extendWithRanges(t,e){if(0==e.length)return t;let n=[];for(let r=0,i=0,o=0,s=0;;r++){let a=r==t.length?null:t[r],l=o-s,u=a?a.fromB:1e9;for(;i<e.length&&e[i]<u;){let t=e[i],r=e[i+1],o=Math.max(s,t),a=Math.min(u,r);if(o<=a&&new Hl(o+l,a+l,o,a).addToSet(n),r>u)break;i+=2}if(!a)return n;new Hl(a.fromA,a.toA,a.fromB,a.toB).addToSet(n),o=a.toA,s=a.toB}}}class Wl{constructor(t,e,n=wl){this.view=t,this.state=e,this.transactions=n,this.flags=0,this.startState=t.state,this.changes=Bo.empty(this.startState.doc.length);for(let t of n)this.changes=this.changes.compose(t.changes);let r=[];this.changes.iterChangedRanges(((t,e,n,i)=>r.push(new Hl(t,e,n,i)))),this.changedRanges=r;let i=t.hasFocus;i!=t.inputState.notifiedFocused&&(t.inputState.notifiedFocused=i,this.flags|=1),this.docChanged&&(this.flags|=2)}get viewportChanged(){return(4&this.flags)>0}get heightChanged(){return(2&this.flags)>0}get geometryChanged(){return this.docChanged||(10&this.flags)>0}get focusChanged(){return(1&this.flags)>0}get docChanged(){return this.transactions.some((t=>t.docChanged))}get selectionSet(){return this.transactions.some((t=>t.selection))}get empty(){return 0==this.flags&&0==this.transactions.length}}class $l extends Ma{constructor(t){super(),this.view=t,this.compositionDeco=ul.none,this.decorations=[],this.minWidth=0,this.minWidthFrom=0,this.minWidthTo=0,this.impreciseAnchor=null,this.impreciseHead=null,this.forceSelection=!1,this.lastUpdate=Date.now(),this.setDOM(t.contentDOM),this.children=[new gl],this.children[0].setParent(this),this.updateInner([new Hl(0,0,0,t.state.doc.length)],this.updateDeco(),0)}get root(){return this.view.root}get editorView(){return this.view}get length(){return this.view.state.doc.length}update(t){let e=t.changedRanges;this.minWidth>0&&e.length&&(e.every((({fromA:t,toA:e})=>e<this.minWidthFrom||t>this.minWidthTo))?(this.minWidthFrom=t.changes.mapPos(this.minWidthFrom,1),this.minWidthTo=t.changes.mapPos(this.minWidthTo,1)):this.minWidth=0),this.view.inputState.composing<0?this.compositionDeco=ul.none:t.transactions.length&&(this.compositionDeco=function(t,e){let n=t.observer.selectionRange,r=n.focusNode&&Gl(n.focusNode,n.focusOffset,0);if(!r)return ul.none;let i,o,s=t.docView.nearest(r),a=r;if(s instanceof Ka){for(;s.parent instanceof Ka;)s=s.parent;i=s.posAtStart,o=i+s.length,a=s.dom}else{if(!(s instanceof gl))return ul.none;{for(;a.parentNode!=s.dom;)a=a.parentNode;let t=a.previousSibling;for(;t&&!Ma.get(t);)t=t.previousSibling;i=o=t?Ma.get(t).posAtEnd:s.posAtStart}}let l=e.mapPos(i,1),u=Math.max(l,e.mapPos(o,-1)),c=r.nodeValue,{state:h}=t;if(u-l<c.length)if(h.sliceDoc(l,Math.min(h.doc.length,l+c.length))==c)u=l+c.length;else{if(h.sliceDoc(Math.max(0,u-c.length),u)!=c)return ul.none;l=u-c.length}else if(h.sliceDoc(l,u)!=c)return ul.none;return ul.set(ul.replace({widget:new Ql(a,r)}).range(l,u))}(this.view,t.changes)),(Wa.ie||Wa.chrome)&&!this.compositionDeco.size&&t&&t.state.doc.lines!=t.startState.doc.lines&&(this.forceSelection=!0);let n=this.decorations,r=this.updateDeco(),i=function(t,e,n){let r=new Xl;return Hs.compare(t,e,n,r),r.changes}(n,r,t.changes);return e=Hl.extendWithRanges(e,i),!(0==this.dirty&&0==e.length&&!(4&t.flags)&&t.state.selection.main.from>=this.view.viewport.from&&t.state.selection.main.to<=this.view.viewport.to||(this.updateInner(e,r,t.startState.doc.length),t.transactions.length&&(this.lastUpdate=Date.now()),0))}reset(t){this.dirty?(this.view.observer.ignore((()=>this.view.docView.sync())),this.dirty=0,this.updateSelection(!0)):this.updateSelection()}updateInner(t,e,n){this.updateChildren(t,e,n);let{observer:r}=this.view;r.ignore((()=>{this.dom.style.height=this.view.viewState.domHeight+"px",this.dom.style.minWidth=this.minWidth?this.minWidth+"px":"";let t=Wa.chrome||Wa.ios?{node:r.selectionRange.focusNode,written:!1}:void 0;this.sync(t),this.dirty=0,t&&(t.written||r.selectionRange.focusNode!=t.node)&&(this.forceSelection=!0),this.dom.style.height=""}));let i=[];if(this.view.viewport.from||this.view.viewport.to<this.view.state.doc.length)for(let t of this.children)t instanceof _l&&t.widget instanceof Kl&&i.push(t.dom);r.updateGaps(i)}updateChildren(t,e,n){let r=this.childCursor(n);for(let n=t.length-1;;n--){let i=n>=0?t[n]:null;if(!i)break;let{fromA:o,toA:s,fromB:a,toB:l}=i,{content:u,breakAtStart:c,openStart:h,openEnd:f}=yl.build(this.view.state.doc,a,l,e),{i:p,off:d}=r.findPos(s,1),{i:g,off:m}=r.findPos(o,-1);this.replaceRange(g,m,p,d,u,c,h,f)}}replaceRange(t,e,n,r,i,o,s,a){let l=this.children[t],u=i.length?i[i.length-1]:null,c=u?u.breakAfter:o;if(t==n&&!o&&!c&&i.length<2&&l.merge(e,r,i.length?u:null,0==e,s,a))return;let h=this.children[n];for(r<h.length?(t==n&&(h=h.split(r),r=0),!c&&u&&h.merge(0,r,u,!0,0,a)?i[i.length-1]=h:(r&&h.merge(0,r,null,!1,0,a),i.push(h))):h.breakAfter&&(u?u.breakAfter=1:o=1),n++,l.breakAfter=o,e>0&&(!o&&i.length&&l.merge(e,l.length,i[0],!1,s,0)?l.breakAfter=i.shift().breakAfter:(e<l.length||l.children.length&&0==l.children[l.children.length-1].length)&&l.merge(e,l.length,null,!1,s,0),t++);t<n&&i.length;)if(this.children[n-1].match(i[i.length-1]))n--,i.pop();else{if(!this.children[t].match(i[0]))break;t++,i.shift()}(t<n||i.length)&&this.replaceChildren(t,n,i)}updateSelection(t=!1,e=!1){if(t&&this.view.observer.readSelectionRange(),!e&&!this.mayControlSelection()||Wa.ios&&this.view.inputState.rapidCompositionStart)return;let n=this.forceSelection;this.forceSelection=!1;let r=this.view.state.selection.main,i=this.domAtPos(r.anchor),o=r.empty?i:this.domAtPos(r.head);if(Wa.gecko&&r.empty&&1==(s=i).node.nodeType&&s.node.firstChild&&(0==s.offset||"false"==s.node.childNodes[s.offset-1].contentEditable)&&(s.offset==s.node.childNodes.length||"false"==s.node.childNodes[s.offset].contentEditable)){let t=document.createTextNode("");this.view.observer.ignore((()=>i.node.insertBefore(t,i.node.childNodes[i.offset]||null))),i=o=new Pa(t,0),n=!0}var s;let a=this.view.observer.selectionRange;!n&&a.focusNode&&ma(i.node,i.offset,a.anchorNode,a.anchorOffset)&&ma(o.node,o.offset,a.focusNode,a.focusOffset)||(this.view.observer.ignore((()=>{Wa.android&&Wa.chrome&&this.dom.contains(a.focusNode)&&function(t,e){for(let n=t;n&&n!=e;n=n.assignedSlot||n.parentNode)if(1==n.nodeType&&"false"==n.contentEditable)return!0;return!1}(a.focusNode,this.dom)&&(this.dom.blur(),this.dom.focus({preventScroll:!0}));let t=fa(this.root);if(r.empty){if(Wa.gecko){let t=(e=i.node,n=i.offset,1!=e.nodeType?0:(n&&"false"==e.childNodes[n-1].contentEditable?1:0)|(n<e.childNodes.length&&"false"==e.childNodes[n].contentEditable?2:0));if(t&&3!=t){let e=Gl(i.node,i.offset,1==t?1:-1);e&&(i=new Pa(e,1==t?0:e.nodeValue.length))}}t.collapse(i.node,i.offset),null!=r.bidiLevel&&null!=a.cursorBidiLevel&&(a.cursorBidiLevel=r.bidiLevel)}else if(t.extend)t.collapse(i.node,i.offset),t.extend(o.node,o.offset);else{let e=document.createRange();r.anchor>r.head&&([i,o]=[o,i]),e.setEnd(o.node,o.offset),e.setStart(i.node,i.offset),t.removeAllRanges(),t.addRange(e)}var e,n})),this.view.observer.setSelectionRange(i,o)),this.impreciseAnchor=i.precise?null:new Pa(a.anchorNode,a.anchorOffset),this.impreciseHead=o.precise?null:new Pa(a.focusNode,a.focusOffset)}enforceCursorAssoc(){if(this.view.composing)return;let t=this.view.state.selection.main,e=fa(this.root);if(!t.empty||!t.assoc||!e.modify)return;let n=gl.find(this,t.head);if(!n)return;let r=n.posAtStart;if(t.head==r||t.head==r+n.length)return;let i=this.coordsAt(t.head,-1),o=this.coordsAt(t.head,1);if(!i||!o||i.bottom>o.top)return;let s=this.domAtPos(t.head+t.assoc);e.collapse(s.node,s.offset),e.modify("move",t.assoc<0?"forward":"backward","lineboundary")}mayControlSelection(){return this.view.state.facet(Ml)?this.root.activeElement==this.dom:da(this.dom,this.view.observer.selectionRange)}nearest(t){for(let e=t;e;){let t=Ma.get(e);if(t&&t.rootView==this)return t;e=e.parentNode}return null}posFromDOM(t,e){let n=this.nearest(t);if(!n)throw new RangeError("Trying to find position for a DOM position outside of the document");return n.localPosFromDOM(t,e)+n.posAtStart}domAtPos(t){let{i:e,off:n}=this.childCursor().findPos(t,-1);for(;e<this.children.length-1;){let t=this.children[e];if(n<t.length||t instanceof gl)break;e++,n=0}return this.children[e].domAtPos(n)}coordsAt(t,e){for(let n=this.length,r=this.children.length-1;;r--){let i=this.children[r],o=n-i.breakAfter-i.length;if(t>o||t==o&&i.type!=ll.WidgetBefore&&i.type!=ll.WidgetAfter&&(!r||2==e||this.children[r-1].breakAfter||this.children[r-1].type==ll.WidgetBefore&&e>-2))return i.coordsAt(t-o,e);n=o}}measureVisibleLineHeights(){let t=[],{from:e,to:n}=this.view.viewState.viewport,r=Math.max(this.view.scrollDOM.clientWidth,this.minWidth)+1;for(let i=0,o=0;o<this.children.length;o++){let s=this.children[o],a=i+s.length;if(a>n)break;if(i>=e){t.push(s.dom.getBoundingClientRect().height);let e=s.dom.scrollWidth;e>r&&(this.minWidth=r=e,this.minWidthFrom=i,this.minWidthTo=a)}i=a+s.breakAfter}return t}measureTextSize(){for(let t of this.children)if(t instanceof gl){let e=t.measureTextSize();if(e)return e}let t,e,n=document.createElement("div");return n.className="cm-line",n.textContent="abc def ghi jkl mno pqr stu",this.view.observer.ignore((()=>{this.dom.appendChild(n);let r=ga(n.firstChild)[0];t=n.getBoundingClientRect().height,e=r?r.width/27:7,n.remove()})),{lineHeight:t,charWidth:e}}childCursor(t=this.length){let e=this.children.length;return e&&(t-=this.children[--e].length),new Na(this.children,t,e)}computeBlockGapDeco(){let t=[],e=this.view.viewState;for(let n=0,r=0;;r++){let i=r==e.viewports.length?null:e.viewports[r],o=i?i.from-1:this.length;if(o>n){let r=e.lineAt(o,0).bottom-e.lineAt(n,0).top;t.push(ul.replace({widget:new Kl(r),block:!0,inclusive:!0}).range(n,o))}if(!i)break;n=i.to+1}return ul.set(t)}updateDeco(){return this.decorations=[...this.view.pluginField(Nl.decorations),...this.view.state.facet(Ul),this.compositionDeco,this.computeBlockGapDeco(),this.view.viewState.lineGapDeco]}scrollIntoView({range:t,center:e}){let n,r=this.coordsAt(t.head,t.empty?t.assoc:t.head>t.anchor?-1:1);if(!r)return;!t.empty&&(n=this.coordsAt(t.anchor,t.anchor>t.head?-1:1))&&(r={left:Math.min(r.left,n.left),top:Math.min(r.top,n.top),right:Math.max(r.right,n.right),bottom:Math.max(r.bottom,n.bottom)});let i=0,o=0,s=0,a=0;for(let t of this.view.pluginField(Nl.scrollMargins))if(t){let{left:e,right:n,top:r,bottom:l}=t;null!=e&&(i=Math.max(i,e)),null!=n&&(o=Math.max(o,n)),null!=r&&(s=Math.max(s,r)),null!=l&&(a=Math.max(a,l))}!function(t,e,n,r){let i=t.ownerDocument,o=i.defaultView;for(let s=t;s;)if(1==s.nodeType){let t,a=s==i.body;if(a)t=xa(o);else{if(s.scrollHeight<=s.clientHeight&&s.scrollWidth<=s.clientWidth){s=s.parentNode;continue}let e=s.getBoundingClientRect();t={left:e.left,right:e.left+s.clientWidth,top:e.top,bottom:e.top+s.clientHeight}}let l=0,u=0;if(r){let r,i=e.bottom-e.top,o=t.bottom-t.top;r=i<=o?e.top+i/2-o/2:n<0?e.top-5:e.bottom+5-o,u=r-t.top,Math.abs(u)<=1&&(u=0)}else e.top<t.top?(u=-(t.top-e.top+5),n>0&&e.bottom>t.bottom+u&&(u=e.bottom-t.bottom+u+5)):e.bottom>t.bottom&&(u=e.bottom-t.bottom+5,n<0&&e.top-u<t.top&&(u=-(t.top+u-e.top+5)));if(e.left<t.left?(l=-(t.left-e.left+5),n>0&&e.right>t.right+l&&(l=e.right-t.right+l+5)):e.right>t.right&&(l=e.right-t.right+5,n<0&&e.left<t.left+l&&(l=-(t.left+l-e.left+5))),l||u)if(a)o.scrollBy(l,u);else{if(u){let t=s.scrollTop;s.scrollTop+=u,u=s.scrollTop-t}if(l){let t=s.scrollLeft;s.scrollLeft+=l,l=s.scrollLeft-t}e={left:e.left-l,top:e.top-u,right:e.right-l,bottom:e.bottom-u}}if(a)break;s=s.assignedSlot||s.parentNode,r=!1}else{if(11!=s.nodeType)break;s=s.host}}(this.view.scrollDOM,{left:r.left-i,top:r.top-s,right:r.right+o,bottom:r.bottom+a},t.head<t.anchor?-1:1,e)}}class Kl extends al{constructor(t){super(),this.height=t}toDOM(){let t=document.createElement("div");return this.updateDOM(t),t}eq(t){return t.height==this.height}updateDOM(t){return t.style.height=this.height+"px",!0}get estimatedHeight(){return this.height}}class Ql extends al{constructor(t,e){super(),this.top=t,this.text=e}eq(t){return this.top==t.top&&this.text==t.text}toDOM(){return this.top}ignoreEvent(){return!1}get customView(){return Ya}}function Gl(t,e,n){for(;;){if(3==t.nodeType)return t;if(1==t.nodeType&&e>0&&n<=0)e=va(t=t.childNodes[e-1]);else{if(!(1==t.nodeType&&e<t.childNodes.length&&n>=0))return null;t=t.childNodes[e],e=0}}}class Xl{constructor(){this.changes=[]}compareRange(t,e){dl(t,e,this.changes)}comparePoint(t,e){dl(t,e,this.changes)}}var Jl=function(t){return t[t.LTR=0]="LTR",t[t.RTL=1]="RTL",t}(Jl||(Jl={}));const Yl=Jl.LTR,Zl=Jl.RTL;function tu(t){let e=[];for(let n=0;n<t.length;n++)e.push(1<<+t[n]);return e}const eu=tu("88888888888888888888888888888888888666888888787833333333337888888000000000000000000000000008888880000000000000000000000000088888888888888888888888888888888888887866668888088888663380888308888800000000000000000000000800000000000000000000000000000008"),nu=tu("4444448826627288999999999992222222222222222222222222222222222222222222222229999999999999999999994444444444644222822222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222999999949999999229989999223333333333"),ru=Object.create(null),iu=[];for(let t of["()","[]","{}"]){let e=t.charCodeAt(0),n=t.charCodeAt(1);ru[e]=n,ru[n]=-e}const ou=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;class su{constructor(t,e,n){this.from=t,this.to=e,this.level=n}get dir(){return this.level%2?Zl:Yl}side(t,e){return this.dir==e==t?this.to:this.from}static find(t,e,n,r){let i=-1;for(let o=0;o<t.length;o++){let s=t[o];if(s.from<=e&&s.to>=e){if(s.level==n)return o;(i<0||(0!=r?r<0?s.from<e:s.to>e:t[i].level>s.level))&&(i=o)}}if(i<0)throw new RangeError("Index out of range");return i}}const au=[];function lu(t){return[new su(0,t,0)]}let uu="";function cu(t,e,n,r,i){var o;let s=r.head-t.from,a=-1;if(0==s){if(!i||!t.length)return null;e[0].level!=n&&(s=e[0].side(!1,n),a=0)}else if(s==t.length){if(i)return null;let t=e[e.length-1];t.level!=n&&(s=t.side(!0,n),a=e.length-1)}a<0&&(a=su.find(e,s,null!==(o=r.bidiLevel)&&void 0!==o?o:-1,r.assoc));let l=e[a];s==l.side(i,n)&&(l=e[a+=i?1:-1],s=l.side(!i,n));let u=i==(l.dir==n),c=mo(t.text,s,u);if(uu=t.text.slice(Math.min(s,c),Math.max(s,c)),c!=l.side(i,n))return $o.cursor(c+t.from,u?-1:1,l.level);let h=a==(i?e.length-1:0)?null:e[a+(i?1:-1)];return h||l.level==n?h&&h.level<l.level?$o.cursor(h.side(!i,n)+t.from,i?1:-1,h.level):$o.cursor(c+t.from,i?-1:1,l.level):$o.cursor(i?t.to:t.from,i?-1:1,n)}function hu(t,e){return e.left>t?e.left-t:Math.max(0,t-e.right)}function fu(t,e){return e.top>t?e.top-t:Math.max(0,t-e.bottom)}function pu(t,e){return t.top<e.bottom-1&&t.bottom>e.top+1}function du(t,e){return e<t.top?{top:e,left:t.left,right:t.right,bottom:t.bottom}:t}function gu(t,e){return e>t.bottom?{top:t.top,left:t.left,right:t.right,bottom:e}:t}function mu(t,e,n){let r,i,o,s,a,l,u,c;for(let h=t.firstChild;h;h=h.nextSibling){let t=ga(h);for(let f=0;f<t.length;f++){let p=t[f];i&&pu(i,p)&&(p=du(gu(p,i.bottom),i.top));let d=hu(e,p),g=fu(n,p);if(0==d&&0==g)return 3==h.nodeType?_u(h,e,n):mu(h,e,n);(!r||s>g||s==g&&o>d)&&(r=h,i=p,o=d,s=g),0==d?n>p.bottom&&(!u||u.bottom<p.bottom)?(a=h,u=p):n<p.top&&(!c||c.top>p.top)&&(l=h,c=p):u&&pu(u,p)?u=gu(u,p.bottom):c&&pu(c,p)&&(c=du(c,p.top))}}if(u&&u.bottom>=n?(r=a,i=u):c&&c.top<=n&&(r=l,i=c),!r)return{node:t,offset:0};let h=Math.max(i.left,Math.min(i.right,e));return 3==r.nodeType?_u(r,h,n):o||"true"!=r.contentEditable?{node:t,offset:Array.prototype.indexOf.call(t.childNodes,r)+(e>=(i.left+i.right)/2?1:0)}:mu(r,h,n)}function _u(t,e,n){let r=t.nodeValue.length,i=-1,o=1e9,s=0;for(let a=0;a<r;a++){let r=Ca(t,a,a+1).getClientRects();for(let l=0;l<r.length;l++){let u=r[l];if(u.top==u.bottom)continue;s||(s=e-u.left);let c=(u.top>n?u.top-n:n-u.bottom)-1;if(u.left-1<=e&&u.right+1>=e&&c<o){let n=e>=(u.left+u.right)/2,r=n;if((Wa.chrome||Wa.gecko)&&Ca(t,a).getBoundingClientRect().left==u.right&&(r=!n),c<=0)return{node:t,offset:a+(r?1:0)};i=a+(r?1:0),o=c}}}return{node:t,offset:i>-1?i:s>0?t.nodeValue.length:0}}function yu(t,{x:e,y:n},r,i=-1){var o;let s,a=t.contentDOM.getBoundingClientRect(),l=t.defaultLineHeight/2;for(let e=!1;;){if(s=t.blockAtHeight(n,a.top),s.top>n||s.bottom<n){if(i=s.top>n?-1:1,n=Math.min(s.bottom-l,Math.max(s.top+l,n)),e)return r?null:0;e=!0}if(s.type==ll.Text)break;n=i>0?s.bottom+l:s.top-l}let u=s.from;if(e=Math.max(a.left+1,Math.min(a.right-1,e)),u<t.viewport.from)return 0==t.viewport.from?0:vu(t,a,s,e,n);if(u>t.viewport.to)return t.viewport.to==t.state.doc.length?t.state.doc.length:vu(t,a,s,e,n);let c,h=t.dom.ownerDocument,f=(t.root.elementFromPoint?t.root:h).elementFromPoint(e,n),p=-1;if(f&&t.contentDOM.contains(f)&&0!=(null===(o=t.docView.nearest(f))||void 0===o?void 0:o.isEditable))if(h.caretPositionFromPoint){let t=h.caretPositionFromPoint(e,n);t&&({offsetNode:c,offset:p}=t)}else if(h.caretRangeFromPoint){let t=h.caretRangeFromPoint(e,n);t&&(({startContainer:c,startOffset:p}=t),Wa.safari&&function(t,e,n){let r;if(3!=t.nodeType||e!=(r=t.nodeValue.length))return!1;for(let e=t.nextSibling;e;e=e.nextSibling)if(1!=e.nodeType||"BR"!=e.nodeName)return!1;return Ca(t,r-1,r).getBoundingClientRect().left>n}(c,p,e)&&(c=void 0))}if(!c||!t.docView.dom.contains(c)){let r=gl.find(t.docView,u);({node:c,offset:p}=mu(r.dom,e,n))}return t.docView.posFromDOM(c,p)}function vu(t,e,n,r,i){let o=Math.round((r-e.left)*t.defaultCharacterWidth);t.lineWrapping&&n.height>1.5*t.defaultLineHeight&&(o+=Math.floor((i-n.top)/t.defaultLineHeight)*t.viewState.heightOracle.lineLength);let s=t.state.sliceDoc(n.from,n.to);return n.from+Oo(s,o,t.state.tabSize)}function bu(t,e,n,r){let i=t.state.doc.lineAt(e.head),o=t.bidiSpans(i);for(let s=e,a=null;;){let e=cu(i,o,t.textDirection,s,n),l=uu;if(!e){if(i.number==(n?t.state.doc.lines:1))return s;l="\n",i=t.state.doc.line(i.number+(n?1:-1)),o=t.bidiSpans(i),e=$o.cursor(n?i.from:i.to)}if(a){if(!a(l))return s}else{if(!r)return e;a=r(l)}s=e}}function wu(t,e,n){let r=t.pluginField(Nl.atomicRanges);for(;;){let t=!1;for(let i of r)i.between(n.from-1,n.from+1,((r,i,o)=>{n.from>r&&n.from<i&&(n=e.from>n.from?$o.cursor(r,1):$o.cursor(i,-1),t=!0)}));if(!t)return n}}class xu{constructor(t){this.lastKeyCode=0,this.lastKeyTime=0,this.pendingAndroidKey=void 0,this.pendingIOSKey=void 0,this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastEscPress=0,this.lastContextMenu=0,this.scrollHandlers=[],this.registeredEvents=[],this.customHandlers=[],this.composing=-1,this.compositionFirstChange=null,this.compositionEndedAt=0,this.rapidCompositionStart=!1,this.mouseSelection=null;for(let e in Cu){let n=Cu[e];t.contentDOM.addEventListener(e,(r=>{"keydown"==e&&this.keydown(t,r)||Eu(t,r)&&!this.ignoreDuringComposition(r)&&(this.mustFlushObserver(r)&&t.observer.forceFlush(),this.runCustomHandlers(e,t,r)?r.preventDefault():n(t,r))})),this.registeredEvents.push(e)}this.notifiedFocused=t.hasFocus,this.ensureHandlers(t),Wa.safari&&t.contentDOM.addEventListener("input",(()=>null))}setSelectionOrigin(t){this.lastSelectionOrigin=t,this.lastSelectionTime=Date.now()}ensureHandlers(t){let e=this.customHandlers=t.pluginField(Il);for(let n of e)for(let e in n.handlers)this.registeredEvents.indexOf(e)<0&&"scroll"!=e&&(this.registeredEvents.push(e),t.contentDOM.addEventListener(e,(n=>{Eu(t,n)&&this.runCustomHandlers(e,t,n)&&n.preventDefault()})))}runCustomHandlers(t,e,n){for(let r of this.customHandlers){let i=r.handlers[t],o=!1;if(i){try{o=i.call(r.plugin,n,e)}catch(t){Tl(e.state,t)}if(o||n.defaultPrevented)return Wa.android&&"keydown"==t&&13==n.keyCode&&e.observer.flushSoon(),!0}}return!1}runScrollHandlers(t,e){for(let n of this.customHandlers){let r=n.handlers.scroll;if(r)try{r.call(n.plugin,e,t)}catch(e){Tl(t.state,e)}}}keydown(t,e){if(this.lastKeyCode=e.keyCode,this.lastKeyTime=Date.now(),this.screenKeyEvent(t,e))return!0;let n;return!(!Wa.ios||!(n=ku.find((t=>t.keyCode==e.keyCode)))||e.ctrlKey||e.altKey||e.metaKey||e.synthetic||(this.pendingIOSKey=n,setTimeout((()=>this.flushIOSKey(t)),250),0))}flushIOSKey(t){let e=this.pendingIOSKey;return!!e&&(this.pendingIOSKey=void 0,Aa(t.contentDOM,e.key,e.keyCode))}setPendingAndroidKey(t,e){this.pendingAndroidKey=e,requestAnimationFrame((()=>{let e=this.pendingAndroidKey;if(!e)return;this.pendingAndroidKey=void 0,t.observer.processRecords();let n=t.state;Aa(t.contentDOM,e.key,e.keyCode),t.state==n&&t.docView.reset(!0)}))}ignoreDuringComposition(t){return!!/^key/.test(t.type)&&(this.composing>0||!!(Wa.safari&&Date.now()-this.compositionEndedAt<500)&&(this.compositionEndedAt=0,!0))}screenKeyEvent(t,e){let n=9==e.keyCode&&Date.now()<this.lastEscPress+2e3;return 27==e.keyCode?this.lastEscPress=Date.now():Su.indexOf(e.keyCode)<0&&(this.lastEscPress=0),n}mustFlushObserver(t){return"keydown"==t.type&&229!=t.keyCode||"compositionend"==t.type&&!Wa.ios}startMouseSelection(t,e,n){this.mouseSelection&&this.mouseSelection.destroy(),this.mouseSelection=new Ou(this,t,e,n)}update(t){this.mouseSelection&&this.mouseSelection.update(t),t.transactions.length&&(this.lastKeyCode=this.lastSelectionTime=0)}destroy(){this.mouseSelection&&this.mouseSelection.destroy()}}const ku=[{key:"Backspace",keyCode:8,inputType:"deleteContentBackward"},{key:"Enter",keyCode:13,inputType:"insertParagraph"},{key:"Delete",keyCode:46,inputType:"deleteContentForward"}],Su=[16,17,18,20,91,92,224,225];class Ou{constructor(t,e,n,r){this.inputState=t,this.view=e,this.style=r,this.lastEvent=n;let i=e.contentDOM.ownerDocument;i.addEventListener("mousemove",this.move=this.move.bind(this)),i.addEventListener("mouseup",this.up=this.up.bind(this)),this.extend=n.shiftKey,this.multiple=e.state.facet(Rs.allowMultipleSelections)&&function(t,e){let n=t.state.facet(xl);return n.length?n[0](e):Wa.mac?e.metaKey:e.ctrlKey}(e,n),this.dragMove=function(t,e){let n=t.state.facet(kl);return n.length?n[0](e):Wa.mac?!e.altKey:!e.ctrlKey}(e,n),this.dragging=!!function(t,e){let{main:n}=t.state.selection;if(n.empty)return!1;let r=fa(t.root);if(0==r.rangeCount)return!0;let i=r.getRangeAt(0).getClientRects();for(let t=0;t<i.length;t++){let n=i[t];if(n.left<=e.clientX&&n.right>=e.clientX&&n.top<=e.clientY&&n.bottom>=e.clientY)return!0}return!1}(e,n)&&null,!1===this.dragging&&(n.preventDefault(),this.select(n))}move(t){if(0==t.buttons)return this.destroy();!1===this.dragging&&this.select(this.lastEvent=t)}up(t){null==this.dragging&&this.select(this.lastEvent),this.dragging||t.preventDefault(),this.destroy()}destroy(){let t=this.view.contentDOM.ownerDocument;t.removeEventListener("mousemove",this.move),t.removeEventListener("mouseup",this.up),this.inputState.mouseSelection=null}select(t){let e=this.style.get(t,this.extend,this.multiple);e.eq(this.view.state.selection)&&e.main.assoc==this.view.state.selection.main.assoc||this.view.dispatch({selection:e,userEvent:"select.pointer",scrollIntoView:!0})}update(t){t.docChanged&&this.dragging&&(this.dragging=this.dragging.map(t.changes)),this.style.update(t)&&setTimeout((()=>this.select(this.lastEvent)),20)}}function Eu(t,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(let n,r=e.target;r!=t.contentDOM;r=r.parentNode)if(!r||11==r.nodeType||(n=Ma.get(r))&&n.ignoreEvent(e))return!1;return!0}const Cu=Object.create(null),Au=Wa.ie&&Wa.ie_version<15||Wa.ios&&Wa.webkit_version<604;function Pu(t,e){let n,{state:r}=t,i=1,o=r.toText(e),s=o.lines==r.selection.ranges.length,a=null!=Vu&&r.selection.ranges.every((t=>t.empty))&&Vu==o.toString();if(a){let t=-1;n=r.changeByRange((n=>{let a=r.doc.lineAt(n.from);if(a.from==t)return{range:n};t=a.from;let l=r.toText((s?o.line(i++).text:e)+r.lineBreak);return{changes:{from:a.from,insert:l},range:$o.cursor(n.from+l.length)}}))}else n=s?r.changeByRange((t=>{let e=o.line(i++);return{changes:{from:t.from,to:t.to,insert:e.text},range:$o.cursor(t.from+e.length)}})):r.replaceSelection(o);t.dispatch(n,{userEvent:"input.paste",scrollIntoView:!0})}Cu.keydown=(t,e)=>{t.inputState.setSelectionOrigin("select")};let Tu=0;function Mu(t,e,n,r){if(1==r)return $o.cursor(e,n);if(2==r)return function(t,e,n=1){let r=t.charCategorizer(e),i=t.doc.lineAt(e),o=e-i.from;if(0==i.length)return $o.cursor(e);0==o?n=1:o==i.length&&(n=-1);let s=o,a=o;n<0?s=mo(i.text,o,!1):a=mo(i.text,o);let l=r(i.text.slice(s,a));for(;s>0;){let t=mo(i.text,s,!1);if(r(i.text.slice(t,s))!=l)break;s=t}for(;a<i.length;){let t=mo(i.text,a);if(r(i.text.slice(a,t))!=l)break;a=t}return $o.range(s+i.from,a+i.from)}(t.state,e,n);{let n=gl.find(t.docView,e),r=t.state.doc.lineAt(n?n.posAtEnd:e),i=n?n.posAtStart:r.from,o=n?n.posAtEnd:r.to;return o<t.state.doc.length&&o==r.to&&o++,$o.range(i,o)}}Cu.touchstart=(t,e)=>{Tu=Date.now(),t.inputState.setSelectionOrigin("select.pointer")},Cu.touchmove=t=>{t.inputState.setSelectionOrigin("select.pointer")},Cu.mousedown=(t,e)=>{if(t.observer.flush(),Tu>Date.now()-2e3)return;let n=null;for(let r of t.state.facet(Sl))if(n=r(t,e),n)break;n||0!=e.button||(n=function(t,e){let n=ju(t,e),r=function(t){if(!Lu)return t.detail;let e=Iu,n=zu;return Iu=t,zu=Date.now(),Bu=!e||n>Date.now()-400&&Math.abs(e.clientX-t.clientX)<2&&Math.abs(e.clientY-t.clientY)<2?(Bu+1)%3:1}(e),i=t.state.selection,o=n,s=e;return{update(t){t.changes&&(n&&(n.pos=t.changes.mapPos(n.pos)),i=i.map(t.changes),s=null)},get(e,a,l){let u;if(s&&e.clientX==s.clientX&&e.clientY==s.clientY?u=o:(u=o=ju(t,e),s=e),!u||!n)return i;let c=Mu(t,u.pos,u.bias,r);if(n.pos!=u.pos&&!a){let e=Mu(t,n.pos,n.bias,r),i=Math.min(e.from,c.from),o=Math.max(e.to,c.to);c=i<c.from?$o.range(i,o):$o.range(o,i)}return a?i.replaceRange(i.main.extend(c.from,c.to)):l?i.addRange(c):$o.create([c])}}}(t,e)),n&&(t.root.activeElement!=t.contentDOM&&t.observer.ignore((()=>Ea(t.contentDOM))),t.inputState.startMouseSelection(t,e,n))};let Ru=(t,e)=>t>=e.top&&t<=e.bottom,Nu=(t,e,n)=>Ru(e,n)&&t>=n.left&&t<=n.right;function Du(t,e,n,r){let i=gl.find(t.docView,e);if(!i)return 1;let o=e-i.posAtStart;if(0==o)return 1;if(o==i.length)return-1;let s=i.coordsAt(o,-1);if(s&&Nu(n,r,s))return-1;let a=i.coordsAt(o,1);return a&&Nu(n,r,a)?1:s&&Ru(r,s)?-1:1}function ju(t,e){let n=t.posAtCoords({x:e.clientX,y:e.clientY},!1);return{pos:n,bias:Du(t,n,e.clientX,e.clientY)}}const Lu=Wa.ie&&Wa.ie_version<=11;let Iu=null,Bu=0,zu=0;function Fu(t,e,n,r){let i=t.posAtCoords({x:e.clientX,y:e.clientY});if(null==i||!n)return;e.preventDefault();let{mouseSelection:o}=t.inputState,s=r&&o&&o.dragging&&o.dragMove?{from:o.dragging.from,to:o.dragging.to}:null,a={from:i,insert:n},l=t.state.changes(s?[s,a]:a);t.focus(),t.dispatch({changes:l,selection:{anchor:l.mapPos(i,-1),head:l.mapPos(i,1)},userEvent:s?"move.drop":"input.drop"})}Cu.dragstart=(t,e)=>{let{selection:{main:n}}=t.state,{mouseSelection:r}=t.inputState;r&&(r.dragging=n),e.dataTransfer&&(e.dataTransfer.setData("Text",t.state.sliceDoc(n.from,n.to)),e.dataTransfer.effectAllowed="copyMove")},Cu.drop=(t,e)=>{if(!e.dataTransfer)return;if(t.state.readOnly)return e.preventDefault();let n=e.dataTransfer.files;if(n&&n.length){e.preventDefault();let r=Array(n.length),i=0,o=()=>{++i==n.length&&Fu(t,e,r.filter((t=>null!=t)).join(t.state.lineBreak),!1)};for(let t=0;t<n.length;t++){let e=new FileReader;e.onerror=o,e.onload=()=>{/[\x00-\x08\x0e-\x1f]{2}/.test(e.result)||(r[t]=e.result),o()},e.readAsText(n[t])}}else Fu(t,e,e.dataTransfer.getData("Text"),!0)},Cu.paste=(t,e)=>{if(t.state.readOnly)return e.preventDefault();t.observer.flush();let n=Au?null:e.clipboardData;n?(Pu(t,n.getData("text/plain")),e.preventDefault()):function(t){let e=t.dom.parentNode;if(!e)return;let n=e.appendChild(document.createElement("textarea"));n.style.cssText="position: fixed; left: -10000px; top: 10px",n.focus(),setTimeout((()=>{t.focus(),n.remove(),Pu(t,n.value)}),50)}(t)};let Vu=null;function Uu(t,e){if(t.docView.compositionDeco.size){t.inputState.rapidCompositionStart=e;try{t.update([])}finally{t.inputState.rapidCompositionStart=!1}}}Cu.copy=Cu.cut=(t,e)=>{let{text:n,ranges:r,linewise:i}=function(t){let e=[],n=[],r=!1;for(let r of t.selection.ranges)r.empty||(e.push(t.sliceDoc(r.from,r.to)),n.push(r));if(!e.length){let i=-1;for(let{from:r}of t.selection.ranges){let o=t.doc.lineAt(r);o.number>i&&(e.push(o.text),n.push({from:o.from,to:Math.min(t.doc.length,o.to+1)})),i=o.number}r=!0}return{text:e.join(t.lineBreak),ranges:n,linewise:r}}(t.state);if(!n&&!i)return;Vu=i?n:null;let o=Au?null:e.clipboardData;o?(e.preventDefault(),o.clearData(),o.setData("text/plain",n)):function(t,e){let n=t.dom.parentNode;if(!n)return;let r=n.appendChild(document.createElement("textarea"));r.style.cssText="position: fixed; left: -10000px; top: 10px",r.value=e,r.focus(),r.selectionEnd=e.length,r.selectionStart=0,setTimeout((()=>{r.remove(),t.focus()}),50)}(t,n),"cut"!=e.type||t.state.readOnly||t.dispatch({changes:r,scrollIntoView:!0,userEvent:"delete.cut"})},Cu.focus=Cu.blur=t=>{setTimeout((()=>{t.hasFocus!=t.inputState.notifiedFocused&&t.update([])}),10)},Cu.beforeprint=t=>{t.viewState.printing=!0,t.requestMeasure(),setTimeout((()=>{t.viewState.printing=!1,t.requestMeasure()}),2e3)},Cu.compositionstart=Cu.compositionupdate=t=>{null==t.inputState.compositionFirstChange&&(t.inputState.compositionFirstChange=!0),t.inputState.composing<0&&(t.docView.compositionDeco.size&&(t.observer.flush(),Uu(t,!0)),t.inputState.composing=0)},Cu.compositionend=t=>{t.inputState.composing=-1,t.inputState.compositionEndedAt=Date.now(),t.inputState.compositionFirstChange=null,setTimeout((()=>{t.inputState.composing<0&&Uu(t,!1)}),50)},Cu.contextmenu=t=>{t.inputState.lastContextMenu=Date.now()},Cu.beforeinput=(t,e)=>{var n;let r;if(Wa.chrome&&Wa.android&&(r=ku.find((t=>t.inputType==e.inputType)))&&(t.inputState.setPendingAndroidKey(t,r),"Backspace"==r.key||"Delete"==r.key)){let e=(null===(n=window.visualViewport)||void 0===n?void 0:n.height)||0;setTimeout((()=>{var n;((null===(n=window.visualViewport)||void 0===n?void 0:n.height)||0)>e+10&&t.hasFocus&&(t.contentDOM.blur(),t.focus())}),100)}};const qu=["pre-wrap","normal","pre-line","break-spaces"];class Hu{constructor(){this.doc=Eo.empty,this.lineWrapping=!1,this.direction=Jl.LTR,this.heightSamples={},this.lineHeight=14,this.charWidth=7,this.lineLength=30,this.heightChanged=!1}heightForGap(t,e){let n=this.doc.lineAt(e).number-this.doc.lineAt(t).number+1;return this.lineWrapping&&(n+=Math.ceil((e-t-n*this.lineLength*.5)/this.lineLength)),this.lineHeight*n}heightForLine(t){return this.lineWrapping?(1+Math.max(0,Math.ceil((t-this.lineLength)/(this.lineLength-5))))*this.lineHeight:this.lineHeight}setDoc(t){return this.doc=t,this}mustRefresh(t,e,n){let r=!1;for(let e=0;e<t.length;e++){let n=t[e];n<0?e++:this.heightSamples[Math.floor(10*n)]||(r=!0,this.heightSamples[Math.floor(10*n)]=!0)}return r||qu.indexOf(e)>-1!=this.lineWrapping||this.direction!=n}refresh(t,e,n,r,i,o){let s=qu.indexOf(t)>-1,a=Math.round(n)!=Math.round(this.lineHeight)||this.lineWrapping!=s||this.direction!=e;if(this.lineWrapping=s,this.direction=e,this.lineHeight=n,this.charWidth=r,this.lineLength=i,a){this.heightSamples={};for(let t=0;t<o.length;t++){let e=o[t];e<0?t++:this.heightSamples[Math.floor(10*e)]=!0}}return a}}class Wu{constructor(t,e){this.from=t,this.heights=e,this.index=0}get more(){return this.index<this.heights.length}}class $u{constructor(t,e,n,r,i){this.from=t,this.length=e,this.top=n,this.height=r,this.type=i}get to(){return this.from+this.length}get bottom(){return this.top+this.height}join(t){let e=(Array.isArray(this.type)?this.type:[this]).concat(Array.isArray(t.type)?t.type:[t]);return new $u(this.from,this.length+t.length,this.top,this.height+t.height,e)}}var Ku=function(t){return t[t.ByPos=0]="ByPos",t[t.ByHeight=1]="ByHeight",t[t.ByPosNoHeight=2]="ByPosNoHeight",t}(Ku||(Ku={}));class Qu{constructor(t,e,n=2){this.length=t,this.height=e,this.flags=n}get outdated(){return(2&this.flags)>0}set outdated(t){this.flags=(t?2:0)|-3&this.flags}setHeight(t,e){this.height!=e&&(Math.abs(this.height-e)>1e-4&&(t.heightChanged=!0),this.height=e)}replace(t,e,n){return Qu.of(n)}decomposeLeft(t,e){e.push(this)}decomposeRight(t,e){e.push(this)}applyChanges(t,e,n,r){let i=this;for(let o=r.length-1;o>=0;o--){let{fromA:s,toA:a,fromB:l,toB:u}=r[o],c=i.lineAt(s,Ku.ByPosNoHeight,e,0,0),h=c.to>=a?c:i.lineAt(a,Ku.ByPosNoHeight,e,0,0);for(u+=h.to-a,a=h.to;o>0&&c.from<=r[o-1].toA;)s=r[o-1].fromA,l=r[o-1].fromB,o--,s<c.from&&(c=i.lineAt(s,Ku.ByPosNoHeight,e,0,0));l+=c.from-s,s=c.from;let f=tc.build(n,t,l,u);i=i.replace(s,a,f)}return i.updateHeight(n,0)}static empty(){return new Xu(0,0)}static of(t){if(1==t.length)return t[0];let e=0,n=t.length,r=0,i=0;for(;;)if(e==n)if(r>2*i){let i=t[e-1];i.break?t.splice(--e,1,i.left,null,i.right):t.splice(--e,1,i.left,i.right),n+=1+i.break,r-=i.size}else{if(!(i>2*r))break;{let e=t[n];e.break?t.splice(n,1,e.left,null,e.right):t.splice(n,1,e.left,e.right),n+=2+e.break,i-=e.size}}else if(r<i){let n=t[e++];n&&(r+=n.size)}else{let e=t[--n];e&&(i+=e.size)}let o=0;return null==t[e-1]?(o=1,e--):null==t[e]&&(o=1,n++),new Yu(Qu.of(t.slice(0,e)),o,Qu.of(t.slice(n)))}}Qu.prototype.size=1;class Gu extends Qu{constructor(t,e,n){super(t,e),this.type=n}blockAt(t,e,n,r){return new $u(r,this.length,n,this.height,this.type)}lineAt(t,e,n,r,i){return this.blockAt(0,n,r,i)}forEachLine(t,e,n,r,i,o){o(this.blockAt(0,n,r,i))}updateHeight(t,e=0,n=!1,r){return r&&r.from<=e&&r.more&&this.setHeight(t,r.heights[r.index++]),this.outdated=!1,this}toString(){return`block(${this.length})`}}class Xu extends Gu{constructor(t,e){super(t,e,ll.Text),this.collapsed=0,this.widgetHeight=0}replace(t,e,n){let r=n[0];return 1==n.length&&(r instanceof Xu||r instanceof Ju&&4&r.flags)&&Math.abs(this.length-r.length)<10?(r instanceof Ju?r=new Xu(r.length,this.height):r.height=this.height,this.outdated||(r.outdated=!1),r):Qu.of(n)}updateHeight(t,e=0,n=!1,r){return r&&r.from<=e&&r.more?this.setHeight(t,r.heights[r.index++]):(n||this.outdated)&&this.setHeight(t,Math.max(this.widgetHeight,t.heightForLine(this.length-this.collapsed))),this.outdated=!1,this}toString(){return`line(${this.length}${this.collapsed?-this.collapsed:""}${this.widgetHeight?":"+this.widgetHeight:""})`}}class Ju extends Qu{constructor(t){super(t,0)}lines(t,e){let n=t.lineAt(e).number,r=t.lineAt(e+this.length).number;return{firstLine:n,lastLine:r,lineHeight:this.height/(r-n+1)}}blockAt(t,e,n,r){let{firstLine:i,lastLine:o,lineHeight:s}=this.lines(e,r),a=Math.max(0,Math.min(o-i,Math.floor((t-n)/s))),{from:l,length:u}=e.line(i+a);return new $u(l,u,n+s*a,s,ll.Text)}lineAt(t,e,n,r,i){if(e==Ku.ByHeight)return this.blockAt(t,n,r,i);if(e==Ku.ByPosNoHeight){let{from:e,to:r}=n.lineAt(t);return new $u(e,r-e,0,0,ll.Text)}let{firstLine:o,lineHeight:s}=this.lines(n,i),{from:a,length:l,number:u}=n.lineAt(t);return new $u(a,l,r+s*(u-o),s,ll.Text)}forEachLine(t,e,n,r,i,o){let{firstLine:s,lineHeight:a}=this.lines(n,i);for(let l=Math.max(t,i),u=Math.min(i+this.length,e);l<=u;){let e=n.lineAt(l);l==t&&(r+=a*(e.number-s)),o(new $u(e.from,e.length,r,a,ll.Text)),r+=a,l=e.to+1}}replace(t,e,n){let r=this.length-e;if(r>0){let t=n[n.length-1];t instanceof Ju?n[n.length-1]=new Ju(t.length+r):n.push(null,new Ju(r-1))}if(t>0){let e=n[0];e instanceof Ju?n[0]=new Ju(t+e.length):n.unshift(new Ju(t-1),null)}return Qu.of(n)}decomposeLeft(t,e){e.push(new Ju(t-1),null)}decomposeRight(t,e){e.push(null,new Ju(this.length-t-1))}updateHeight(t,e=0,n=!1,r){let i=e+this.length;if(r&&r.from<=e+this.length&&r.more){let n=[],o=Math.max(e,r.from);for(r.from>e&&n.push(new Ju(r.from-e-1).updateHeight(t,e));o<=i&&r.more;){let e=t.doc.lineAt(o).length;n.length&&n.push(null);let i=new Xu(e,r.heights[r.index++]);i.outdated=!1,n.push(i),o+=e+1}return o<=i&&n.push(null,new Ju(i-o).updateHeight(t,o)),t.heightChanged=!0,Qu.of(n)}return(n||this.outdated)&&(this.setHeight(t,t.heightForGap(e,e+this.length)),this.outdated=!1),this}toString(){return`gap(${this.length})`}}class Yu extends Qu{constructor(t,e,n){super(t.length+e+n.length,t.height+n.height,e|(t.outdated||n.outdated?2:0)),this.left=t,this.right=n,this.size=t.size+n.size}get break(){return 1&this.flags}blockAt(t,e,n,r){let i=n+this.left.height;return t<i||0==this.right.height?this.left.blockAt(t,e,n,r):this.right.blockAt(t,e,i,r+this.left.length+this.break)}lineAt(t,e,n,r,i){let o=r+this.left.height,s=i+this.left.length+this.break,a=e==Ku.ByHeight?t<o||0==this.right.height:t<s,l=a?this.left.lineAt(t,e,n,r,i):this.right.lineAt(t,e,n,o,s);if(this.break||(a?l.to<s:l.from>s))return l;let u=e==Ku.ByPosNoHeight?Ku.ByPosNoHeight:Ku.ByPos;return a?l.join(this.right.lineAt(s,u,n,o,s)):this.left.lineAt(s,u,n,r,i).join(l)}forEachLine(t,e,n,r,i,o){let s=r+this.left.height,a=i+this.left.length+this.break;if(this.break)t<a&&this.left.forEachLine(t,e,n,r,i,o),e>=a&&this.right.forEachLine(t,e,n,s,a,o);else{let l=this.lineAt(a,Ku.ByPos,n,r,i);t<l.from&&this.left.forEachLine(t,l.from-1,n,r,i,o),l.to>=t&&l.from<=e&&o(l),e>l.to&&this.right.forEachLine(l.to+1,e,n,s,a,o)}}replace(t,e,n){let r=this.left.length+this.break;if(e<r)return this.balanced(this.left.replace(t,e,n),this.right);if(t>this.left.length)return this.balanced(this.left,this.right.replace(t-r,e-r,n));let i=[];t>0&&this.decomposeLeft(t,i);let o=i.length;for(let t of n)i.push(t);if(t>0&&Zu(i,o-1),e<this.length){let t=i.length;this.decomposeRight(e,i),Zu(i,t)}return Qu.of(i)}decomposeLeft(t,e){let n=this.left.length;if(t<=n)return this.left.decomposeLeft(t,e);e.push(this.left),this.break&&(n++,t>=n&&e.push(null)),t>n&&this.right.decomposeLeft(t-n,e)}decomposeRight(t,e){let n=this.left.length,r=n+this.break;if(t>=r)return this.right.decomposeRight(t-r,e);t<n&&this.left.decomposeRight(t,e),this.break&&t<r&&e.push(null),e.push(this.right)}balanced(t,e){return t.size>2*e.size||e.size>2*t.size?Qu.of(this.break?[t,null,e]:[t,e]):(this.left=t,this.right=e,this.height=t.height+e.height,this.outdated=t.outdated||e.outdated,this.size=t.size+e.size,this.length=t.length+this.break+e.length,this)}updateHeight(t,e=0,n=!1,r){let{left:i,right:o}=this,s=e+i.length+this.break,a=null;return r&&r.from<=e+i.length&&r.more?a=i=i.updateHeight(t,e,n,r):i.updateHeight(t,e,n),r&&r.from<=s+o.length&&r.more?a=o=o.updateHeight(t,s,n,r):o.updateHeight(t,s,n),a?this.balanced(i,o):(this.height=this.left.height+this.right.height,this.outdated=!1,this)}toString(){return this.left+(this.break?" ":"-")+this.right}}function Zu(t,e){let n,r;null==t[e]&&(n=t[e-1])instanceof Ju&&(r=t[e+1])instanceof Ju&&t.splice(e-1,3,new Ju(n.length+1+r.length))}class tc{constructor(t,e){this.pos=t,this.oracle=e,this.nodes=[],this.lineStart=-1,this.lineEnd=-1,this.covering=null,this.writtenTo=t}get isCovered(){return this.covering&&this.nodes[this.nodes.length-1]==this.covering}span(t,e){if(this.lineStart>-1){let t=Math.min(e,this.lineEnd),n=this.nodes[this.nodes.length-1];n instanceof Xu?n.length+=t-this.pos:(t>this.pos||!this.isCovered)&&this.nodes.push(new Xu(t-this.pos,-1)),this.writtenTo=t,e>t&&(this.nodes.push(null),this.writtenTo++,this.lineStart=-1)}this.pos=e}point(t,e,n){if(t<e||n.heightRelevant){let r=n.widget?Math.max(0,n.widget.estimatedHeight):0,i=e-t;n.block?this.addBlock(new Gu(i,r,n.type)):(i||r>=5)&&this.addLineDeco(r,i)}else e>t&&this.span(t,e);this.lineEnd>-1&&this.lineEnd<this.pos&&(this.lineEnd=this.oracle.doc.lineAt(this.pos).to)}enterLine(){if(this.lineStart>-1)return;let{from:t,to:e}=this.oracle.doc.lineAt(this.pos);this.lineStart=t,this.lineEnd=e,this.writtenTo<t&&((this.writtenTo<t-1||null==this.nodes[this.nodes.length-1])&&this.nodes.push(this.blankContent(this.writtenTo,t-1)),this.nodes.push(null)),this.pos>t&&this.nodes.push(new Xu(this.pos-t,-1)),this.writtenTo=this.pos}blankContent(t,e){let n=new Ju(e-t);return this.oracle.doc.lineAt(t).to==e&&(n.flags|=4),n}ensureLine(){this.enterLine();let t=this.nodes.length?this.nodes[this.nodes.length-1]:null;if(t instanceof Xu)return t;let e=new Xu(0,-1);return this.nodes.push(e),e}addBlock(t){this.enterLine(),t.type!=ll.WidgetAfter||this.isCovered||this.ensureLine(),this.nodes.push(t),this.writtenTo=this.pos=this.pos+t.length,t.type!=ll.WidgetBefore&&(this.covering=t)}addLineDeco(t,e){let n=this.ensureLine();n.length+=e,n.collapsed+=e,n.widgetHeight=Math.max(n.widgetHeight,t),this.writtenTo=this.pos=this.pos+e}finish(t){let e=0==this.nodes.length?null:this.nodes[this.nodes.length-1];!(this.lineStart>-1)||e instanceof Xu||this.isCovered?(this.writtenTo<this.pos||null==e)&&this.nodes.push(this.blankContent(this.writtenTo,this.pos)):this.nodes.push(new Xu(0,-1));let n=t;for(let t of this.nodes)t instanceof Xu&&t.updateHeight(this.oracle,n),n+=t?t.length:1;return this.nodes}static build(t,e,n,r){let i=new tc(n,t);return Hs.spans(e,n,r,i,0),i.finish(n)}}class ec{constructor(){this.changes=[]}compareRange(){}comparePoint(t,e,n,r){(t<e||n&&n.heightRelevant||r&&r.heightRelevant)&&dl(t,e,this.changes,5)}}class nc{constructor(t,e,n){this.from=t,this.to=e,this.size=n}static same(t,e){if(t.length!=e.length)return!1;for(let n=0;n<t.length;n++){let r=t[n],i=e[n];if(r.from!=i.from||r.to!=i.to||r.size!=i.size)return!1}return!0}draw(t){return ul.replace({widget:new rc(this.size,t)}).range(this.from,this.to)}}class rc extends al{constructor(t,e){super(),this.size=t,this.vertical=e}eq(t){return t.size==this.size&&t.vertical==this.vertical}toDOM(){let t=document.createElement("div");return this.vertical?t.style.height=this.size+"px":(t.style.width=this.size+"px",t.style.height="2px",t.style.display="inline-block"),t}get estimatedHeight(){return this.vertical?this.size:-1}}class ic{constructor(t,e=!1){this.range=t,this.center=e}map(t){return t.empty?this:new ic(this.range.map(t),this.center)}}class oc{constructor(t){this.state=t,this.pixelViewport={left:0,right:window.innerWidth,top:0,bottom:0},this.inView=!0,this.paddingTop=0,this.paddingBottom=0,this.contentWidth=0,this.editorHeight=0,this.heightOracle=new Hu,this.scaler=hc,this.scrollTarget=null,this.printing=!1,this.visibleRanges=[],this.mustEnforceCursorAssoc=!1,this.heightMap=Qu.empty().applyChanges(t.facet(Ul),Eo.empty,this.heightOracle.setDoc(t.doc),[new Hl(0,0,0,t.doc.length)]),this.viewport=this.getViewport(0,null),this.updateForViewport(),this.lineGaps=this.ensureLineGaps([]),this.lineGapDeco=ul.set(this.lineGaps.map((t=>t.draw(!1)))),this.computeVisibleRanges()}updateForViewport(){let t=[this.viewport],{main:e}=this.state.selection;for(let n=0;n<=1;n++){let r=n?e.head:e.anchor;if(!t.some((({from:t,to:e})=>r>=t&&r<=e))){let{from:e,to:n}=this.lineAt(r,0);t.push(new sc(e,n))}}this.viewports=t.sort(((t,e)=>t.from-e.from)),this.scaler=this.heightMap.height<=7e6?hc:new fc(this.heightOracle.doc,this.heightMap,this.viewports)}update(t,e=null){let n=this.state;this.state=t.state;let r=this.state.facet(Ul),i=t.changedRanges,o=Hl.extendWithRanges(i,function(t,e,n){let r=new ec;return Hs.compare(t,e,n,r,0),r.changes}(t.startState.facet(Ul),r,t?t.changes:Bo.empty(this.state.doc.length))),s=this.heightMap.height;this.heightMap=this.heightMap.applyChanges(r,n.doc,this.heightOracle.setDoc(this.state.doc),o),this.heightMap.height!=s&&(t.flags|=2);let a=o.length?this.mapViewport(this.viewport,t.changes):this.viewport;(e&&(e.range.head<a.from||e.range.head>a.to)||!this.viewportIsAppropriate(a))&&(a=this.getViewport(0,e)),this.viewport=a,this.updateForViewport(),(this.lineGaps.length||this.viewport.to-this.viewport.from>4e3)&&this.updateLineGaps(this.ensureLineGaps(this.mapLineGaps(this.lineGaps,t.changes))),t.flags|=this.computeVisibleRanges(),e&&(this.scrollTarget=e),!this.mustEnforceCursorAssoc&&t.selectionSet&&t.view.lineWrapping&&t.state.selection.main.empty&&t.state.selection.main.assoc&&(this.mustEnforceCursorAssoc=!0)}measure(t,e){let n=t.dom,r="",i=Jl.LTR,o=0;if(!e){let t=window.getComputedStyle(n);r=t.whiteSpace,i="rtl"==t.direction?Jl.RTL:Jl.LTR;let e=parseInt(t.paddingTop)||0,s=parseInt(t.paddingBottom)||0;this.paddingTop==e&&this.paddingBottom==s||(o|=8,this.paddingTop=e,this.paddingBottom=s)}let s=this.printing?{top:-1e8,bottom:1e8,left:-1e8,right:1e8}:function(t,e){let n=t.getBoundingClientRect(),r=Math.max(0,n.left),i=Math.min(innerWidth,n.right),o=Math.max(0,n.top),s=Math.min(innerHeight,n.bottom),a=t.ownerDocument.body;for(let e=t.parentNode;e&&e!=a;)if(1==e.nodeType){let t=e,n=window.getComputedStyle(t);if((t.scrollHeight>t.clientHeight||t.scrollWidth>t.clientWidth)&&"visible"!=n.overflow){let e=t.getBoundingClientRect();r=Math.max(r,e.left),i=Math.min(i,e.right),o=Math.max(o,e.top),s=Math.min(s,e.bottom)}e="absolute"==n.position||"fixed"==n.position?t.offsetParent:t.parentNode}else{if(11!=e.nodeType)break;e=e.host}return{left:r-n.left,right:i-n.left,top:o-(n.top+e),bottom:s-(n.top+e)}}(n,this.paddingTop),a=s.top-this.pixelViewport.top,l=s.bottom-this.pixelViewport.bottom;if(this.pixelViewport=s,this.inView=this.pixelViewport.bottom>this.pixelViewport.top&&this.pixelViewport.right>this.pixelViewport.left,!this.inView)return 0;let u=t.measureVisibleLineHeights(),c=!1,h=0,f=this.heightOracle;if(!e){let e=t.dom.clientWidth;if(f.mustRefresh(u,r,i)||f.lineWrapping&&Math.abs(e-this.contentWidth)>f.charWidth){let{lineHeight:n,charWidth:s}=t.measureTextSize();c=f.refresh(r,i,n,s,e/s,u),c&&(t.minWidth=0,o|=8)}this.contentWidth!=e&&(this.contentWidth=e,o|=8),this.editorHeight!=t.view.scrollDOM.clientHeight&&(this.editorHeight=t.view.scrollDOM.clientHeight,o|=8),a>0&&l>0?h=Math.max(a,l):a<0&&l<0&&(h=Math.min(a,l))}return f.heightChanged=!1,this.heightMap=this.heightMap.updateHeight(f,0,c,new Wu(this.viewport.from,u)),f.heightChanged&&(o|=2),(!this.viewportIsAppropriate(this.viewport,h)||this.scrollTarget&&(this.scrollTarget.range.head<this.viewport.from||this.scrollTarget.range.head>this.viewport.to))&&(this.viewport=this.getViewport(h,this.scrollTarget)),this.updateForViewport(),(this.lineGaps.length||this.viewport.to-this.viewport.from>4e3)&&this.updateLineGaps(this.ensureLineGaps(c?[]:this.lineGaps)),o|=this.computeVisibleRanges(),this.mustEnforceCursorAssoc&&(this.mustEnforceCursorAssoc=!1,t.enforceCursorAssoc()),o}get visibleTop(){return this.scaler.fromDOM(this.pixelViewport.top,0)}get visibleBottom(){return this.scaler.fromDOM(this.pixelViewport.bottom,0)}getViewport(t,e){let n=.5-Math.max(-.5,Math.min(.5,t/1e3/2)),r=this.heightMap,i=this.state.doc,{visibleTop:o,visibleBottom:s}=this,a=new sc(r.lineAt(o-1e3*n,Ku.ByHeight,i,0,0).from,r.lineAt(s+1e3*(1-n),Ku.ByHeight,i,0,0).to);if(e){let{head:t}=e.range,n=s-o;if(t<a.from||t>a.to){let o,s=r.lineAt(t,Ku.ByPos,i,0,0);o=e.center?(s.top+s.bottom)/2-n/2:t<a.from?s.top:s.bottom-n,a=new sc(r.lineAt(o-500,Ku.ByHeight,i,0,0).from,r.lineAt(o+n+500,Ku.ByHeight,i,0,0).to)}}return a}mapViewport(t,e){let n=e.mapPos(t.from,-1),r=e.mapPos(t.to,1);return new sc(this.heightMap.lineAt(n,Ku.ByPos,this.state.doc,0,0).from,this.heightMap.lineAt(r,Ku.ByPos,this.state.doc,0,0).to)}viewportIsAppropriate({from:t,to:e},n=0){let{top:r}=this.heightMap.lineAt(t,Ku.ByPos,this.state.doc,0,0),{bottom:i}=this.heightMap.lineAt(e,Ku.ByPos,this.state.doc,0,0),{visibleTop:o,visibleBottom:s}=this;return(0==t||r<=o-Math.max(10,Math.min(-n,250)))&&(e==this.state.doc.length||i>=s+Math.max(10,Math.min(n,250)))&&r>o-2e3&&i<s+2e3}mapLineGaps(t,e){if(!t.length||e.empty)return t;let n=[];for(let r of t)e.touchesRange(r.from,r.to)||n.push(new nc(e.mapPos(r.from),e.mapPos(r.to),r.size));return n}ensureLineGaps(t){let e=[];return this.heightOracle.direction!=Jl.LTR||this.heightMap.forEachLine(this.viewport.from,this.viewport.to,this.state.doc,0,0,(n=>{if(n.length<4e3)return;let r,i,o=function(t,e,n){let r=[],i=t,o=0;return Hs.spans(n.facet(Ul),t,e,{span(){},point(t,e){t>i&&(r.push({from:i,to:t}),o+=t-i),i=e}},20),i<e&&(r.push({from:i,to:e}),o+=e-i),{total:o,ranges:r}}(n.from,n.to,this.state);if(o.total<4e3)return;if(this.heightOracle.lineWrapping){let t=2e3/this.heightOracle.lineLength*this.heightOracle.lineHeight;r=ac(o,(this.visibleTop-n.top-t)/n.height),i=ac(o,(this.visibleBottom-n.top+t)/n.height)}else{let t=o.total*this.heightOracle.charWidth,e=2e3*this.heightOracle.charWidth;r=ac(o,(this.pixelViewport.left-e)/t),i=ac(o,(this.pixelViewport.right+e)/t)}let s=[];r>n.from&&s.push({from:n.from,to:r}),i<n.to&&s.push({from:i,to:n.to});let a=this.state.selection.main;a.from>=n.from&&a.from<=n.to&&uc(s,a.from-10,a.from+10),!a.empty&&a.to>=n.from&&a.to<=n.to&&uc(s,a.to-10,a.to+10);for(let{from:r,to:i}of s)i-r>1e3&&e.push(cc(t,(t=>t.from>=n.from&&t.to<=n.to&&Math.abs(t.from-r)<1e3&&Math.abs(t.to-i)<1e3))||new nc(r,i,this.gapSize(n,r,i,o)))})),e}gapSize(t,e,n,r){let i=lc(r,n)-lc(r,e);return this.heightOracle.lineWrapping?t.height*i:r.total*this.heightOracle.charWidth*i}updateLineGaps(t){nc.same(t,this.lineGaps)||(this.lineGaps=t,this.lineGapDeco=ul.set(t.map((t=>t.draw(this.heightOracle.lineWrapping)))))}computeVisibleRanges(){let t=this.state.facet(Ul);this.lineGaps.length&&(t=t.concat(this.lineGapDeco));let e=[];Hs.spans(t,this.viewport.from,this.viewport.to,{span(t,n){e.push({from:t,to:n})},point(){}},20);let n=e.length!=this.visibleRanges.length||this.visibleRanges.some(((t,n)=>t.from!=e[n].from||t.to!=e[n].to));return this.visibleRanges=e,n?4:0}lineAt(t,e){return e+=this.paddingTop,pc(this.heightMap.lineAt(t,Ku.ByPos,this.state.doc,e,0),this.scaler,e)}lineAtHeight(t,e){return e+=this.paddingTop,pc(this.heightMap.lineAt(this.scaler.fromDOM(t,e),Ku.ByHeight,this.state.doc,e,0),this.scaler,e)}blockAtHeight(t,e){return e+=this.paddingTop,pc(this.heightMap.blockAt(this.scaler.fromDOM(t,e),this.state.doc,e,0),this.scaler,e)}forEachLine(t,e,n,r){return r+=this.paddingTop,this.heightMap.forEachLine(t,e,this.state.doc,r,0,1==this.scaler.scale?n:t=>n(pc(t,this.scaler,r)))}get contentHeight(){return this.domHeight+this.paddingTop+this.paddingBottom}get domHeight(){return this.scaler.toDOM(this.heightMap.height,this.paddingTop)}}class sc{constructor(t,e){this.from=t,this.to=e}}function ac({total:t,ranges:e},n){if(n<=0)return e[0].from;if(n>=1)return e[e.length-1].to;let r=Math.floor(t*n);for(let t=0;;t++){let{from:n,to:i}=e[t],o=i-n;if(r<=o)return n+r;r-=o}}function lc(t,e){let n=0;for(let{from:r,to:i}of t.ranges){if(e<=i){n+=e-r;break}n+=i-r}return n/t.total}function uc(t,e,n){for(let r=0;r<t.length;r++){let i=t[r];if(i.from<n&&i.to>e){let o=[];i.from<e&&o.push({from:i.from,to:e}),i.to>n&&o.push({from:n,to:i.to}),t.splice(r,1,...o),r+=o.length-1}}}function cc(t,e){for(let n of t)if(e(n))return n}const hc={toDOM:t=>t,fromDOM:t=>t,scale:1};class fc{constructor(t,e,n){let r=0,i=0,o=0;this.viewports=n.map((({from:n,to:i})=>{let o=e.lineAt(n,Ku.ByPos,t,0,0).top,s=e.lineAt(i,Ku.ByPos,t,0,0).bottom;return r+=s-o,{from:n,to:i,top:o,bottom:s,domTop:0,domBottom:0}})),this.scale=(7e6-r)/(e.height-r);for(let t of this.viewports)t.domTop=o+(t.top-i)*this.scale,o=t.domBottom=t.domTop+(t.bottom-t.top),i=t.bottom}toDOM(t,e){t-=e;for(let n=0,r=0,i=0;;n++){let o=n<this.viewports.length?this.viewports[n]:null;if(!o||t<o.top)return i+(t-r)*this.scale+e;if(t<=o.bottom)return o.domTop+(t-o.top)+e;r=o.bottom,i=o.domBottom}}fromDOM(t,e){t-=e;for(let n=0,r=0,i=0;;n++){let o=n<this.viewports.length?this.viewports[n]:null;if(!o||t<o.domTop)return r+(t-i)/this.scale+e;if(t<=o.domBottom)return o.top+(t-o.domTop)+e;r=o.bottom,i=o.domBottom}}}function pc(t,e,n){if(1==e.scale)return t;let r=e.toDOM(t.top,n),i=e.toDOM(t.bottom,n);return new $u(t.from,t.length,r,i-r,Array.isArray(t.type)?t.type.map((t=>pc(t,e,n))):t.type)}const dc=Xo.define({combine:t=>t.join(" ")}),gc=Xo.define({combine:t=>t.indexOf(!0)>-1}),mc=Is.newName(),_c=Is.newName(),yc=Is.newName(),vc={"&light":"."+_c,"&dark":"."+yc};function bc(t,e,n){return new Is(e,{finish:e=>/&/.test(e)?e.replace(/&\w*/,(e=>{if("&"==e)return t;if(!n||!n[e])throw new RangeError(`Unsupported selector: ${e}`);return n[e]})):t+" "+e})}const wc=bc("."+mc,{"&.cm-editor":{position:"relative !important",boxSizing:"border-box","&.cm-focused":{outline:"1px dotted #212121"},display:"flex !important",flexDirection:"column"},".cm-scroller":{display:"flex !important",alignItems:"flex-start !important",fontFamily:"monospace",lineHeight:1.4,height:"100%",overflowX:"auto",position:"relative",zIndex:0},".cm-content":{margin:0,flexGrow:2,minHeight:"100%",display:"block",whiteSpace:"pre",wordWrap:"normal",boxSizing:"border-box",padding:"4px 0",outline:"none","&[contenteditable=true]":{WebkitUserModify:"read-write-plaintext-only"}},".cm-lineWrapping":{whiteSpace_fallback:"pre-wrap",whiteSpace:"break-spaces",wordBreak:"break-word",overflowWrap:"anywhere"},"&light .cm-content":{caretColor:"black"},"&dark .cm-content":{caretColor:"white"},".cm-line":{display:"block",padding:"0 2px 0 4px"},".cm-selectionLayer":{zIndex:-1,contain:"size style"},".cm-selectionBackground":{position:"absolute"},"&light .cm-selectionBackground":{background:"#d9d9d9"},"&dark .cm-selectionBackground":{background:"#222"},"&light.cm-focused .cm-selectionBackground":{background:"#d7d4f0"},"&dark.cm-focused .cm-selectionBackground":{background:"#233"},".cm-cursorLayer":{zIndex:100,contain:"size style",pointerEvents:"none"},"&.cm-focused .cm-cursorLayer":{animation:"steps(1) cm-blink 1.2s infinite"},"@keyframes cm-blink":{"0%":{},"50%":{visibility:"hidden"},"100%":{}},"@keyframes cm-blink2":{"0%":{},"50%":{visibility:"hidden"},"100%":{}},".cm-cursor":{position:"absolute",borderLeft:"1.2px solid black",marginLeft:"-0.6px",pointerEvents:"none",display:"none"},"&dark .cm-cursor":{borderLeftColor:"#444"},"&.cm-focused .cm-cursor":{display:"block"},"&light .cm-activeLine":{backgroundColor:"#f3f9ff"},"&dark .cm-activeLine":{backgroundColor:"#223039"},"&light .cm-specialChar":{color:"red"},"&dark .cm-specialChar":{color:"#f78"},".cm-tab":{display:"inline-block",overflow:"hidden",verticalAlign:"bottom"},".cm-placeholder":{color:"#888",display:"inline-block"},".cm-button":{verticalAlign:"middle",color:"inherit",fontSize:"70%",padding:".2em 1em",borderRadius:"3px"},"&light .cm-button":{backgroundImage:"linear-gradient(#eff1f5, #d9d9df)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#b4b4b4, #d0d3d6)"}},"&dark .cm-button":{backgroundImage:"linear-gradient(#393939, #111)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#111, #333)"}},".cm-textfield":{verticalAlign:"middle",color:"inherit",fontSize:"70%",border:"1px solid silver",padding:".2em .5em"},"&light .cm-textfield":{backgroundColor:"white"},"&dark .cm-textfield":{border:"1px solid #555",backgroundColor:"inherit"}},vc),xc={childList:!0,characterData:!0,subtree:!0,attributes:!0,characterDataOldValue:!0},kc=Wa.ie&&Wa.ie_version<=11;class Sc{constructor(t,e,n){this.view=t,this.onChange=e,this.onScrollChanged=n,this.active=!1,this.selectionRange=new ka,this.selectionChanged=!1,this.delayedFlush=-1,this.resizeTimeout=-1,this.queue=[],this.scrollTargets=[],this.intersection=null,this.resize=null,this.intersecting=!1,this.gapIntersection=null,this.gaps=[],this.parentCheck=-1,this.dom=t.contentDOM,this.observer=new MutationObserver((e=>{for(let t of e)this.queue.push(t);(Wa.ie&&Wa.ie_version<=11||Wa.ios&&t.composing)&&e.some((t=>"childList"==t.type&&t.removedNodes.length||"characterData"==t.type&&t.oldValue.length>t.target.nodeValue.length))?this.flushSoon():this.flush()})),kc&&(this.onCharData=t=>{this.queue.push({target:t.target,type:"characterData",oldValue:t.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this),"function"==typeof ResizeObserver&&(this.resize=new ResizeObserver((()=>{this.view.docView.lastUpdate<Date.now()-75&&this.resizeTimeout<0&&(this.resizeTimeout=setTimeout((()=>{this.resizeTimeout=-1,this.view.requestMeasure()}),50))})),this.resize.observe(t.scrollDOM)),this.start(),this.onScroll=this.onScroll.bind(this),window.addEventListener("scroll",this.onScroll),"function"==typeof IntersectionObserver&&(this.intersection=new IntersectionObserver((t=>{this.parentCheck<0&&(this.parentCheck=setTimeout(this.listenForScroll.bind(this),1e3)),t.length>0&&t[t.length-1].intersectionRatio>0!=this.intersecting&&(this.intersecting=!this.intersecting,this.intersecting!=this.view.inView&&this.onScrollChanged(document.createEvent("Event")))}),{}),this.intersection.observe(this.dom),this.gapIntersection=new IntersectionObserver((t=>{t.length>0&&t[t.length-1].intersectionRatio>0&&this.onScrollChanged(document.createEvent("Event"))}),{})),this.listenForScroll(),this.readSelectionRange(),this.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)}onScroll(t){this.intersecting&&this.flush(!1),this.onScrollChanged(t)}updateGaps(t){if(this.gapIntersection&&(t.length!=this.gaps.length||this.gaps.some(((e,n)=>e!=t[n])))){this.gapIntersection.disconnect();for(let e of t)this.gapIntersection.observe(e);this.gaps=t}}onSelectionChange(t){if(!this.readSelectionRange())return;let{view:e}=this,n=this.selectionRange;if(e.state.facet(Ml)?e.root.activeElement!=this.dom:!da(e.dom,n))return;let r=n.anchorNode&&e.docView.nearest(n.anchorNode);r&&r.ignoreEvent(t)||(Wa.ie&&Wa.ie_version<=11&&!e.state.selection.main.empty&&n.focusNode&&ma(n.focusNode,n.focusOffset,n.anchorNode,n.anchorOffset)?this.flushSoon():this.flush(!1))}readSelectionRange(){let{root:t}=this.view,e=fa(t),n=Wa.safari&&11==t.nodeType&&function(){let t=document.activeElement;for(;t&&t.shadowRoot;)t=t.shadowRoot.activeElement;return t}()==this.view.contentDOM&&function(t){let e=null;function n(t){t.preventDefault(),t.stopImmediatePropagation(),e=t.getTargetRanges()[0]}if(t.contentDOM.addEventListener("beforeinput",n,!0),document.execCommand("indent"),t.contentDOM.removeEventListener("beforeinput",n,!0),!e)return null;let r=e.startContainer,i=e.startOffset,o=e.endContainer,s=e.endOffset,a=t.docView.domAtPos(t.state.selection.main.anchor);return ma(a.node,a.offset,o,s)&&([r,i,o,s]=[o,s,r,i]),{anchorNode:r,anchorOffset:i,focusNode:o,focusOffset:s}}(this.view)||e;return!this.selectionRange.eq(n)&&(this.selectionRange.setRange(n),this.selectionChanged=!0)}setSelectionRange(t,e){this.selectionRange.set(t.node,t.offset,e.node,e.offset),this.selectionChanged=!1}listenForScroll(){this.parentCheck=-1;let t=0,e=null;for(let n=this.dom;n;)if(1==n.nodeType)!e&&t<this.scrollTargets.length&&this.scrollTargets[t]==n?t++:e||(e=this.scrollTargets.slice(0,t)),e&&e.push(n),n=n.assignedSlot||n.parentNode;else{if(11!=n.nodeType)break;n=n.host}if(t<this.scrollTargets.length&&!e&&(e=this.scrollTargets.slice(0,t)),e){for(let t of this.scrollTargets)t.removeEventListener("scroll",this.onScroll);for(let t of this.scrollTargets=e)t.addEventListener("scroll",this.onScroll)}}ignore(t){if(!this.active)return t();try{return this.stop(),t()}finally{this.start(),this.clear()}}start(){this.active||(this.observer.observe(this.dom,xc),kc&&this.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.active=!0)}stop(){this.active&&(this.active=!1,this.observer.disconnect(),kc&&this.dom.removeEventListener("DOMCharacterDataModified",this.onCharData))}clear(){this.observer.takeRecords(),this.queue.length=0,this.selectionChanged=!1}flushSoon(){this.delayedFlush<0&&(this.delayedFlush=window.setTimeout((()=>{this.delayedFlush=-1,this.flush()}),20))}forceFlush(){this.delayedFlush>=0&&(window.clearTimeout(this.delayedFlush),this.delayedFlush=-1,this.flush())}processRecords(){let t=this.queue;for(let e of this.observer.takeRecords())t.push(e);t.length&&(this.queue=[]);let e=-1,n=-1,r=!1;for(let i of t){let t=this.readMutation(i);t&&(t.typeOver&&(r=!0),-1==e?({from:e,to:n}=t):(e=Math.min(t.from,e),n=Math.max(t.to,n)))}return{from:e,to:n,typeOver:r}}flush(t=!0){if(t&&this.readSelectionRange(),this.delayedFlush>=0||this.view.inputState.pendingAndroidKey)return;let{from:e,to:n,typeOver:r}=this.processRecords(),i=this.selectionChanged&&da(this.dom,this.selectionRange);if(e<0&&!i)return;this.selectionChanged=!1;let o=this.view.state;this.onChange(e,n,r),this.view.state==o&&this.view.docView.reset(i)}readMutation(t){let e=this.view.docView.nearest(t.target);if(!e||e.ignoreMutation(t))return null;if(e.markDirty("attributes"==t.type),"attributes"==t.type&&(e.dirty|=4),"childList"==t.type){let n=Oc(e,t.previousSibling||t.target.previousSibling,-1),r=Oc(e,t.nextSibling||t.target.nextSibling,1);return{from:n?e.posAfter(n):e.posAtStart,to:r?e.posBefore(r):e.posAtEnd,typeOver:!1}}return"characterData"==t.type?{from:e.posAtStart,to:e.posAtEnd,typeOver:t.target.nodeValue==t.oldValue}:null}destroy(){var t,e,n;this.stop(),null===(t=this.intersection)||void 0===t||t.disconnect(),null===(e=this.gapIntersection)||void 0===e||e.disconnect(),null===(n=this.resize)||void 0===n||n.disconnect();for(let t of this.scrollTargets)t.removeEventListener("scroll",this.onScroll);window.removeEventListener("scroll",this.onScroll),clearTimeout(this.parentCheck),clearTimeout(this.resizeTimeout)}}function Oc(t,e,n){for(;e;){let r=Ma.get(e);if(r&&r.parent==t)return r;let i=e.parentNode;e=i!=t.dom?i:n>0?e.nextSibling:e.previousSibling}return null}class Ec{constructor(t,e){this.points=t,this.view=e,this.text="",this.lineBreak=e.state.lineBreak}readRange(t,e){if(!t)return;let n=t.parentNode;for(let r=t;;){this.findPointBefore(n,r),this.readNode(r);let t=r.nextSibling;if(t==e)break;let i=Ma.get(r),o=Ma.get(t);(i&&o?i.breakAfter:(i?i.breakAfter:Cc(r))||Cc(t)&&("BR"!=r.nodeName||r.cmIgnore))&&(this.text+=this.lineBreak),r=t}this.findPointBefore(n,e)}readNode(t){if(t.cmIgnore)return;let e,n=Ma.get(t),r=n&&n.overrideDOMText;null!=r?e=r.sliceString(0,void 0,this.lineBreak):3==t.nodeType?e=t.nodeValue:"BR"==t.nodeName?e=t.nextSibling?this.lineBreak:"":1==t.nodeType&&this.readRange(t.firstChild,null),null!=e&&(this.findPointIn(t,e.length),this.text+=e,Wa.chrome&&13==this.view.inputState.lastKeyCode&&!t.nextSibling&&/\n\n$/.test(this.text)&&(this.text=this.text.slice(0,-1)))}findPointBefore(t,e){for(let n of this.points)n.node==t&&t.childNodes[n.offset]==e&&(n.pos=this.text.length)}findPointIn(t,e){for(let n of this.points)n.node==t&&(n.pos=this.text.length+Math.min(n.offset,e))}}function Cc(t){return 1==t.nodeType&&/^(DIV|P|LI|UL|OL|BLOCKQUOTE|DD|DT|H\d|SECTION|PRE)$/.test(t.nodeName)}class Ac{constructor(t,e){this.node=t,this.offset=e,this.pos=-1}}class Pc{constructor(t={}){this.plugins=[],this.editorAttrs={},this.contentAttrs={},this.bidiCache=[],this.destroyed=!1,this.updateState=2,this.measureScheduled=-1,this.measureRequests=[],this.contentDOM=document.createElement("div"),this.scrollDOM=document.createElement("div"),this.scrollDOM.tabIndex=-1,this.scrollDOM.className="cm-scroller",this.scrollDOM.appendChild(this.contentDOM),this.announceDOM=document.createElement("div"),this.announceDOM.style.cssText="position: absolute; top: -10000px",this.announceDOM.setAttribute("aria-live","polite"),this.dom=document.createElement("div"),this.dom.appendChild(this.announceDOM),this.dom.appendChild(this.scrollDOM),this._dispatch=t.dispatch||(t=>this.update([t])),this.dispatch=this.dispatch.bind(this),this.root=t.root||function(t){for(;t;){if(t&&(9==t.nodeType||11==t.nodeType&&t.host))return t;t=t.assignedSlot||t.parentNode}return null}(t.parent)||document,this.viewState=new oc(t.state||Rs.create()),this.plugins=this.state.facet(jl).map((t=>new Bl(t).update(this))),this.observer=new Sc(this,((t,e,n)=>{!function(t,e,n,r){let i,o,s=t.state.selection.main;if(e>-1){let r=t.docView.domBoundsAround(e,n,0);if(!r||t.state.readOnly)return;let{from:a,to:l}=r,u=t.docView.impreciseHead||t.docView.impreciseAnchor?[]:function(t){let e=[];if(t.root.activeElement!=t.contentDOM)return e;let{anchorNode:n,anchorOffset:r,focusNode:i,focusOffset:o}=t.observer.selectionRange;return n&&(e.push(new Ac(n,r)),i==n&&o==r||e.push(new Ac(i,o))),e}(t),c=new Ec(u,t);c.readRange(r.startDOM,r.endDOM),o=function(t,e){if(0==t.length)return null;let n=t[0].pos,r=2==t.length?t[1].pos:n;return n>-1&&r>-1?$o.single(n+e,r+e):null}(u,a);let h=s.from,f=null;(8===t.inputState.lastKeyCode&&t.inputState.lastKeyTime>Date.now()-100||Wa.android&&c.text.length<l-a)&&(h=s.to,f="end");let p=function(t,e,n,r){let i=Math.min(t.length,e.length),o=0;for(;o<i&&t.charCodeAt(o)==e.charCodeAt(o);)o++;if(o==i&&t.length==e.length)return null;let s=t.length,a=e.length;for(;s>0&&a>0&&t.charCodeAt(s-1)==e.charCodeAt(a-1);)s--,a--;return"end"==r&&(n-=s+Math.max(0,o-Math.min(s,a))-o),s<o&&t.length<e.length?(o-=n<=o&&n>=s?o-n:0,a=o+(a-s),s=o):a<o&&(o-=n<=o&&n>=a?o-n:0,s=o+(s-a),a=o),{from:o,toA:s,toB:a}}(t.state.sliceDoc(a,l),c.text,h-a,f);p&&(i={from:a+p.from,to:a+p.toA,insert:t.state.toText(c.text.slice(p.from,p.toB))})}else if(t.hasFocus||!t.state.facet(Ml)){let e=t.observer.selectionRange,{impreciseHead:n,impreciseAnchor:r}=t.docView,i=n&&n.node==e.focusNode&&n.offset==e.focusOffset||!pa(t.contentDOM,e.focusNode)?t.state.selection.main.head:t.docView.posFromDOM(e.focusNode,e.focusOffset),a=r&&r.node==e.anchorNode&&r.offset==e.anchorOffset||!pa(t.contentDOM,e.anchorNode)?t.state.selection.main.anchor:t.docView.posFromDOM(e.anchorNode,e.anchorOffset);i==s.head&&a==s.anchor||(o=$o.single(a,i))}if(i||o)if(!i&&r&&!s.empty&&o&&o.main.empty?i={from:s.from,to:s.to,insert:t.state.doc.slice(s.from,s.to)}:i&&i.from>=s.from&&i.to<=s.to&&(i.from!=s.from||i.to!=s.to)&&s.to-s.from-(i.to-i.from)<=4&&(i={from:s.from,to:s.to,insert:t.state.doc.slice(s.from,i.from).append(i.insert).append(t.state.doc.slice(i.to,s.to))}),i){let e=t.state;if(Wa.ios&&t.inputState.flushIOSKey(t))return;let n,r=i.insert.toString();if(t.state.facet(Cl).some((e=>e(t,i.from,i.to,r))))return;if(t.inputState.composing>=0&&t.inputState.composing++,i.from>=s.from&&i.to<=s.to&&i.to-i.from>=(s.to-s.from)/3&&(!o||o.main.empty&&o.main.from==i.from+i.insert.length)){let r=s.from<i.from?e.sliceDoc(s.from,i.from):"",o=s.to>i.to?e.sliceDoc(i.to,s.to):"";n=e.replaceSelection(t.state.toText(r+i.insert.sliceString(0,void 0,t.state.lineBreak)+o))}else{let t=e.changes(i);n={changes:t,selection:o&&!e.selection.main.eq(o.main)&&o.main.to<=t.newLength?e.selection.replaceRange(o.main):void 0}}let a="input.type";t.composing&&(a+=".compose",t.inputState.compositionFirstChange&&(a+=".start",t.inputState.compositionFirstChange=!1)),t.dispatch(n,{scrollIntoView:!0,userEvent:a})}else if(o&&!o.main.eq(s)){let e=!1,n="select";t.inputState.lastSelectionTime>Date.now()-50&&("select"==t.inputState.lastSelectionOrigin&&(e=!0),n=t.inputState.lastSelectionOrigin),t.dispatch({selection:o,scrollIntoView:e,userEvent:n})}}(this,t,e,n)}),(t=>{this.inputState.runScrollHandlers(this,t),this.observer.intersecting&&this.measure()})),this.inputState=new xu(this),this.docView=new $l(this),this.mountStyles(),this.updateAttrs(),this.updateState=0,window.addEventListener("resize",(()=>{-1==Rc&&(Rc=setTimeout(Nc,50))})),this.requestMeasure(),t.parent&&t.parent.appendChild(this.dom)}get state(){return this.viewState.state}get viewport(){return this.viewState.viewport}get visibleRanges(){return this.viewState.visibleRanges}get inView(){return this.viewState.inView}get composing(){return this.inputState.composing>0}dispatch(...t){this._dispatch(1==t.length&&t[0]instanceof xs?t[0]:this.state.update(...t))}update(t){if(0!=this.updateState)throw new Error("Calls to EditorView.update are not allowed while an update is in progress");let e,n=!1,r=this.state;for(let e of t){if(e.startState!=r)throw new RangeError("Trying to update state with a transaction that doesn't start from the previous state.");r=e.state}if(this.destroyed)return void(this.viewState.state=r);if(r.facet(Rs.phrases)!=this.state.facet(Rs.phrases))return this.setState(r);e=new Wl(this,r,t);let i=null;try{this.updateState=2;for(let e of t){if(i&&(i=i.map(e.changes)),e.scrollIntoView){let{main:t}=e.state.selection;i=new ic(t.empty?t:$o.cursor(t.head,t.head>t.anchor?-1:1))}for(let t of e.effects)t.is(Al)?i=new ic(t.value):t.is(Pl)&&(i=new ic(t.value,!0))}this.viewState.update(e,i),this.bidiCache=jc.update(this.bidiCache,e.changes),e.empty||(this.updatePlugins(e),this.inputState.update(e)),n=this.docView.update(e),this.state.facet(ql)!=this.styleModules&&this.mountStyles(),this.updateAttrs(),this.showAnnouncements(t),this.docView.updateSelection(n,t.some((t=>t.isUserEvent("select.pointer"))))}finally{this.updateState=0}if((n||i||this.viewState.mustEnforceCursorAssoc)&&this.requestMeasure(),!e.empty)for(let t of this.state.facet(El))t(e)}setState(t){if(0!=this.updateState)throw new Error("Calls to EditorView.setState are not allowed while an update is in progress");if(this.destroyed)this.viewState.state=t;else{this.updateState=2;try{for(let t of this.plugins)t.destroy(this);this.viewState=new oc(t),this.plugins=t.facet(jl).map((t=>new Bl(t).update(this))),this.docView=new $l(this),this.inputState.ensureHandlers(this),this.mountStyles(),this.updateAttrs(),this.bidiCache=[]}finally{this.updateState=0}this.requestMeasure()}}updatePlugins(t){let e=t.startState.facet(jl),n=t.state.facet(jl);if(e!=n){let r=[];for(let i of n){let n=e.indexOf(i);if(n<0)r.push(new Bl(i));else{let e=this.plugins[n];e.mustUpdate=t,r.push(e)}}for(let e of this.plugins)e.mustUpdate!=t&&e.destroy(this);this.plugins=r,this.inputState.ensureHandlers(this)}else for(let e of this.plugins)e.mustUpdate=t;for(let t=0;t<this.plugins.length;t++)this.plugins[t]=this.plugins[t].update(this)}measure(t=!0){if(this.destroyed)return;this.measureScheduled>-1&&cancelAnimationFrame(this.measureScheduled),this.measureScheduled=0,t&&this.observer.flush();let e=null;try{for(let t=0;;t++){this.updateState=1;let n=this.viewport,r=this.viewState.measure(this.docView,t>0);if(!r&&!this.measureRequests.length&&null==this.viewState.scrollTarget)break;if(t>5){console.warn("Viewport failed to stabilize");break}let i=[];4&r||([this.measureRequests,i]=[i,this.measureRequests]);let o=i.map((t=>{try{return t.read(this)}catch(t){return Tl(this.state,t),Dc}})),s=new Wl(this,this.state);s.flags|=r,e?e.flags|=r:e=s,this.updateState=2,s.empty||(this.updatePlugins(s),this.inputState.update(s)),this.updateAttrs();let a=r>0&&this.docView.update(s);for(let t=0;t<i.length;t++)if(o[t]!=Dc)try{i[t].write(o[t],this)}catch(t){Tl(this.state,t)}if(this.viewState.scrollTarget&&(this.docView.scrollIntoView(this.viewState.scrollTarget),this.viewState.scrollTarget=null),r&&this.docView.updateSelection(a),this.viewport.from==n.from&&this.viewport.to==n.to&&0==this.measureRequests.length)break}}finally{this.updateState=0,this.measureScheduled=-1}if(e&&!e.empty)for(let t of this.state.facet(El))t(e)}get themeClasses(){return mc+" "+(this.state.facet(gc)?yc:_c)+" "+this.state.facet(dc)}updateAttrs(){let t=il(this.state.facet(Fl),{class:"cm-editor"+(this.hasFocus?" cm-focused ":" ")+this.themeClasses}),e={spellcheck:"false",autocorrect:"off",autocapitalize:"off",translate:"no",contenteditable:this.state.facet(Ml)?"true":"false",class:"cm-content",style:`${Wa.tabSize}: ${this.state.tabSize}`,role:"textbox","aria-multiline":"true"};this.state.readOnly&&(e["aria-readonly"]="true"),il(this.state.facet(Vl),e),this.observer.ignore((()=>{sl(this.contentDOM,this.contentAttrs,e),sl(this.dom,this.editorAttrs,t)})),this.editorAttrs=t,this.contentAttrs=e}showAnnouncements(t){let e=!0;for(let n of t)for(let t of n.effects)t.is(Pc.announce)&&(e&&(this.announceDOM.textContent=""),e=!1,this.announceDOM.appendChild(document.createElement("div")).textContent=t.value)}mountStyles(){this.styleModules=this.state.facet(ql),Is.mount(this.root,this.styleModules.concat(wc).reverse())}readMeasured(){if(2==this.updateState)throw new Error("Reading the editor layout isn't allowed during an update");0==this.updateState&&this.measureScheduled>-1&&this.measure(!1)}requestMeasure(t){if(this.measureScheduled<0&&(this.measureScheduled=requestAnimationFrame((()=>this.measure()))),t){if(null!=t.key)for(let e=0;e<this.measureRequests.length;e++)if(this.measureRequests[e].key===t.key)return void(this.measureRequests[e]=t);this.measureRequests.push(t)}}pluginField(t){let e=[];for(let n of this.plugins)n.update(this).takeField(t,e);return e}plugin(t){for(let e of this.plugins)if(e.spec==t)return e.update(this).value;return null}blockAtHeight(t,e){return this.readMeasured(),this.viewState.blockAtHeight(t,Mc(e,this.contentDOM))}visualLineAtHeight(t,e){return this.readMeasured(),this.viewState.lineAtHeight(t,Mc(e,this.contentDOM))}viewportLines(t,e){let{from:n,to:r}=this.viewport;this.viewState.forEachLine(n,r,t,Mc(e,this.contentDOM))}visualLineAt(t,e=0){return this.viewState.lineAt(t,e)}get contentHeight(){return this.viewState.contentHeight}moveByChar(t,e,n){return wu(this,t,bu(this,t,e,n))}moveByGroup(t,e){return wu(this,t,bu(this,t,e,(e=>function(t,e,n){let r=t.state.charCategorizer(e),i=r(n);return t=>{let e=r(t);return i==Ps.Space&&(i=e),i==e}}(this,t.head,e))))}moveToLineBoundary(t,e,n=!0){return function(t,e,n,r){let i=t.state.doc.lineAt(e.head),o=r&&t.lineWrapping?t.coordsAtPos(e.assoc<0&&e.head>i.from?e.head-1:e.head):null;if(o){let e=t.dom.getBoundingClientRect(),r=t.posAtCoords({x:n==(t.textDirection==Jl.LTR)?e.right-1:e.left+1,y:(o.top+o.bottom)/2});if(null!=r)return $o.cursor(r,n?-1:1)}let s=gl.find(t.docView,e.head),a=s?n?s.posAtEnd:s.posAtStart:n?i.to:i.from;return $o.cursor(a,n?-1:1)}(this,t,e,n)}moveVertically(t,e,n){return wu(this,t,function(t,e,n,r){let i=e.head,o=n?1:-1;if(i==(n?t.state.doc.length:0))return $o.cursor(i);let s,a=e.goalColumn,l=t.contentDOM.getBoundingClientRect(),u=t.coordsAtPos(i);if(u)null==a&&(a=u.left-l.left),s=o<0?u.top:u.bottom;else{let e=t.viewState.lineAt(i,t.dom.getBoundingClientRect().top);null==a&&(a=Math.min(l.right-l.left,t.defaultCharacterWidth*(i-e.from))),s=o<0?e.top:e.bottom}let c=l.left+a,h=null!=r?r:t.defaultLineHeight>>1;for(let e=0;;e+=10){let n=s+(h+e)*o,r=yu(t,{x:c,y:n},!1,o);if(n<l.top||n>l.bottom||(o<0?r<i:r>i))return $o.cursor(r,void 0,void 0,a)}}(this,t,e,n))}scrollPosIntoView(t){this.dispatch({effects:Al.of($o.cursor(t))})}domAtPos(t){return this.docView.domAtPos(t)}posAtDOM(t,e=0){return this.docView.posFromDOM(t,e)}posAtCoords(t,e=!0){return this.readMeasured(),yu(this,t,e)}coordsAtPos(t,e=1){this.readMeasured();let n=this.docView.coordsAt(t,e);if(!n||n.left==n.right)return n;let r=this.state.doc.lineAt(t),i=this.bidiSpans(r);return wa(n,i[su.find(i,t-r.from,-1,e)].dir==Jl.LTR==e>0)}get defaultCharacterWidth(){return this.viewState.heightOracle.charWidth}get defaultLineHeight(){return this.viewState.heightOracle.lineHeight}get textDirection(){return this.viewState.heightOracle.direction}get lineWrapping(){return this.viewState.heightOracle.lineWrapping}bidiSpans(t){if(t.length>Tc)return lu(t.length);let e=this.textDirection;for(let n of this.bidiCache)if(n.from==t.from&&n.dir==e)return n.order;let n=function(t,e){let n=t.length,r=e==Yl?1:2,i=e==Yl?2:1;if(!t||1==r&&!ou.test(t))return lu(n);for(let e=0,i=r,s=r;e<n;e++){let n=(o=t.charCodeAt(e))<=247?eu[o]:1424<=o&&o<=1524?2:1536<=o&&o<=1785?nu[o-1536]:1774<=o&&o<=2220?4:8192<=o&&o<=8203||8204==o?256:1;512==n?n=i:8==n&&4==s&&(n=16),au[e]=4==n?2:n,7&n&&(s=n),i=n}var o;for(let t=0,e=r,i=r;t<n;t++){let r=au[t];if(128==r)t<n-1&&e==au[t+1]&&24&e?r=au[t]=e:au[t]=256;else if(64==r){let r=t+1;for(;r<n&&64==au[r];)r++;let o=t&&8==e||r<n&&8==au[r]?1==i?1:8:256;for(let e=t;e<r;e++)au[e]=o;t=r-1}else 8==r&&1==i&&(au[t]=1);e=r,7&r&&(i=r)}for(let e,o,s,a=0,l=0,u=0;a<n;a++)if(o=ru[e=t.charCodeAt(a)])if(o<0){for(let t=l-3;t>=0;t-=3)if(iu[t+1]==-o){let e=iu[t+2],n=2&e?r:4&e?1&e?i:r:0;n&&(au[a]=au[iu[t]]=n),l=t;break}}else{if(189==iu.length)break;iu[l++]=a,iu[l++]=e,iu[l++]=u}else if(2==(s=au[a])||1==s){let t=s==r;u=t?0:1;for(let e=l-3;e>=0;e-=3){let n=iu[e+2];if(2&n)break;if(t)iu[e+2]|=2;else{if(4&n)break;iu[e+2]|=4}}}for(let t=0;t<n;t++)if(256==au[t]){let e=t+1;for(;e<n&&256==au[e];)e++;let i=1==(t?au[t-1]:r),o=i==(1==(e<n?au[e]:r))?i?1:2:r;for(let n=t;n<e;n++)au[n]=o;t=e-1}let s=[];if(1==r)for(let t=0;t<n;){let e=t,r=1!=au[t++];for(;t<n&&r==(1!=au[t]);)t++;if(r)for(let n=t;n>e;){let t=n,r=2!=au[--n];for(;n>e&&r==(2!=au[n-1]);)n--;s.push(new su(n,t,r?2:1))}else s.push(new su(e,t,0))}else for(let t=0;t<n;){let e=t,r=2==au[t++];for(;t<n&&r==(2==au[t]);)t++;s.push(new su(e,t,r?1:2))}return s}(t.text,this.textDirection);return this.bidiCache.push(new jc(t.from,t.to,e,n)),n}get hasFocus(){var t;return(document.hasFocus()||Wa.safari&&(null===(t=this.inputState)||void 0===t?void 0:t.lastContextMenu)>Date.now()-3e4)&&this.root.activeElement==this.contentDOM}focus(){this.observer.ignore((()=>{Ea(this.contentDOM),this.docView.updateSelection()}))}destroy(){for(let t of this.plugins)t.destroy(this);this.plugins=[],this.inputState.destroy(),this.dom.remove(),this.observer.destroy(),this.measureScheduled>-1&&cancelAnimationFrame(this.measureScheduled),this.destroyed=!0}static domEventHandlers(t){return Ll.define((()=>({})),{eventHandlers:t})}static theme(t,e){let n=Is.newName(),r=[dc.of(n),ql.of(bc(`.${n}`,t))];return e&&e.dark&&r.push(gc.of(!0)),r}static baseTheme(t){return rs.lowest(ql.of(bc("."+mc,t,vc)))}}Pc.scrollTo=Al,Pc.centerOn=Pl,Pc.styleModule=ql,Pc.inputHandler=Cl,Pc.exceptionSink=Ol,Pc.updateListener=El,Pc.editable=Ml,Pc.mouseSelectionStyle=Sl,Pc.dragMovesSelection=kl,Pc.clickAddsSelectionRange=xl,Pc.decorations=Ul,Pc.contentAttributes=Vl,Pc.editorAttributes=Fl,Pc.lineWrapping=Pc.contentAttributes.of({class:"cm-lineWrapping"}),Pc.announce=ws.define();const Tc=4096;function Mc(t,e){return null==t?e.getBoundingClientRect().top:t}let Rc=-1;function Nc(){Rc=-1;let t=document.querySelectorAll(".cm-content");for(let e=0;e<t.length;e++){let n=Ma.get(t[e]);n&&n.editorView.requestMeasure()}}const Dc={};class jc{constructor(t,e,n,r){this.from=t,this.to=e,this.dir=n,this.order=r}static update(t,e){if(e.empty)return t;let n=[],r=t.length?t[t.length-1].dir:Jl.LTR;for(let i=Math.max(0,t.length-10);i<t.length;i++){let o=t[i];o.dir!=r||e.touchesRange(o.from,o.to)||n.push(new jc(e.mapPos(o.from,1),e.mapPos(o.to,-1),o.dir,o.order))}return n}}const Lc=Wa.mac?"mac":Wa.windows?"win":Wa.linux?"linux":"key";function Ic(t,e,n){return e.altKey&&(t="Alt-"+t),e.ctrlKey&&(t="Ctrl-"+t),e.metaKey&&(t="Meta-"+t),!1!==n&&e.shiftKey&&(t="Shift-"+t),t}const Bc=Pc.domEventHandlers({keydown:(t,e)=>qc(Vc(e.state),t,e,"editor")}),zc=Xo.define({enables:Bc}),Fc=new WeakMap;function Vc(t){let e=t.facet(zc),n=Fc.get(e);return n||Fc.set(e,n=function(t,e=Lc){let n=Object.create(null),r=Object.create(null),i=(t,e)=>{let n=r[t];if(null==n)r[t]=e;else if(n!=e)throw new Error("Key binding "+t+" is used both as a regular binding and as a multi-stroke prefix")},o=(t,r,o,s)=>{let a=n[t]||(n[t]=Object.create(null)),l=r.split(/ (?!$)/).map((t=>function(t,e){const n=t.split(/-(?!$)/);let r,i,o,s,a=n[n.length-1];"Space"==a&&(a=" ");for(let t=0;t<n.length-1;++t){const a=n[t];if(/^(cmd|meta|m)$/i.test(a))s=!0;else if(/^a(lt)?$/i.test(a))r=!0;else if(/^(c|ctrl|control)$/i.test(a))i=!0;else if(/^s(hift)?$/i.test(a))o=!0;else{if(!/^mod$/i.test(a))throw new Error("Unrecognized modifier name: "+a);"mac"==e?s=!0:i=!0}}return r&&(a="Alt-"+a),i&&(a="Ctrl-"+a),s&&(a="Meta-"+a),o&&(a="Shift-"+a),a}(t,e)));for(let e=1;e<l.length;e++){let n=l.slice(0,e).join(" ");i(n,!0),a[n]||(a[n]={preventDefault:!0,commands:[e=>{let r=Uc={view:e,prefix:n,scope:t};return setTimeout((()=>{Uc==r&&(Uc=null)}),4e3),!0}]})}let u=l.join(" ");i(u,!1);let c=a[u]||(a[u]={preventDefault:!1,commands:[]});c.commands.push(o),s&&(c.preventDefault=!0)};for(let n of t){let t=n[e]||n.key;if(t)for(let e of n.scope?n.scope.split(" "):["editor"])o(e,t,n.run,n.preventDefault),n.shift&&o(e,"Shift-"+t,n.shift,n.preventDefault)}return n}(e.reduce(((t,e)=>t.concat(e)),[]))),n}let Uc=null;function qc(t,e,n,r){let i=function(t){var e=!(ua&&(t.ctrlKey||t.altKey||t.metaKey)||(oa||la)&&t.shiftKey&&t.key&&1==t.key.length)&&t.key||(t.shiftKey?ra:na)[t.keyCode]||t.key||"Unidentified";return"Esc"==e&&(e="Escape"),"Del"==e&&(e="Delete"),"Left"==e&&(e="ArrowLeft"),"Up"==e&&(e="ArrowUp"),"Right"==e&&(e="ArrowRight"),"Down"==e&&(e="ArrowDown"),e}(e),o=1==i.length&&" "!=i,s="",a=!1;Uc&&Uc.view==n&&Uc.scope==r&&(s=Uc.prefix+" ",(a=Su.indexOf(e.keyCode)<0)&&(Uc=null));let l,u=t=>{if(t){for(let e of t.commands)if(e(n))return!0;t.preventDefault&&(a=!0)}return!1},c=t[r];if(c){if(u(c[s+Ic(i,e,!o)]))return!0;if(o&&(e.shiftKey||e.altKey||e.metaKey)&&(l=na[e.keyCode])&&l!=i){if(u(c[s+Ic(l,e,!0)]))return!0}else if(o&&e.shiftKey&&u(c[s+Ic(i,e,!0)]))return!0}return a}const Hc=!Wa.ios,Wc=Xo.define({combine:t=>Ns(t,{cursorBlinkRate:1200,drawRangeCursor:!0},{cursorBlinkRate:(t,e)=>Math.min(t,e),drawRangeCursor:(t,e)=>t||e})});function $c(t={}){return[Wc.of(t),Qc,Xc]}class Kc{constructor(t,e,n,r,i){this.left=t,this.top=e,this.width=n,this.height=r,this.className=i}draw(){let t=document.createElement("div");return t.className=this.className,this.adjust(t),t}adjust(t){t.style.left=this.left+"px",t.style.top=this.top+"px",this.width>=0&&(t.style.width=this.width+"px"),t.style.height=this.height+"px"}eq(t){return this.left==t.left&&this.top==t.top&&this.width==t.width&&this.height==t.height&&this.className==t.className}}const Qc=Ll.fromClass(class{constructor(t){this.view=t,this.rangePieces=[],this.cursors=[],this.measureReq={read:this.readPos.bind(this),write:this.drawSel.bind(this)},this.selectionLayer=t.scrollDOM.appendChild(document.createElement("div")),this.selectionLayer.className="cm-selectionLayer",this.selectionLayer.setAttribute("aria-hidden","true"),this.cursorLayer=t.scrollDOM.appendChild(document.createElement("div")),this.cursorLayer.className="cm-cursorLayer",this.cursorLayer.setAttribute("aria-hidden","true"),t.requestMeasure(this.measureReq),this.setBlinkRate()}setBlinkRate(){this.cursorLayer.style.animationDuration=this.view.state.facet(Wc).cursorBlinkRate+"ms"}update(t){let e=t.startState.facet(Wc)!=t.state.facet(Wc);(e||t.selectionSet||t.geometryChanged||t.viewportChanged)&&this.view.requestMeasure(this.measureReq),t.transactions.some((t=>t.scrollIntoView))&&(this.cursorLayer.style.animationName="cm-blink"==this.cursorLayer.style.animationName?"cm-blink2":"cm-blink"),e&&this.setBlinkRate()}readPos(){let{state:t}=this.view,e=t.facet(Wc),n=t.selection.ranges.map((t=>t.empty?[]:function(t,e){if(e.to<=t.viewport.from||e.from>=t.viewport.to)return[];let n=Math.max(e.from,t.viewport.from),r=Math.min(e.to,t.viewport.to),i=t.textDirection==Jl.LTR,o=t.contentDOM,s=o.getBoundingClientRect(),a=Jc(t),l=window.getComputedStyle(o.firstChild),u=s.left+parseInt(l.paddingLeft),c=s.right-parseInt(l.paddingRight),h=Zc(t,n),f=Zc(t,r),p=h.type==ll.Text?h:null,d=f.type==ll.Text?f:null;if(t.lineWrapping&&(p&&(p=Yc(t,n,p)),d&&(d=Yc(t,r,d))),p&&d&&p.from==d.from)return m(_(e.from,e.to,p));{let n=p?_(e.from,null,p):y(h,!1),r=d?_(null,e.to,d):y(f,!0),i=[];return(p||h).to<(d||f).from-1?i.push(g(u,n.bottom,c,r.top)):n.bottom<r.top&&Zc(t,(n.bottom+r.top)/2).type==ll.Text&&(n.bottom=r.top=(n.bottom+r.top)/2),m(n).concat(i).concat(m(r))}function g(t,e,n,r){return new Kc(t-a.left,e-a.top,n-t,r-e,"cm-selectionBackground")}function m({top:t,bottom:e,horizontal:n}){let r=[];for(let i=0;i<n.length;i+=2)r.push(g(n[i],t,n[i+1],e));return r}function _(e,n,r){let o=1e9,s=-1e9,a=[];function l(e,n,l,h,f){let p=t.coordsAtPos(e,e==r.to?-2:2),d=t.coordsAtPos(l,l==r.from?2:-2);o=Math.min(p.top,d.top,o),s=Math.max(p.bottom,d.bottom,s),f==Jl.LTR?a.push(i&&n?u:p.left,i&&h?c:d.right):a.push(!i&&h?u:d.left,!i&&n?c:p.right)}let h=null!=e?e:r.from,f=null!=n?n:r.to;for(let r of t.visibleRanges)if(r.to>h&&r.from<f)for(let i=Math.max(r.from,h),o=Math.min(r.to,f);;){let r=t.state.doc.lineAt(i);for(let s of t.bidiSpans(r)){let t=s.from+r.from,a=s.to+r.from;if(t>=o)break;a>i&&l(Math.max(t,i),null==e&&t<=h,Math.min(a,o),null==n&&a>=f,s.dir)}if(i=r.to+1,i>=o)break}return 0==a.length&&l(h,null==e,f,null==n,t.textDirection),{top:o,bottom:s,horizontal:a}}function y(t,e){let n=s.top+(e?t.top:t.bottom);return{top:n,bottom:n,horizontal:[]}}}(this.view,t))).reduce(((t,e)=>t.concat(e))),r=[];for(let n of t.selection.ranges){let i=n==t.selection.main;if(n.empty?!i||Hc:e.drawRangeCursor){let t=th(this.view,n,i);t&&r.push(t)}}return{rangePieces:n,cursors:r}}drawSel({rangePieces:t,cursors:e}){if(t.length!=this.rangePieces.length||t.some(((t,e)=>!t.eq(this.rangePieces[e])))){this.selectionLayer.textContent="";for(let e of t)this.selectionLayer.appendChild(e.draw());this.rangePieces=t}if(e.length!=this.cursors.length||e.some(((t,e)=>!t.eq(this.cursors[e])))){let t=this.cursorLayer.children;if(t.length!==e.length){this.cursorLayer.textContent="";for(const t of e)this.cursorLayer.appendChild(t.draw())}else e.forEach(((e,n)=>e.adjust(t[n])));this.cursors=e}}destroy(){this.selectionLayer.remove(),this.cursorLayer.remove()}}),Gc={".cm-line":{"& ::selection":{backgroundColor:"transparent !important"},"&::selection":{backgroundColor:"transparent !important"}}};Hc&&(Gc[".cm-line"].caretColor="transparent !important");const Xc=rs.highest(Pc.theme(Gc));function Jc(t){let e=t.scrollDOM.getBoundingClientRect();return{left:(t.textDirection==Jl.LTR?e.left:e.right-t.scrollDOM.clientWidth)-t.scrollDOM.scrollLeft,top:e.top-t.scrollDOM.scrollTop}}function Yc(t,e,n){let r=$o.cursor(e);return{from:Math.max(n.from,t.moveToLineBoundary(r,!1,!0).from),to:Math.min(n.to,t.moveToLineBoundary(r,!0,!0).from),type:ll.Text}}function Zc(t,e){let n=t.visualLineAt(e);if(Array.isArray(n.type))for(let t of n.type)if(t.to>e||t.to==e&&(t.to==n.to||t.type==ll.Text))return t;return n}function th(t,e,n){let r=t.coordsAtPos(e.head,e.assoc||1);if(!r)return null;let i=Jc(t);return new Kc(r.left-i.left,r.top-i.top,-1,r.bottom-r.top,n?"cm-cursor cm-cursor-primary":"cm-cursor cm-cursor-secondary")}function eh(t,e,n,r,i){e.lastIndex=0;for(let o,s=t.iterRange(n,r),a=n;!s.next().done;a+=s.value.length)if(!s.lineBreak)for(;o=e.exec(s.value);)i(a+o.index,a+o.index+o[0].length,o)}class nh{constructor(t){let{regexp:e,decoration:n,boundary:r}=t;if(!e.global)throw new RangeError("The regular expression given to MatchDecorator should have its 'g' flag set");this.regexp=e,this.getDeco="function"==typeof n?n:()=>n,this.boundary=r}createDeco(t){let e=new Ws;for(let{from:n,to:r}of t.visibleRanges)eh(t.state.doc,this.regexp,n,r,((n,r,i)=>e.add(n,r,this.getDeco(i,t,n))));return e.finish()}updateDeco(t,e){let n=1e9,r=-1;return t.docChanged&&t.changes.iterChanges(((e,i,o,s)=>{s>t.view.viewport.from&&o<t.view.viewport.to&&(n=Math.min(o,n),r=Math.max(s,r))})),t.viewportChanged||r-n>1e3?this.createDeco(t.view):r>-1?this.updateRange(t.view,e.map(t.changes),n,r):e}updateRange(t,e,n,r){for(let i of t.visibleRanges){let o=Math.max(i.from,n),s=Math.min(i.to,r);if(s>o){let n=t.state.doc.lineAt(o),r=n.to<s?t.state.doc.lineAt(s):n,a=Math.max(i.from,n.from),l=Math.min(i.to,r.to);if(this.boundary){for(;o>n.from;o--)if(this.boundary.test(n.text[o-1-n.from])){a=o;break}for(;s<r.to;s++)if(this.boundary.test(r.text[s-r.from])){l=s;break}}let u,c=[];if(n==r)for(this.regexp.lastIndex=a-n.from;(u=this.regexp.exec(n.text))&&u.index<l-n.from;){let e=u.index+n.from;c.push(this.getDeco(u,t,e).range(e,e+u[0].length))}else eh(t.state.doc,this.regexp,a,l,((e,n,r)=>c.push(this.getDeco(r,t,e).range(e,n))));e=e.update({filterFrom:a,filterTo:l,filter:(t,e)=>t<a||e>l,add:c})}}return e}}const rh=null!=/x/.unicode?"gu":"g",ih=new RegExp("[\0-\b\n--­؜​‎‏\u2028\u2029‭‮\ufeff￹-￼]",rh),oh={0:"null",7:"bell",8:"backspace",10:"newline",11:"vertical tab",13:"carriage return",27:"escape",8203:"zero width space",8204:"zero width non-joiner",8205:"zero width joiner",8206:"left-to-right mark",8207:"right-to-left mark",8232:"line separator",8237:"left-to-right override",8238:"right-to-left override",8233:"paragraph separator",65279:"zero width no-break space",65532:"object replacement"};let sh=null;const ah=Xo.define({combine(t){let e=Ns(t,{render:null,specialChars:ih,addSpecialChars:null});return(e.replaceTabs=!function(){var t;if(null==sh&&"undefined"!=typeof document&&document.body){let e=document.body.style;sh=null!=(null!==(t=e.tabSize)&&void 0!==t?t:e.MozTabSize)}return sh||!1}())&&(e.specialChars=new RegExp("\t|"+e.specialChars.source,rh)),e.addSpecialChars&&(e.specialChars=new RegExp(e.specialChars.source+"|"+e.addSpecialChars.source,rh)),e}});function lh(t={}){return[ah.of(t),uh||(uh=Ll.fromClass(class{constructor(t){this.view=t,this.decorations=ul.none,this.decorationCache=Object.create(null),this.decorator=this.makeDecorator(t.state.facet(ah)),this.decorations=this.decorator.createDeco(t)}makeDecorator(t){return new nh({regexp:t.specialChars,decoration:(e,n,r)=>{let{doc:i}=n.state,o=wo(e[0],0);if(9==o){let t=i.lineAt(r),e=n.state.tabSize,o=So(t.text,e,r-t.from);return ul.replace({widget:new hh((e-o%e)*this.view.defaultCharacterWidth)})}return this.decorationCache[o]||(this.decorationCache[o]=ul.replace({widget:new ch(t,o)}))},boundary:t.replaceTabs?void 0:/[^]/})}update(t){let e=t.state.facet(ah);t.startState.facet(ah)!=e?(this.decorator=this.makeDecorator(e),this.decorations=this.decorator.createDeco(t.view)):this.decorations=this.decorator.updateDeco(t,this.decorations)}},{decorations:t=>t.decorations}))]}let uh=null;class ch extends al{constructor(t,e){super(),this.options=t,this.code=e}eq(t){return t.code==this.code}toDOM(t){let e=function(t){return t>=32?"•":10==t?"␤":String.fromCharCode(9216+t)}(this.code),n=t.state.phrase("Control character")+" "+(oh[this.code]||"0x"+this.code.toString(16)),r=this.options.render&&this.options.render(this.code,n,e);if(r)return r;let i=document.createElement("span");return i.textContent=e,i.title=n,i.setAttribute("aria-label",n),i.className="cm-specialChar",i}ignoreEvent(){return!1}}class hh extends al{constructor(t){super(),this.width=t}eq(t){return t.width==this.width}toDOM(){let t=document.createElement("span");return t.textContent="\t",t.className="cm-tab",t.style.width=this.width+"px",t}ignoreEvent(){return!1}}function fh(){return dh}const ph=ul.line({class:"cm-activeLine"}),dh=Ll.fromClass(class{constructor(t){this.decorations=this.getDeco(t)}update(t){(t.docChanged||t.selectionSet)&&(this.decorations=this.getDeco(t.view))}getDeco(t){let e=-1,n=[];for(let r of t.state.selection.ranges){if(!r.empty)return ul.none;let i=t.visualLineAt(r.head);i.from>e&&(n.push(ph.range(i.from)),e=i.from)}return ul.set(n)}},{decorations:t=>t.decorations});class gh extends al{constructor(t){super(),this.content=t}toDOM(){let t=document.createElement("span");return t.className="cm-placeholder",t.style.pointerEvents="none",t.appendChild("string"==typeof this.content?document.createTextNode(this.content):this.content),"string"==typeof this.content?t.setAttribute("aria-label","placeholder "+this.content):t.setAttribute("aria-hidden","true"),t}ignoreEvent(){return!1}}const mh=ys.define(),_h=ys.define(),yh=Xo.define(),vh=Xo.define({combine:t=>Ns(t,{minDepth:100,newGroupDelay:500},{minDepth:Math.max,newGroupDelay:Math.min})}),bh=es.define({create:()=>jh.empty,update(t,e){let n=e.state.facet(vh),r=e.annotation(mh);if(r){let i=Ch.fromTransaction(e),o=r.side,s=0==o?t.undone:t.done;return s=i?Ah(s,s.length,n.minDepth,i):Mh(s,e.startState.selection),new jh(0==o?r.rest:s,0==o?s:r.rest)}let i=e.annotation(_h);if("full"!=i&&"before"!=i||(t=t.isolate()),!1===e.annotation(xs.addToHistory))return e.changes.empty?t:t.addMapping(e.changes.desc);let o=Ch.fromTransaction(e),s=e.annotation(xs.time),a=e.annotation(xs.userEvent);return o?t=t.addChanges(o,s,a,n.newGroupDelay,n.minDepth):e.selection&&(t=t.addSelection(e.startState.selection,s,a,n.newGroupDelay)),"full"!=i&&"after"!=i||(t=t.isolate()),t},toJSON:t=>({done:t.done.map((t=>t.toJSON())),undone:t.undone.map((t=>t.toJSON()))}),fromJSON:t=>new jh(t.done.map(Ch.fromJSON),t.undone.map(Ch.fromJSON))});function wh(t={}){return[bh,vh.of(t),Pc.domEventHandlers({beforeinput:(t,e)=>"historyUndo"==t.inputType?kh(e):"historyRedo"==t.inputType&&Sh(e)})]}function xh(t,e){return function({state:n,dispatch:r}){let i=n.field(bh,!1);if(!i)return!1;let o=i.pop(t,n,e);return!!o&&(r(o),!0)}}const kh=xh(0,!1),Sh=xh(1,!1),Oh=xh(0,!0),Eh=xh(1,!0);class Ch{constructor(t,e,n,r,i){this.changes=t,this.effects=e,this.mapped=n,this.startSelection=r,this.selectionsAfter=i}setSelAfter(t){return new Ch(this.changes,this.effects,this.mapped,this.startSelection,t)}toJSON(){var t,e,n;return{changes:null===(t=this.changes)||void 0===t?void 0:t.toJSON(),mapped:null===(e=this.mapped)||void 0===e?void 0:e.toJSON(),startSelection:null===(n=this.startSelection)||void 0===n?void 0:n.toJSON(),selectionsAfter:this.selectionsAfter.map((t=>t.toJSON()))}}static fromJSON(t){return new Ch(t.changes&&Bo.fromJSON(t.changes),[],t.mapped&&Io.fromJSON(t.mapped),t.startSelection&&$o.fromJSON(t.startSelection),t.selectionsAfter.map($o.fromJSON))}static fromTransaction(t){let e=Th;for(let n of t.startState.facet(yh)){let r=n(t);r.length&&(e=e.concat(r))}return!e.length&&t.changes.empty?null:new Ch(t.changes.invert(t.startState.doc),e,void 0,t.startState.selection,Th)}static selection(t){return new Ch(void 0,Th,void 0,void 0,t)}}function Ah(t,e,n,r){let i=e+1>n+20?e-n-1:0,o=t.slice(i,e);return o.push(r),o}function Ph(t,e){return t.length?e.length?t.concat(e):t:e}const Th=[];function Mh(t,e){if(t.length){let n=t[t.length-1],r=n.selectionsAfter.slice(Math.max(0,n.selectionsAfter.length-200));return r.length&&r[r.length-1].eq(e)?t:(r.push(e),Ah(t,t.length-1,1e9,n.setSelAfter(r)))}return[Ch.selection([e])]}function Rh(t){let e=t[t.length-1],n=t.slice();return n[t.length-1]=e.setSelAfter(e.selectionsAfter.slice(0,e.selectionsAfter.length-1)),n}function Nh(t,e){if(!t.length)return t;let n=t.length,r=Th;for(;n;){let i=Dh(t[n-1],e,r);if(i.changes&&!i.changes.empty||i.effects.length){let e=t.slice(0,n);return e[n-1]=i,e}e=i.mapped,n--,r=i.selectionsAfter}return r.length?[Ch.selection(r)]:Th}function Dh(t,e,n){let r=Ph(t.selectionsAfter.length?t.selectionsAfter.map((t=>t.map(e))):Th,n);if(!t.changes)return Ch.selection(r);let i=t.changes.map(e),o=e.mapDesc(t.changes,!0),s=t.mapped?t.mapped.composeDesc(o):o;return new Ch(i,ws.mapEffects(t.effects,e),s,t.startSelection.map(o),r)}class jh{constructor(t,e,n=0,r){this.done=t,this.undone=e,this.prevTime=n,this.prevUserEvent=r}isolate(){return this.prevTime?new jh(this.done,this.undone):this}addChanges(t,e,n,r,i){let o=this.done,s=o[o.length-1];return o=s&&s.changes&&!s.changes.empty&&t.changes&&(!s.selectionsAfter.length&&e-this.prevTime<r&&function(t,e){let n=[],r=!1;return t.iterChangedRanges(((t,e)=>n.push(t,e))),e.iterChangedRanges(((t,e,i,o)=>{for(let t=0;t<n.length;){let e=n[t++],s=n[t++];o>=e&&i<=s&&(r=!0)}})),r}(s.changes,t.changes)||"input.type.compose"==n)?Ah(o,o.length-1,i,new Ch(t.changes.compose(s.changes),Ph(t.effects,s.effects),s.mapped,s.startSelection,Th)):Ah(o,o.length,i,t),new jh(o,Th,e,n)}addSelection(t,e,n,r){let i=this.done.length?this.done[this.done.length-1].selectionsAfter:Th;return i.length>0&&e-this.prevTime<r&&n==this.prevUserEvent&&n&&/^select($|\.)/.test(n)&&function(t,e){return t.ranges.length==e.ranges.length&&0===t.ranges.filter(((t,n)=>t.empty!=e.ranges[n].empty)).length}(i[i.length-1],t)?this:new jh(Mh(this.done,t),this.undone,e,n)}addMapping(t){return new jh(Nh(this.done,t),Nh(this.undone,t),this.prevTime,this.prevUserEvent)}pop(t,e,n){let r=0==t?this.done:this.undone;if(0==r.length)return null;let i=r[r.length-1];if(n&&i.selectionsAfter.length)return e.update({selection:i.selectionsAfter[i.selectionsAfter.length-1],annotations:mh.of({side:t,rest:Rh(r)}),userEvent:0==t?"select.undo":"select.redo"});if(i.changes){let n=1==r.length?Th:r.slice(0,r.length-1);return i.mapped&&(n=Nh(n,i.mapped)),e.update({changes:i.changes,selection:i.startSelection,effects:i.effects,annotations:mh.of({side:t,rest:n}),filter:!1,userEvent:0==t?"undo":"redo"})}return null}}jh.empty=new jh(Th,Th);const Lh=[{key:"Mod-z",run:kh,preventDefault:!0},{key:"Mod-y",mac:"Mod-Shift-z",run:Sh,preventDefault:!0},{key:"Mod-u",run:Oh,preventDefault:!0},{key:"Alt-u",mac:"Mod-Shift-u",run:Eh,preventDefault:!0}],Ih=1024;let Bh=0;class zh{constructor(t,e){this.from=t,this.to=e}}class Fh{constructor(t={}){this.id=Bh++,this.perNode=!!t.perNode,this.deserialize=t.deserialize||(()=>{throw new Error("This node type doesn't define a deserialize function")})}add(t){if(this.perNode)throw new RangeError("Can't add per-node props to node types");return"function"!=typeof t&&(t=Uh.match(t)),e=>{let n=t(e);return void 0===n?null:[this,n]}}}Fh.closedBy=new Fh({deserialize:t=>t.split(" ")}),Fh.openedBy=new Fh({deserialize:t=>t.split(" ")}),Fh.group=new Fh({deserialize:t=>t.split(" ")}),Fh.contextHash=new Fh({perNode:!0}),Fh.lookAhead=new Fh({perNode:!0}),Fh.mounted=new Fh({perNode:!0});const Vh=Object.create(null);class Uh{constructor(t,e,n,r=0){this.name=t,this.props=e,this.id=n,this.flags=r}static define(t){let e=t.props&&t.props.length?Object.create(null):Vh,n=(t.top?1:0)|(t.skipped?2:0)|(t.error?4:0)|(null==t.name?8:0),r=new Uh(t.name||"",e,t.id,n);if(t.props)for(let n of t.props)if(Array.isArray(n)||(n=n(r)),n){if(n[0].perNode)throw new RangeError("Can't store a per-node prop on a node type");e[n[0].id]=n[1]}return r}prop(t){return this.props[t.id]}get isTop(){return(1&this.flags)>0}get isSkipped(){return(2&this.flags)>0}get isError(){return(4&this.flags)>0}get isAnonymous(){return(8&this.flags)>0}is(t){if("string"==typeof t){if(this.name==t)return!0;let e=this.prop(Fh.group);return!!e&&e.indexOf(t)>-1}return this.id==t}static match(t){let e=Object.create(null);for(let n in t)for(let r of n.split(" "))e[r]=t[n];return t=>{for(let n=t.prop(Fh.group),r=-1;r<(n?n.length:0);r++){let i=e[r<0?t.name:n[r]];if(i)return i}}}}Uh.none=new Uh("",Object.create(null),0,8);class qh{constructor(t){this.types=t;for(let e=0;e<t.length;e++)if(t[e].id!=e)throw new RangeError("Node type ids should correspond to array positions when creating a node set")}extend(...t){let e=[];for(let n of this.types){let r=null;for(let e of t){let t=e(n);t&&(r||(r=Object.assign({},n.props)),r[t[0].id]=t[1])}e.push(r?new Uh(n.name,r,n.id,n.flags):n)}return new qh(e)}}const Hh=new WeakMap;class Wh{constructor(t,e,n,r,i){if(this.type=t,this.children=e,this.positions=n,this.length=r,this.props=null,i&&i.length){this.props=Object.create(null);for(let[t,e]of i)this.props["number"==typeof t?t:t.id]=e}}toString(){let t=this.prop(Fh.mounted);if(t&&!t.overlay)return t.tree.toString();let e="";for(let t of this.children){let n=t.toString();n&&(e&&(e+=","),e+=n)}return this.type.name?(/\W/.test(this.type.name)&&!this.type.isError?JSON.stringify(this.type.name):this.type.name)+(e.length?"("+e+")":""):e}cursor(t,e=0){let n=null!=t&&Hh.get(this)||this.topNode,r=new tf(n);return null!=t&&(r.moveTo(t,e),Hh.set(this,r._tree)),r}fullCursor(){return new tf(this.topNode,1)}get topNode(){return new Xh(this,0,0,null)}resolve(t,e=0){return this.cursor(t,e).node}resolveInner(t,e=0){let n=this.topNode;for(;;){let r=n.enter(t,e);if(!r)return n;n=r}}iterate(t){let{enter:e,leave:n,from:r=0,to:i=this.length}=t;for(let t=this.cursor(),o=()=>t.node;;){let s=!1;if(t.from<=i&&t.to>=r&&(t.type.isAnonymous||!1!==e(t.type,t.from,t.to,o))){if(t.firstChild())continue;t.type.isAnonymous||(s=!0)}for(;s&&n&&n(t.type,t.from,t.to,o),s=t.type.isAnonymous,!t.nextSibling();){if(!t.parent())return;s=!0}}}prop(t){return t.perNode?this.props?this.props[t.id]:void 0:this.type.prop(t)}get propValues(){let t=[];if(this.props)for(let e in this.props)t.push([+e,this.props[e]]);return t}balance(t={}){return this.children.length<=8?this:of(Uh.none,this.children,this.positions,0,this.children.length,0,this.length,((t,e,n)=>new Wh(this.type,t,e,n,this.propValues)),t.makeTree||((t,e,n)=>new Wh(Uh.none,t,e,n)))}static build(t){return function(t){var e;let{buffer:n,nodeSet:r,maxBufferLength:i=Ih,reused:o=[],minRepeatType:s=r.types.length}=t,a=Array.isArray(n)?new $h(n,n.length):n,l=r.types,u=0,c=0;function h(t,e,n,g,m){let{id:_,start:y,end:v,size:b}=a,w=c;for(;b<0;){if(a.next(),-1==b){let e=o[_];return n.push(e),void g.push(y-t)}if(-3==b)return void(u=_);if(-4==b)return void(c=_);throw new RangeError(`Unrecognized record size: ${b}`)}let x,k,S=l[_],O=y-t;if(v-y<=i&&(k=function(t,e){let n=a.fork(),r=0,o=0,l=0,u=n.end-i,c={size:0,start:0,skip:0};t:for(let i=n.pos-t;n.pos>i;){let t=n.size;if(n.id==e&&t>=0){c.size=r,c.start=o,c.skip=l,l+=4,r+=4,n.next();continue}let a=n.pos-t;if(t<0||a<i||n.start<u)break;let h=n.id>=s?4:0,f=n.start;for(n.next();n.pos>a;){if(n.size<0){if(-3!=n.size)break t;h+=4}else n.id>=s&&(h+=4);n.next()}o=f,r+=t,l+=h}return(e<0||r==t)&&(c.size=r,c.start=o,c.skip=l),c.size>4?c:void 0}(a.pos-e,m))){let e=new Uint16Array(k.size-k.skip),n=a.pos-k.size,i=e.length;for(;a.pos>n;)i=d(k.start,e,i);x=new Kh(e,v-k.start,r),O=k.start-t}else{let t=a.pos-b;a.next();let e=[],n=[],r=_>=s?_:-1,o=0,l=v;for(;a.pos>t;)r>=0&&a.id==r&&a.size>=0?(a.end<=l-i&&(f(e,n,y,o,a.end,l,r,w),o=e.length,l=a.end),a.next()):h(y,t,e,n,r);if(r>=0&&o>0&&o<e.length&&f(e,n,y,o,y,l,r,w),e.reverse(),n.reverse(),r>-1&&o>0){let t=function(t){return(e,n,r)=>{let i,o,s=0,a=e.length-1;if(a>=0&&(i=e[a])instanceof Wh){if(!a&&i.type==t&&i.length==r)return i;(o=i.prop(Fh.lookAhead))&&(s=n[a]+i.length+o)}return p(t,e,n,r,s)}}(S);x=of(S,e,n,0,e.length,0,v-y,t,t)}else x=p(S,e,n,v-y,w-v)}n.push(x),g.push(O)}function f(t,e,n,i,o,s,a,l){let u=[],c=[];for(;t.length>i;)u.push(t.pop()),c.push(e.pop()+n-o);t.push(p(r.types[a],u,c,s-o,l-s)),e.push(o-n)}function p(t,e,n,r,i=0,o){if(u){let t=[Fh.contextHash,u];o=o?[t].concat(o):[t]}if(i>25){let t=[Fh.lookAhead,i];o=o?[t].concat(o):[t]}return new Wh(t,e,n,r,o)}function d(t,e,n){let{id:r,start:i,end:o,size:l}=a;if(a.next(),l>=0&&r<s){let s=n;if(l>4){let r=a.pos-(l-4);for(;a.pos>r;)n=d(t,e,n)}e[--n]=s,e[--n]=o-t,e[--n]=i-t,e[--n]=r}else-3==l?u=r:-4==l&&(c=r);return n}let g=[],m=[];for(;a.pos>0;)h(t.start||0,t.bufferStart||0,g,m,-1);let _=null!==(e=t.length)&&void 0!==e?e:g.length?m[0]+g[0].length:0;return new Wh(l[t.topID],g.reverse(),m.reverse(),_)}(t)}}Wh.empty=new Wh(Uh.none,[],[],0);class $h{constructor(t,e){this.buffer=t,this.index=e}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}get pos(){return this.index}next(){this.index-=4}fork(){return new $h(this.buffer,this.index)}}class Kh{constructor(t,e,n){this.buffer=t,this.length=e,this.set=n}get type(){return Uh.none}toString(){let t=[];for(let e=0;e<this.buffer.length;)t.push(this.childString(e)),e=this.buffer[e+3];return t.join(",")}childString(t){let e=this.buffer[t],n=this.buffer[t+3],r=this.set.types[e],i=r.name;if(/\W/.test(i)&&!r.isError&&(i=JSON.stringify(i)),n==(t+=4))return i;let o=[];for(;t<n;)o.push(this.childString(t)),t=this.buffer[t+3];return i+"("+o.join(",")+")"}findChild(t,e,n,r,i){let{buffer:o}=this,s=-1;for(let a=t;a!=e&&!(Qh(i,r,o[a+1],o[a+2])&&(s=a,n>0));a=o[a+3]);return s}slice(t,e,n,r){let i=this.buffer,o=new Uint16Array(e-t);for(let r=t,s=0;r<e;)o[s++]=i[r++],o[s++]=i[r++]-n,o[s++]=i[r++]-n,o[s++]=i[r++]-t;return new Kh(o,r-n,this.set)}}function Qh(t,e,n,r){switch(t){case-2:return n<e;case-1:return r>=e&&n<e;case 0:return n<e&&r>e;case 1:return n<=e&&r>e;case 2:return r>e;case 4:return!0}}function Gh(t,e){let n=t.childBefore(e);for(;n;){let e=n.lastChild;if(!e||e.to!=n.to)break;e.type.isError&&e.from==e.to?(t=n,n=e.prevSibling):n=e}return t}class Xh{constructor(t,e,n,r){this.node=t,this._from=e,this.index=n,this._parent=r}get type(){return this.node.type}get name(){return this.node.type.name}get from(){return this._from}get to(){return this._from+this.node.length}nextChild(t,e,n,r,i=0){for(let o=this;;){for(let{children:s,positions:a}=o.node,l=e>0?s.length:-1;t!=l;t+=e){let l=s[t],u=a[t]+o._from;if(Qh(r,n,u,u+l.length))if(l instanceof Kh){if(2&i)continue;let s=l.findChild(0,l.buffer.length,e,n-u,r);if(s>-1)return new Zh(new Yh(o,l,t,u),null,s)}else if(1&i||!l.type.isAnonymous||ef(l)){let s;if(!(1&i)&&l.props&&(s=l.prop(Fh.mounted))&&!s.overlay)return new Xh(s.tree,u,t,o);let a=new Xh(l,u,t,o);return 1&i||!a.type.isAnonymous?a:a.nextChild(e<0?l.children.length-1:0,e,n,r)}}if(1&i||!o.type.isAnonymous)return null;if(t=o.index>=0?o.index+e:e<0?-1:o._parent.node.children.length,o=o._parent,!o)return null}}get firstChild(){return this.nextChild(0,1,0,4)}get lastChild(){return this.nextChild(this.node.children.length-1,-1,0,4)}childAfter(t){return this.nextChild(0,1,t,2)}childBefore(t){return this.nextChild(this.node.children.length-1,-1,t,-2)}enter(t,e,n=!0,r=!0){let i;if(n&&(i=this.node.prop(Fh.mounted))&&i.overlay){let n=t-this.from;for(let{from:t,to:r}of i.overlay)if((e>0?t<=n:t<n)&&(e<0?r>=n:r>n))return new Xh(i.tree,i.overlay[0].from+this.from,-1,this)}return this.nextChild(0,1,t,e,r?0:2)}nextSignificantParent(){let t=this;for(;t.type.isAnonymous&&t._parent;)t=t._parent;return t}get parent(){return this._parent?this._parent.nextSignificantParent():null}get nextSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index+1,1,0,4):null}get prevSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index-1,-1,0,4):null}get cursor(){return new tf(this)}get tree(){return this.node}toTree(){return this.node}resolve(t,e=0){return this.cursor.moveTo(t,e).node}enterUnfinishedNodesBefore(t){return Gh(this,t)}getChild(t,e=null,n=null){let r=Jh(this,t,e,n);return r.length?r[0]:null}getChildren(t,e=null,n=null){return Jh(this,t,e,n)}toString(){return this.node.toString()}}function Jh(t,e,n,r){let i=t.cursor,o=[];if(!i.firstChild())return o;if(null!=n)for(;!i.type.is(n);)if(!i.nextSibling())return o;for(;;){if(null!=r&&i.type.is(r))return o;if(i.type.is(e)&&o.push(i.node),!i.nextSibling())return null==r?o:[]}}class Yh{constructor(t,e,n,r){this.parent=t,this.buffer=e,this.index=n,this.start=r}}class Zh{constructor(t,e,n){this.context=t,this._parent=e,this.index=n,this.type=t.buffer.set.types[t.buffer.buffer[n]]}get name(){return this.type.name}get from(){return this.context.start+this.context.buffer.buffer[this.index+1]}get to(){return this.context.start+this.context.buffer.buffer[this.index+2]}child(t,e,n){let{buffer:r}=this.context,i=r.findChild(this.index+4,r.buffer[this.index+3],t,e-this.context.start,n);return i<0?null:new Zh(this.context,this,i)}get firstChild(){return this.child(1,0,4)}get lastChild(){return this.child(-1,0,4)}childAfter(t){return this.child(1,t,2)}childBefore(t){return this.child(-1,t,-2)}enter(t,e,n,r=!0){if(!r)return null;let{buffer:i}=this.context,o=i.findChild(this.index+4,i.buffer[this.index+3],e>0?1:-1,t-this.context.start,e);return o<0?null:new Zh(this.context,this,o)}get parent(){return this._parent||this.context.parent.nextSignificantParent()}externalSibling(t){return this._parent?null:this.context.parent.nextChild(this.context.index+t,t,0,4)}get nextSibling(){let{buffer:t}=this.context,e=t.buffer[this.index+3];return e<(this._parent?t.buffer[this._parent.index+3]:t.buffer.length)?new Zh(this.context,this._parent,e):this.externalSibling(1)}get prevSibling(){let{buffer:t}=this.context,e=this._parent?this._parent.index+4:0;return this.index==e?this.externalSibling(-1):new Zh(this.context,this._parent,t.findChild(e,this.index,-1,0,4))}get cursor(){return new tf(this)}get tree(){return null}toTree(){let t=[],e=[],{buffer:n}=this.context,r=this.index+4,i=n.buffer[this.index+3];if(i>r){let o=n.buffer[this.index+1],s=n.buffer[this.index+2];t.push(n.slice(r,i,o,s)),e.push(0)}return new Wh(this.type,t,e,this.to-this.from)}resolve(t,e=0){return this.cursor.moveTo(t,e).node}enterUnfinishedNodesBefore(t){return Gh(this,t)}toString(){return this.context.buffer.childString(this.index)}getChild(t,e=null,n=null){let r=Jh(this,t,e,n);return r.length?r[0]:null}getChildren(t,e=null,n=null){return Jh(this,t,e,n)}}class tf{constructor(t,e=0){if(this.mode=e,this.buffer=null,this.stack=[],this.index=0,this.bufferNode=null,t instanceof Xh)this.yieldNode(t);else{this._tree=t.context.parent,this.buffer=t.context;for(let e=t._parent;e;e=e._parent)this.stack.unshift(e.index);this.bufferNode=t,this.yieldBuf(t.index)}}get name(){return this.type.name}yieldNode(t){return!!t&&(this._tree=t,this.type=t.type,this.from=t.from,this.to=t.to,!0)}yieldBuf(t,e){this.index=t;let{start:n,buffer:r}=this.buffer;return this.type=e||r.set.types[r.buffer[t]],this.from=n+r.buffer[t+1],this.to=n+r.buffer[t+2],!0}yield(t){return!!t&&(t instanceof Xh?(this.buffer=null,this.yieldNode(t)):(this.buffer=t.context,this.yieldBuf(t.index,t.type)))}toString(){return this.buffer?this.buffer.buffer.childString(this.index):this._tree.toString()}enterChild(t,e,n){if(!this.buffer)return this.yield(this._tree.nextChild(t<0?this._tree.node.children.length-1:0,t,e,n,this.mode));let{buffer:r}=this.buffer,i=r.findChild(this.index+4,r.buffer[this.index+3],t,e-this.buffer.start,n);return!(i<0)&&(this.stack.push(this.index),this.yieldBuf(i))}firstChild(){return this.enterChild(1,0,4)}lastChild(){return this.enterChild(-1,0,4)}childAfter(t){return this.enterChild(1,t,2)}childBefore(t){return this.enterChild(-1,t,-2)}enter(t,e,n=!0,r=!0){return this.buffer?!!r&&this.enterChild(1,t,e):this.yield(this._tree.enter(t,e,n&&!(1&this.mode),r))}parent(){if(!this.buffer)return this.yieldNode(1&this.mode?this._tree._parent:this._tree.parent);if(this.stack.length)return this.yieldBuf(this.stack.pop());let t=1&this.mode?this.buffer.parent:this.buffer.parent.nextSignificantParent();return this.buffer=null,this.yieldNode(t)}sibling(t){if(!this.buffer)return!!this._tree._parent&&this.yield(this._tree.index<0?null:this._tree._parent.nextChild(this._tree.index+t,t,0,4,this.mode));let{buffer:e}=this.buffer,n=this.stack.length-1;if(t<0){let t=n<0?0:this.stack[n]+4;if(this.index!=t)return this.yieldBuf(e.findChild(t,this.index,-1,0,4))}else{let t=e.buffer[this.index+3];if(t<(n<0?e.buffer.length:e.buffer[this.stack[n]+3]))return this.yieldBuf(t)}return n<0&&this.yield(this.buffer.parent.nextChild(this.buffer.index+t,t,0,4,this.mode))}nextSibling(){return this.sibling(1)}prevSibling(){return this.sibling(-1)}atLastNode(t){let e,n,{buffer:r}=this;if(r){if(t>0){if(this.index<r.buffer.buffer.length)return!1}else for(let t=0;t<this.index;t++)if(r.buffer.buffer[t+3]<this.index)return!1;({index:e,parent:n}=r)}else({index:e,_parent:n}=this._tree);for(;n;({index:e,_parent:n}=n))if(e>-1)for(let r=e+t,i=t<0?-1:n.node.children.length;r!=i;r+=t){let t=n.node.children[r];if(1&this.mode||t instanceof Kh||!t.type.isAnonymous||ef(t))return!1}return!0}move(t,e){if(e&&this.enterChild(t,0,4))return!0;for(;;){if(this.sibling(t))return!0;if(this.atLastNode(t)||!this.parent())return!1}}next(t=!0){return this.move(1,t)}prev(t=!0){return this.move(-1,t)}moveTo(t,e=0){for(;(this.from==this.to||(e<1?this.from>=t:this.from>t)||(e>-1?this.to<=t:this.to<t))&&this.parent(););for(;this.enterChild(1,t,e););return this}get node(){if(!this.buffer)return this._tree;let t=this.bufferNode,e=null,n=0;if(t&&t.context==this.buffer)t:for(let r=this.index,i=this.stack.length;i>=0;){for(let o=t;o;o=o._parent)if(o.index==r){if(r==this.index)return o;e=o,n=i+1;break t}r=this.stack[--i]}for(let t=n;t<this.stack.length;t++)e=new Zh(this.buffer,e,this.stack[t]);return this.bufferNode=new Zh(this.buffer,e,this.index)}get tree(){return this.buffer?null:this._tree.node}}function ef(t){return t.children.some((t=>t instanceof Kh||!t.type.isAnonymous||ef(t)))}const nf=new WeakMap;function rf(t,e){if(!t.isAnonymous||e instanceof Kh||e.type!=t)return 1;let n=nf.get(e);if(null==n){n=1;for(let r of e.children){if(r.type!=t||!(r instanceof Wh)){n=1;break}n+=rf(t,r)}nf.set(e,n)}return n}function of(t,e,n,r,i,o,s,a,l){let u=0;for(let n=r;n<i;n++)u+=rf(t,e[n]);let c=Math.ceil(1.5*u/8),h=[],f=[];return function e(n,r,i,s,a){for(let u=i;u<s;){let i=u,p=r[u],d=rf(t,n[u]);for(u++;u<s;u++){let e=rf(t,n[u]);if(d+e>=c)break;d+=e}if(u==i+1){if(d>c){let t=n[i];e(t.children,t.positions,0,t.children.length,r[i]+a);continue}h.push(n[i])}else{let e=r[u-1]+n[u-1].length-p;h.push(of(t,n,r,i,u,p,e,null,l))}f.push(p+a-o)}}(e,n,r,i,0),(a||l)(h,f,s)}class sf{constructor(t,e,n,r,i=!1,o=!1){this.from=t,this.to=e,this.tree=n,this.offset=r,this.open=(i?1:0)|(o?2:0)}get openStart(){return(1&this.open)>0}get openEnd(){return(2&this.open)>0}static addTree(t,e=[],n=!1){let r=[new sf(0,t.length,t,0,!1,n)];for(let n of e)n.to>t.length&&r.push(n);return r}static applyChanges(t,e,n=128){if(!e.length)return t;let r=[],i=1,o=t.length?t[0]:null;for(let s=0,a=0,l=0;;s++){let u=s<e.length?e[s]:null,c=u?u.fromA:1e9;if(c-a>=n)for(;o&&o.from<c;){let e=o;if(a>=e.from||c<=e.to||l){let t=Math.max(e.from,a)-l,n=Math.min(e.to,c)-l;e=t>=n?null:new sf(t,n,e.tree,e.offset+l,s>0,!!u)}if(e&&r.push(e),o.to>c)break;o=i<t.length?t[i++]:null}if(!u)break;a=u.toA,l=u.toA-u.toB}return r}}class af{startParse(t,e,n){return"string"==typeof t&&(t=new lf(t)),n=n?n.length?n.map((t=>new zh(t.from,t.to))):[new zh(0,0)]:[new zh(0,t.length)],this.createParse(t,e||[],n)}parse(t,e,n){let r=this.startParse(t,e,n);for(;;){let t=r.advance();if(t)return t}}}class lf{constructor(t){this.string=t}get length(){return this.string.length}chunk(t){return this.string.slice(t)}get lineChunks(){return!1}read(t,e){return this.string.slice(t,e)}}new Fh({perNode:!0});const uf=new Fh;class cf{constructor(t,e,n,r=[]){this.data=t,this.topNode=n,Rs.prototype.hasOwnProperty("tree")||Object.defineProperty(Rs.prototype,"tree",{get(){return pf(this)}}),this.parser=e,this.extension=[wf.of(this),Rs.languageData.of(((t,e,n)=>t.facet(hf(t,e,n))))].concat(r)}isActiveAt(t,e,n=-1){return hf(t,e,n)==this.data}findRegions(t){let e=t.facet(wf);if((null==e?void 0:e.data)==this.data)return[{from:0,to:t.doc.length}];if(!e||!e.allowsNesting)return[];let n=[],r=(t,e)=>{if(t.prop(uf)==this.data)return void n.push({from:e,to:e+t.length});let i=t.prop(Fh.mounted);if(i){if(i.tree.prop(uf)==this.data){if(i.overlay)for(let t of i.overlay)n.push({from:t.from+e,to:t.to+e});else n.push({from:e,to:e+t.length});return}if(i.overlay){let t=n.length;if(r(i.tree,i.overlay[0].from+e),n.length>t)return}}for(let n=0;n<t.children.length;n++){let i=t.children[n];i instanceof Wh&&r(i,t.positions[n]+e)}};return r(pf(t),0),n}get allowsNesting(){return!0}}function hf(t,e,n){let r=t.facet(wf);if(!r)return null;let i=r.data;if(r.allowsNesting)for(let r=pf(t).topNode;r;r=r.enter(e,n,!0,!1))i=r.type.prop(uf)||i;return i}cf.setState=ws.define();class ff extends cf{constructor(t,e){super(t,e,e.topNode),this.parser=e}static define(t){let e=(n=t.languageData,Xo.define({combine:n?t=>t.concat(n):void 0}));var n;return new ff(e,t.parser.configure({props:[uf.add((t=>t.isTop?e:void 0))]}))}configure(t){return new ff(this.data,this.parser.configure(t))}get allowsNesting(){return this.parser.wrappers.length>0}}function pf(t){let e=t.field(cf.state,!1);return e?e.tree:Wh.empty}class df{constructor(t,e=t.length){this.doc=t,this.length=e,this.cursorPos=0,this.string="",this.cursor=t.iter()}syncTo(t){return this.string=this.cursor.next(t-this.cursorPos).value,this.cursorPos=t+this.string.length,this.cursorPos-this.string.length}chunk(t){return this.syncTo(t),this.string}get lineChunks(){return!0}read(t,e){let n=this.cursorPos-this.string.length;return t<n||e>=this.cursorPos?this.doc.sliceString(t,e):this.string.slice(t-n,e-n)}}let gf=null;class mf{constructor(t,e,n=[],r,i,o,s,a){this.parser=t,this.state=e,this.fragments=n,this.tree=r,this.treeLen=i,this.viewport=o,this.skipped=s,this.scheduleOn=a,this.parse=null,this.tempSkipped=[]}startParse(){return this.parser.startParse(new df(this.state.doc),this.fragments)}work(t,e){return null!=e&&e>=this.state.doc.length&&(e=void 0),this.tree!=Wh.empty&&this.isDone(null!=e?e:this.state.doc.length)?(this.takeTree(),!0):this.withContext((()=>{var n;let r=Date.now()+t;for(this.parse||(this.parse=this.startParse()),null!=e&&(null==this.parse.stoppedAt||this.parse.stoppedAt>e)&&e<this.state.doc.length&&this.parse.stopAt(e);;){let t=this.parse.advance();if(t){if(this.fragments=this.withoutTempSkipped(sf.addTree(t,this.fragments,null!=this.parse.stoppedAt)),this.treeLen=null!==(n=this.parse.stoppedAt)&&void 0!==n?n:this.state.doc.length,this.tree=t,this.parse=null,!(this.treeLen<(null!=e?e:this.state.doc.length)))return!0;this.parse=this.startParse()}if(Date.now()>r)return!1}}))}takeTree(){let t,e;this.parse&&(t=this.parse.parsedPos)>=this.treeLen&&((null==this.parse.stoppedAt||this.parse.stoppedAt>t)&&this.parse.stopAt(t),this.withContext((()=>{for(;!(e=this.parse.advance()););})),this.treeLen=t,this.tree=e,this.fragments=this.withoutTempSkipped(sf.addTree(this.tree,this.fragments,!0)),this.parse=null)}withContext(t){let e=gf;gf=this;try{return t()}finally{gf=e}}withoutTempSkipped(t){for(let e;e=this.tempSkipped.pop();)t=_f(t,e.from,e.to);return t}changes(t,e){let{fragments:n,tree:r,treeLen:i,viewport:o,skipped:s}=this;if(this.takeTree(),!t.empty){let e=[];if(t.iterChangedRanges(((t,n,r,i)=>e.push({fromA:t,toA:n,fromB:r,toB:i}))),n=sf.applyChanges(n,e),r=Wh.empty,i=0,o={from:t.mapPos(o.from,-1),to:t.mapPos(o.to,1)},this.skipped.length){s=[];for(let e of this.skipped){let n=t.mapPos(e.from,1),r=t.mapPos(e.to,-1);n<r&&s.push({from:n,to:r})}}}return new mf(this.parser,e,n,r,i,o,s,this.scheduleOn)}updateViewport(t){if(this.viewport.from==t.from&&this.viewport.to==t.to)return!1;this.viewport=t;let e=this.skipped.length;for(let e=0;e<this.skipped.length;e++){let{from:n,to:r}=this.skipped[e];n<t.to&&r>t.from&&(this.fragments=_f(this.fragments,n,r),this.skipped.splice(e--,1))}return!(this.skipped.length>=e||(this.reset(),0))}reset(){this.parse&&(this.takeTree(),this.parse=null)}skipUntilInView(t,e){this.skipped.push({from:t,to:e})}static getSkippingParser(t){return new class extends af{createParse(e,n,r){let i=r[0].from,o=r[r.length-1].to,s={parsedPos:i,advance(){let e=gf;if(e){for(let t of r)e.tempSkipped.push(t);t&&(e.scheduleOn=e.scheduleOn?Promise.all([e.scheduleOn,t]):t)}return this.parsedPos=o,new Wh(Uh.none,[],[],o-i)},stoppedAt:null,stopAt(){}};return s}}}isDone(t){let e=this.fragments;return this.treeLen>=t&&e.length&&0==e[0].from&&e[0].to>=t}static get(){return gf}}function _f(t,e,n){return sf.applyChanges(t,[{fromA:e,toA:n,fromB:e,toB:n}])}class yf{constructor(t){this.context=t,this.tree=t.tree}apply(t){if(!t.docChanged)return this;let e=this.context.changes(t.changes,t.state),n=this.context.treeLen==t.startState.doc.length?void 0:Math.max(t.changes.mapPos(this.context.treeLen),e.viewport.to);return e.work(20,n)||e.takeTree(),new yf(e)}static init(t){let e=Math.min(3e3,t.doc.length),n=new mf(t.facet(wf).parser,t,[],Wh.empty,0,{from:0,to:e},[],null);return n.work(20,e)||n.takeTree(),new yf(n)}}cf.state=es.define({create:yf.init,update(t,e){for(let t of e.effects)if(t.is(cf.setState))return t.value;return e.startState.facet(wf)!=e.state.facet(wf)?yf.init(e.state):t.apply(e)}});let vf=t=>{let e=setTimeout((()=>t()),500);return()=>clearTimeout(e)};"undefined"!=typeof requestIdleCallback&&(vf=t=>{let e=-1,n=setTimeout((()=>{e=requestIdleCallback(t,{timeout:400})}),100);return()=>e<0?clearTimeout(n):cancelIdleCallback(e)});const bf=Ll.fromClass(class{constructor(t){this.view=t,this.working=null,this.workScheduled=0,this.chunkEnd=-1,this.chunkBudget=-1,this.work=this.work.bind(this),this.scheduleWork()}update(t){let e=this.view.state.field(cf.state).context;(e.updateViewport(t.view.viewport)||this.view.viewport.to>e.treeLen)&&this.scheduleWork(),t.docChanged&&(this.view.hasFocus&&(this.chunkBudget+=50),this.scheduleWork()),this.checkAsyncSchedule(e)}scheduleWork(){if(this.working)return;let{state:t}=this.view,e=t.field(cf.state);e.tree==e.context.tree&&e.context.isDone(t.doc.length)||(this.working=vf(this.work))}work(t){this.working=null;let e=Date.now();if(this.chunkEnd<e&&(this.chunkEnd<0||this.view.hasFocus)&&(this.chunkEnd=e+3e4,this.chunkBudget=3e3),this.chunkBudget<=0)return;let{state:n,viewport:{to:r}}=this.view,i=n.field(cf.state);if(i.tree==i.context.tree&&i.context.treeLen>=r+1e5)return;let o=Math.min(this.chunkBudget,100,t?Math.max(25,t.timeRemaining()-5):1e9),s=i.context.treeLen<r&&n.doc.length>r+1e3,a=i.context.work(o,r+(s?0:1e5));this.chunkBudget-=Date.now()-e,(a||this.chunkBudget<=0)&&(i.context.takeTree(),this.view.dispatch({effects:cf.setState.of(new yf(i.context))})),this.chunkBudget>0&&(!a||s)&&this.scheduleWork(),this.checkAsyncSchedule(i.context)}checkAsyncSchedule(t){t.scheduleOn&&(this.workScheduled++,t.scheduleOn.then((()=>this.scheduleWork())).catch((t=>Tl(this.view.state,t))).then((()=>this.workScheduled--)),t.scheduleOn=null)}destroy(){this.working&&this.working()}isWorking(){return this.working||this.workScheduled>0}},{eventHandlers:{focus(){this.scheduleWork()}}}),wf=Xo.define({combine:t=>t.length?t[0]:null,enables:[cf.state,bf]});class xf{constructor(t,e=[]){this.language=t,this.support=e,this.extension=[t,e]}}const kf=Xo.define(),Sf=Xo.define({combine:t=>{if(!t.length)return"  ";if(!/^(?: +|\t+)$/.test(t[0]))throw new Error("Invalid indent unit: "+JSON.stringify(t[0]));return t[0]}});function Of(t){let e=t.facet(Sf);return 9==e.charCodeAt(0)?t.tabSize*e.length:e.length}function Ef(t,e){let n="",r=t.tabSize;if(9==t.facet(Sf).charCodeAt(0))for(;e>=r;)n+="\t",e-=r;for(let t=0;t<e;t++)n+=" ";return n}function Cf(t,e){t instanceof Rs&&(t=new Af(t));for(let n of t.state.facet(kf)){let r=n(t,e);if(null!=r)return r}let n=pf(t.state);return n?function(t,e,n){return Mf(e.resolveInner(n).enterUnfinishedNodesBefore(n),n,t)}(t,n,e):null}class Af{constructor(t,e={}){this.state=t,this.options=e,this.unit=Of(t)}lineAt(t,e=1){let n=this.state.doc.lineAt(t),{simulateBreak:r}=this.options;return null!=r&&r>=n.from&&r<=n.to?(e<0?r<t:r<=t)?{text:n.text.slice(r-n.from),from:r}:{text:n.text.slice(0,r-n.from),from:n.from}:n}textAfterPos(t,e=1){if(this.options.simulateDoubleBreak&&t==this.options.simulateBreak)return"";let{text:n,from:r}=this.lineAt(t,e);return n.slice(t-r,Math.min(n.length,t+100-r))}column(t,e=1){let{text:n,from:r}=this.lineAt(t,e),i=this.countColumn(n,t-r),o=this.options.overrideIndentation?this.options.overrideIndentation(r):-1;return o>-1&&(i+=o-this.countColumn(n,n.search(/\S|$/))),i}countColumn(t,e=t.length){return So(t,this.state.tabSize,e)}lineIndent(t,e=1){let{text:n,from:r}=this.lineAt(t,e),i=this.options.overrideIndentation;if(i){let t=i(r);if(t>-1)return t}return this.countColumn(n,n.search(/\S|$/))}get simulatedBreak(){return this.options.simulateBreak||null}}const Pf=new Fh;function Tf(t){let e=t.type.prop(Pf);if(e)return e;let n,r=t.firstChild;if(r&&(n=r.type.prop(Fh.closedBy))){let e=t.lastChild,r=e&&n.indexOf(e.name)>-1;return t=>function(t,e,n,r,i){let o=t.textAfter,s=o.match(/^\s*/)[0].length,a=r&&o.slice(s,s+r.length)==r||i==t.pos+s,l=e?function(t){let e=t.node,n=e.childAfter(e.from),r=e.lastChild;if(!n)return null;let i=t.options.simulateBreak,o=t.state.doc.lineAt(n.from),s=null==i||i<=o.from?o.to:Math.min(o.to,i);for(let t=n.to;;){let i=e.childAfter(t);if(!i||i==r)return null;if(!i.type.isSkipped)return i.from<s?n:null;t=i.to}}(t):null;return l?a?t.column(l.from):t.column(l.to):t.baseIndent+(a?0:t.unit*n)}(t,!0,1,void 0,r&&!function(t){return t.pos==t.options.simulateBreak&&t.options.simulateDoubleBreak}(t)?e.from:void 0)}return null==t.parent?Rf:null}function Mf(t,e,n){for(;t;t=t.parent){let r=Tf(t);if(r)return r(new Nf(n,e,t))}return null}function Rf(){return 0}class Nf extends Af{constructor(t,e,n){super(t.state,t.options),this.base=t,this.pos=e,this.node=n}get textAfter(){return this.textAfterPos(this.pos)}get baseIndent(){let t=this.state.doc.lineAt(this.node.from);for(;;){let e=this.node.resolve(t.from);for(;e.parent&&e.parent.from==e.from;)e=e.parent;if(Df(e,this.node))break;t=this.state.doc.lineAt(e.from)}return this.lineIndent(t.from)}continue(){let t=this.node.parent;return t?Mf(t,this.pos,this.base):0}}function Df(t,e){for(let n=e;n;n=n.parent)if(t==n)return!0;return!1}function jf({except:t,units:e=1}={}){return n=>{let r=t&&t.test(n.textAfter);return n.baseIndent+(r?0:e*n.unit)}}function Lf(){return Rs.transactionFilter.of((t=>{if(!t.docChanged||!t.isUserEvent("input.type"))return t;let e=t.startState.languageDataAt("indentOnInput",t.startState.selection.main.head);if(!e.length)return t;let n=t.newDoc,{head:r}=t.newSelection.main,i=n.lineAt(r);if(r>i.from+200)return t;let o=n.sliceString(i.from,r);if(!e.some((t=>t.test(o))))return t;let{state:s}=t,a=-1,l=[];for(let{head:t}of s.selection.ranges){let e=s.doc.lineAt(t);if(e.from==a)continue;a=e.from;let n=Cf(s,e.from);if(null==n)continue;let r=/^\s*/.exec(e.text)[0],i=Ef(s,n);r!=i&&l.push({from:e.from,to:e.from+r.length,insert:i})}return l.length?[t,{changes:l,sequential:!0}]:t}))}const If=Xo.define(),Bf=new Fh;function zf(t,e,n){for(let r of t.facet(If)){let i=r(t,e,n);if(i)return i}return function(t,e,n){let r=pf(t);if(0==r.length)return null;let i=null;for(let o=r.resolveInner(n);o;o=o.parent){if(o.to<=n||o.from>n)continue;if(i&&o.from<e)break;let r=o.type.prop(Bf);if(r){let s=r(o,t);s&&s.from<=n&&s.from>=e&&s.to>n&&(i=s)}}return i}(t,e,n)}class Ff extends Fs{compare(t){return this==t||this.constructor==t.constructor&&this.eq(t)}eq(t){return!1}}Ff.prototype.elementClass="",Ff.prototype.toDOM=void 0,Ff.prototype.mapMode=Lo.TrackBefore,Ff.prototype.startSide=Ff.prototype.endSide=-1,Ff.prototype.point=!0;const Vf=Xo.define(),Uf={class:"",renderEmptyElements:!1,elementStyle:"",markers:()=>Hs.empty,lineMarker:()=>null,lineMarkerChange:null,initialSpacer:null,updateSpacer:null,domEventHandlers:{}},qf=Xo.define();function Hf(t){return[Kf(),qf.of(Object.assign(Object.assign({},Uf),t))]}const Wf=Pc.baseTheme({".cm-gutters":{display:"flex",height:"100%",boxSizing:"border-box",left:0,zIndex:200},"&light .cm-gutters":{backgroundColor:"#f5f5f5",color:"#999",borderRight:"1px solid #ddd"},"&dark .cm-gutters":{backgroundColor:"#333338",color:"#ccc"},".cm-gutter":{display:"flex !important",flexDirection:"column",flexShrink:0,boxSizing:"border-box",minHeight:"100%",overflow:"hidden"},".cm-gutterElement":{boxSizing:"border-box"},".cm-lineNumbers .cm-gutterElement":{padding:"0 3px 0 5px",minWidth:"20px",textAlign:"right",whiteSpace:"nowrap"},"&light .cm-activeLineGutter":{backgroundColor:"#e2f2ff"},"&dark .cm-activeLineGutter":{backgroundColor:"#222227"}}),$f=Xo.define({combine:t=>t.some((t=>t))});function Kf(t){let e=[Qf,Wf];return t&&!1===t.fixed&&e.push($f.of(!0)),e}const Qf=Ll.fromClass(class{constructor(t){this.view=t,this.dom=document.createElement("div"),this.dom.className="cm-gutters",this.dom.setAttribute("aria-hidden","true"),this.dom.style.minHeight=this.view.contentHeight+"px",this.gutters=t.state.facet(qf).map((e=>new Yf(t,e)));for(let t of this.gutters)this.dom.appendChild(t.dom);this.fixed=!t.state.facet($f),this.fixed&&(this.dom.style.position="sticky"),t.scrollDOM.insertBefore(this.dom,t.contentDOM),this.syncGutters()}update(t){this.updateGutters(t)&&this.syncGutters(),t.geometryChanged&&(this.dom.style.minHeight=this.view.contentHeight+"px"),this.view.state.facet($f)!=!this.fixed&&(this.fixed=!this.fixed,this.dom.style.position=this.fixed?"sticky":"")}syncGutters(){let t=Hs.iter(this.view.state.facet(Vf),this.view.viewport.from),e=[],n=this.gutters.map((t=>new Jf(t,this.view.viewport)));this.view.viewportLines((r=>{let i;if(Array.isArray(r.type)){for(let t of r.type)if(t.type==ll.Text){i=t;break}}else i=r.type==ll.Text?r:void 0;if(i){e.length&&(e=[]),Xf(t,e,r.from);for(let t of n)t.line(this.view,i,e)}}),0);for(let t of n)t.finish()}updateGutters(t){let e=t.startState.facet(qf),n=t.state.facet(qf),r=t.docChanged||t.heightChanged||t.viewportChanged||!Hs.eq(t.startState.facet(Vf),t.state.facet(Vf),t.view.viewport.from,t.view.viewport.to);if(e==n)for(let e of this.gutters)e.update(t)&&(r=!0);else{r=!0;let i=[];for(let r of n){let n=e.indexOf(r);n<0?i.push(new Yf(this.view,r)):(this.gutters[n].update(t),i.push(this.gutters[n]))}for(let t of this.gutters)t.dom.remove();for(let t of i)this.dom.appendChild(t.dom);this.gutters=i}return r}destroy(){this.dom.remove()}},{provide:Nl.scrollMargins.from((t=>0!=t.gutters.length&&t.fixed?t.view.textDirection==Jl.LTR?{left:t.dom.offsetWidth}:{right:t.dom.offsetWidth}:null))});function Gf(t){return Array.isArray(t)?t:[t]}function Xf(t,e,n){for(;t.value&&t.from<=n;)t.from==n&&e.push(t.value),t.next()}class Jf{constructor(t,e){this.gutter=t,this.localMarkers=[],this.i=0,this.height=0,this.cursor=Hs.iter(t.markers,e.from)}line(t,e,n){this.localMarkers.length&&(this.localMarkers=[]),Xf(this.cursor,this.localMarkers,e.from);let r=n.length?this.localMarkers.concat(n):this.localMarkers,i=this.gutter.config.lineMarker(t,e,r);i&&r.unshift(i);let o=this.gutter;if(0==r.length&&!o.config.renderEmptyElements)return;let s=e.top-this.height;if(this.i==o.elements.length){let n=new Zf(t,e.height,s,r);o.elements.push(n),o.dom.appendChild(n.dom)}else{let n=o.elements[this.i];(function(t,e){if(t.length!=e.length)return!1;for(let n=0;n<t.length;n++)if(!t[n].compare(e[n]))return!1;return!0})(r,n.markers)&&(r=n.markers),n.update(t,e.height,s,r)}this.height=e.bottom,this.i++}finish(){let t=this.gutter;for(;t.elements.length>this.i;)t.dom.removeChild(t.elements.pop().dom)}}class Yf{constructor(t,e){this.view=t,this.config=e,this.elements=[],this.spacer=null,this.dom=document.createElement("div"),this.dom.className="cm-gutter"+(this.config.class?" "+this.config.class:"");for(let n in e.domEventHandlers)this.dom.addEventListener(n,(r=>{let i=t.visualLineAtHeight(r.clientY,t.contentDOM.getBoundingClientRect().top);e.domEventHandlers[n](t,i,r)&&r.preventDefault()}));this.markers=Gf(e.markers(t)),e.initialSpacer&&(this.spacer=new Zf(t,0,0,[e.initialSpacer(t)]),this.dom.appendChild(this.spacer.dom),this.spacer.dom.style.cssText+="visibility: hidden; pointer-events: none")}update(t){let e=this.markers;if(this.markers=Gf(this.config.markers(t.view)),this.spacer&&this.config.updateSpacer){let e=this.config.updateSpacer(this.spacer.markers[0],t);e!=this.spacer.markers[0]&&this.spacer.update(t.view,0,0,[e])}let n=t.view.viewport;return!Hs.eq(this.markers,e,n.from,n.to)||!!this.config.lineMarkerChange&&this.config.lineMarkerChange(t)}}class Zf{constructor(t,e,n,r){this.height=-1,this.above=0,this.dom=document.createElement("div"),this.update(t,e,n,r)}update(t,e,n,r){if(this.height!=e&&(this.dom.style.height=(this.height=e)+"px"),this.above!=n&&(this.dom.style.marginTop=(this.above=n)?n+"px":""),this.markers!=r){this.markers=r;for(let t;t=this.dom.lastChild;)t.remove();let e="cm-gutterElement";for(let n of r){n.toDOM&&this.dom.appendChild(n.toDOM(t));let r=n.elementClass;r&&(e+=" "+r)}this.dom.className=e}}}const tp=Xo.define(),ep=Xo.define({combine:t=>Ns(t,{formatNumber:String,domEventHandlers:{}},{domEventHandlers(t,e){let n=Object.assign({},t);for(let t in e){let r=n[t],i=e[t];n[t]=r?(t,e,n)=>r(t,e,n)||i(t,e,n):i}return n}})});class np extends Ff{constructor(t){super(),this.number=t}eq(t){return this.number==t.number}toDOM(){return document.createTextNode(this.number)}}function rp(t,e){return t.state.facet(ep).formatNumber(e,t.state)}const ip=qf.compute([ep],(t=>({class:"cm-lineNumbers",renderEmptyElements:!1,markers:t=>t.state.facet(tp),lineMarker:(t,e,n)=>n.some((t=>t.toDOM))?null:new np(rp(t,t.state.doc.lineAt(e.from).number)),lineMarkerChange:t=>t.startState.facet(ep)!=t.state.facet(ep),initialSpacer:t=>new np(rp(t,sp(t.state.doc.lines))),updateSpacer(t,e){let n=rp(e.view,sp(e.view.state.doc.lines));return n==t.number?t:new np(n)},domEventHandlers:t.facet(ep).domEventHandlers})));function op(t={}){return[ep.of(t),Kf(),ip]}function sp(t){let e=9;for(;e<t;)e=10*e+9;return e}const ap=new class extends Ff{constructor(){super(...arguments),this.elementClass="cm-activeLineGutter"}},lp=Vf.compute(["selection"],(t=>{let e=[],n=-1;for(let r of t.selection.ranges)if(r.empty){let i=t.doc.lineAt(r.head).from;i>n&&(n=i,e.push(ap.range(i)))}return Hs.of(e)}));function up(){return lp}function cp(t,e){let n=e.mapPos(t.from,1),r=e.mapPos(t.to,-1);return n>=r?void 0:{from:n,to:r}}const hp=ws.define({map:cp}),fp=ws.define({map:cp});function pp(t){let e=[];for(let{head:n}of t.state.selection.ranges)e.some((t=>t.from<=n&&t.to>=n))||e.push(t.visualLineAt(n));return e}const dp=es.define({create:()=>ul.none,update(t,e){t=t.map(e.changes);for(let n of e.effects)n.is(hp)&&!mp(t,n.value.from,n.value.to)?t=t.update({add:[kp.range(n.value.from,n.value.to)]}):n.is(fp)&&(t=t.update({filter:(t,e)=>n.value.from!=t||n.value.to!=e,filterFrom:n.value.from,filterTo:n.value.to}));if(e.selection){let n=!1,{head:r}=e.selection.main;t.between(r,r,((t,e)=>{t<r&&e>r&&(n=!0)})),n&&(t=t.update({filterFrom:r,filterTo:r,filter:(t,e)=>e<=r||t>=r}))}return t},provide:t=>Pc.decorations.from(t)});function gp(t,e,n){var r;let i=null;return null===(r=t.field(dp,!1))||void 0===r||r.between(e,n,((t,e)=>{(!i||i.from>t)&&(i={from:t,to:e})})),i}function mp(t,e,n){let r=!1;return t.between(e,e,((t,i)=>{t==e&&i==n&&(r=!0)})),r}function _p(t,e){return t.field(dp,!1)?e:e.concat(ws.appendConfig.of(xp()))}function yp(t,e,n=!0){let r=t.state.doc.lineAt(e.from).number,i=t.state.doc.lineAt(e.to).number;return Pc.announce.of(`${t.state.phrase(n?"Folded lines":"Unfolded lines")} ${r} ${t.state.phrase("to")} ${i}.`)}const vp=[{key:"Ctrl-Shift-[",mac:"Cmd-Alt-[",run:t=>{for(let e of pp(t)){let n=zf(t.state,e.from,e.to);if(n)return t.dispatch({effects:_p(t.state,[hp.of(n),yp(t,n)])}),!0}return!1}},{key:"Ctrl-Shift-]",mac:"Cmd-Alt-]",run:t=>{if(!t.state.field(dp,!1))return!1;let e=[];for(let n of pp(t)){let r=gp(t.state,n.from,n.to);r&&e.push(fp.of(r),yp(t,r,!1))}return e.length&&t.dispatch({effects:e}),e.length>0}},{key:"Ctrl-Alt-[",run:t=>{let{state:e}=t,n=[];for(let r=0;r<e.doc.length;){let i=t.visualLineAt(r),o=zf(e,i.from,i.to);o&&n.push(hp.of(o)),r=(o?t.visualLineAt(o.to):i).to+1}return n.length&&t.dispatch({effects:_p(t.state,n)}),!!n.length}},{key:"Ctrl-Alt-]",run:t=>{let e=t.state.field(dp,!1);if(!e||!e.size)return!1;let n=[];return e.between(0,t.state.doc.length,((t,e)=>{n.push(fp.of({from:t,to:e}))})),t.dispatch({effects:n}),!0}}],bp={placeholderDOM:null,placeholderText:"…"},wp=Xo.define({combine:t=>Ns(t,bp)});function xp(t){let e=[dp,Cp];return t&&e.push(wp.of(t)),e}const kp=ul.replace({widget:new class extends al{ignoreEvents(){return!1}toDOM(t){let{state:e}=t,n=e.facet(wp),r=e=>{let n=t.visualLineAt(t.posAtDOM(e.target)),r=gp(t.state,n.from,n.to);r&&t.dispatch({effects:fp.of(r)}),e.preventDefault()};if(n.placeholderDOM)return n.placeholderDOM(t,r);let i=document.createElement("span");return i.textContent=n.placeholderText,i.setAttribute("aria-label",e.phrase("folded code")),i.title=e.phrase("unfold"),i.className="cm-foldPlaceholder",i.onclick=r,i}}}),Sp={openText:"⌄",closedText:"›",markerDOM:null};class Op extends Ff{constructor(t,e){super(),this.config=t,this.open=e}eq(t){return this.config==t.config&&this.open==t.open}toDOM(t){if(this.config.markerDOM)return this.config.markerDOM(this.open);let e=document.createElement("span");return e.textContent=this.open?this.config.openText:this.config.closedText,e.title=t.state.phrase(this.open?"Fold line":"Unfold line"),e}}function Ep(t={}){let e=Object.assign(Object.assign({},Sp),t),n=new Op(e,!0),r=new Op(e,!1),i=Ll.fromClass(class{constructor(t){this.from=t.viewport.from,this.markers=this.buildMarkers(t)}update(t){(t.docChanged||t.viewportChanged||t.startState.facet(wf)!=t.state.facet(wf)||t.startState.field(dp,!1)!=t.state.field(dp,!1))&&(this.markers=this.buildMarkers(t.view))}buildMarkers(t){let e=new Ws;return t.viewportLines((i=>{let o=gp(t.state,i.from,i.to)?r:zf(t.state,i.from,i.to)?n:null;o&&e.add(i.from,i.from,o)})),e.finish()}});return[i,Hf({class:"cm-foldGutter",markers(t){var e;return(null===(e=t.plugin(i))||void 0===e?void 0:e.markers)||Hs.empty},initialSpacer:()=>new Op(e,!1),domEventHandlers:{click:(t,e)=>{let n=gp(t.state,e.from,e.to);if(n)return t.dispatch({effects:fp.of(n)}),!0;let r=zf(t.state,e.from,e.to);return!!r&&(t.dispatch({effects:hp.of(r)}),!0)}}}),xp()]}const Cp=Pc.baseTheme({".cm-foldPlaceholder":{backgroundColor:"#eee",border:"1px solid #ddd",color:"#888",borderRadius:".2em",margin:"0 1px",padding:"0 1px",cursor:"pointer"},".cm-foldGutter span":{padding:"0 1px",cursor:"pointer"}}),Ap=Pc.baseTheme({".cm-matchingBracket":{backgroundColor:"#328c8252"},".cm-nonmatchingBracket":{backgroundColor:"#bb555544"}}),Pp="()[]{}",Tp=Xo.define({combine:t=>Ns(t,{afterCursor:!0,brackets:Pp,maxScanDistance:1e4})}),Mp=ul.mark({class:"cm-matchingBracket"}),Rp=ul.mark({class:"cm-nonmatchingBracket"}),Np=es.define({create:()=>ul.none,update(t,e){if(!e.docChanged&&!e.selection)return t;let n=[],r=e.state.facet(Tp);for(let t of e.state.selection.ranges){if(!t.empty)continue;let i=Ip(e.state,t.head,-1,r)||t.head>0&&Ip(e.state,t.head-1,1,r)||r.afterCursor&&(Ip(e.state,t.head,1,r)||t.head<e.state.doc.length&&Ip(e.state,t.head+1,-1,r));if(!i)continue;let o=i.matched?Mp:Rp;n.push(o.range(i.start.from,i.start.to)),i.end&&n.push(o.range(i.end.from,i.end.to))}return ul.set(n,!0)},provide:t=>Pc.decorations.from(t)}),Dp=[Np,Ap];function jp(t={}){return[Tp.of(t),Dp]}function Lp(t,e,n){let r=t.prop(e<0?Fh.openedBy:Fh.closedBy);if(r)return r;if(1==t.name.length){let r=n.indexOf(t.name);if(r>-1&&r%2==(e<0?1:0))return[n[r+e]]}return null}function Ip(t,e,n,r={}){let i=r.maxScanDistance||1e4,o=r.brackets||Pp,s=pf(t),a=s.resolveInner(e,n);for(let t=a;t;t=t.parent){let e=Lp(t.type,n,o);if(e&&t.from<t.to)return Bp(0,0,n,t,e,o)}return function(t,e,n,r,i,o,s){let a=n<0?t.sliceDoc(e-1,e):t.sliceDoc(e,e+1),l=s.indexOf(a);if(l<0||l%2==0!=n>0)return null;let u={from:n<0?e-1:e,to:n>0?e+1:e},c=t.doc.iterRange(e,n>0?t.doc.length:0),h=0;for(let t=0;!c.next().done&&t<=o;){let o=c.value;n<0&&(t+=o.length);let a=e+t*n;for(let t=n>0?0:o.length-1,e=n>0?o.length:-1;t!=e;t+=n){let e=s.indexOf(o[t]);if(!(e<0||r.resolve(a+t,1).type!=i))if(e%2==0==n>0)h++;else{if(1==h)return{start:u,end:{from:a+t,to:a+t+1},matched:e>>1==l>>1};h--}}n>0&&(t+=o.length)}return c.done?{start:u,matched:!1}:null}(t,e,n,s,a.type,i,o)}function Bp(t,e,n,r,i,o){let s=r.parent,a={from:r.from,to:r.to},l=0,u=null==s?void 0:s.cursor;if(u&&(n<0?u.childBefore(r.from):u.childAfter(r.to)))do{if(n<0?u.to<=r.from:u.from>=r.to){if(0==l&&i.indexOf(u.type.name)>-1&&u.from<u.to)return{start:a,end:{from:u.from,to:u.to},matched:!0};if(Lp(u.type,n,o))l++;else if(Lp(u.type,-n,o)&&(l--,0==l))return{start:a,end:u.from==u.to?void 0:{from:u.from,to:u.to},matched:!1}}}while(n<0?u.prevSibling():u.nextSibling());return{start:a,matched:!1}}function zp(t,e){return $o.create(t.ranges.map(e),t.mainIndex)}function Fp(t,e){return t.update({selection:e,scrollIntoView:!0,userEvent:"select"})}function Vp({state:t,dispatch:e},n){let r=zp(t.selection,n);return!r.eq(t.selection)&&(e(Fp(t,r)),!0)}function Up(t,e){return $o.cursor(e?t.to:t.from)}function qp(t,e){return Vp(t,(n=>n.empty?t.moveByChar(n,e):Up(n,e)))}const Hp=t=>qp(t,t.textDirection!=Jl.LTR),Wp=t=>qp(t,t.textDirection==Jl.LTR);function $p(t,e){return Vp(t,(n=>n.empty?t.moveByGroup(n,e):Up(n,e)))}function Kp(t,e,n){if(e.type.prop(n))return!0;let r=e.to-e.from;return r&&(r>2||/[^\s,.;:]/.test(t.sliceDoc(e.from,e.to)))||e.firstChild}function Qp(t,e,n){let r,i,o=pf(t).resolveInner(e.head),s=n?Fh.closedBy:Fh.openedBy;for(let r=e.head;;){let e=n?o.childAfter(r):o.childBefore(r);if(!e)break;Kp(t,e,s)?o=e:r=n?e.to:e.from}return i=o.type.prop(s)&&(r=n?Ip(t,o.from,1):Ip(t,o.to,-1))&&r.matched?n?r.end.to:r.end.from:n?o.to:o.from,$o.cursor(i,n?-1:1)}function Gp(t,e){return Vp(t,(n=>{if(!n.empty)return Up(n,e);let r=t.moveVertically(n,e);return r.head!=n.head?r:t.moveToLineBoundary(n,e)}))}const Xp=t=>Gp(t,!1),Jp=t=>Gp(t,!0);function Yp(t,e){return Vp(t,(n=>n.empty?t.moveVertically(n,e,t.dom.clientHeight):Up(n,e)))}const Zp=t=>Yp(t,!1),td=t=>Yp(t,!0);function ed(t,e,n){let r=t.visualLineAt(e.head),i=t.moveToLineBoundary(e,n);if(i.head==e.head&&i.head!=(n?r.to:r.from)&&(i=t.moveToLineBoundary(e,n,!1)),!n&&i.head==r.from&&r.length){let n=/^\s*/.exec(t.state.sliceDoc(r.from,Math.min(r.from+100,r.to)))[0].length;n&&e.head!=r.from+n&&(i=$o.cursor(r.from+n))}return i}const nd=t=>Vp(t,(e=>ed(t,e,!0))),rd=t=>Vp(t,(e=>ed(t,e,!1)));function id(t,e){let n=zp(t.state.selection,(t=>{let n=e(t);return $o.range(t.anchor,n.head,n.goalColumn)}));return!n.eq(t.state.selection)&&(t.dispatch(Fp(t.state,n)),!0)}function od(t,e){return id(t,(n=>t.moveByChar(n,e)))}const sd=t=>od(t,t.textDirection!=Jl.LTR),ad=t=>od(t,t.textDirection==Jl.LTR);function ld(t,e){return id(t,(n=>t.moveByGroup(n,e)))}function ud(t,e){return id(t,(n=>t.moveVertically(n,e)))}const cd=t=>ud(t,!1),hd=t=>ud(t,!0);function fd(t,e){return id(t,(n=>t.moveVertically(n,e,t.dom.clientHeight)))}const pd=t=>fd(t,!1),dd=t=>fd(t,!0),gd=t=>id(t,(e=>ed(t,e,!0))),md=t=>id(t,(e=>ed(t,e,!1))),_d=({state:t,dispatch:e})=>(e(Fp(t,{anchor:0})),!0),yd=({state:t,dispatch:e})=>(e(Fp(t,{anchor:t.doc.length})),!0),vd=({state:t,dispatch:e})=>(e(Fp(t,{anchor:t.selection.main.anchor,head:0})),!0),bd=({state:t,dispatch:e})=>(e(Fp(t,{anchor:t.selection.main.anchor,head:t.doc.length})),!0);function wd({state:t,dispatch:e},n){if(t.readOnly)return!1;let r="delete.selection",i=t.changeByRange((t=>{let{from:e,to:i}=t;if(e==i){let t=n(e);t<e?r="delete.backward":t>e&&(r="delete.forward"),e=Math.min(e,t),i=Math.max(i,t)}return e==i?{range:t}:{changes:{from:e,to:i},range:$o.cursor(e)}}));return!i.changes.empty&&(e(t.update(i,{scrollIntoView:!0,userEvent:r})),!0)}function xd(t,e,n){if(t instanceof Pc)for(let r of t.pluginField(Nl.atomicRanges))r.between(e,e,((t,r)=>{t<e&&r>e&&(e=n?r:t)}));return e}const kd=(t,e)=>wd(t,(n=>{let r,i,{state:o}=t,s=o.doc.lineAt(n);if(!e&&n>s.from&&n<s.from+200&&!/[^ \t]/.test(r=s.text.slice(0,n-s.from))){if("\t"==r[r.length-1])return n-1;let t=So(r,o.tabSize)%Of(o)||Of(o);for(let e=0;e<t&&" "==r[r.length-1-e];e++)n--;i=n}else i=mo(s.text,n-s.from,e)+s.from,i==n&&s.number!=(e?o.doc.lines:1)&&(i+=e?1:-1);return xd(t,i,e)})),Sd=t=>kd(t,!1),Od=t=>kd(t,!0),Ed=(t,e)=>wd(t,(n=>{let r=n,{state:i}=t,o=i.doc.lineAt(r),s=i.charCategorizer(r);for(let t=null;;){if(r==(e?o.to:o.from)){r==n&&o.number!=(e?i.doc.lines:1)&&(r+=e?1:-1);break}let a=mo(o.text,r-o.from,e)+o.from,l=o.text.slice(Math.min(r,a)-o.from,Math.max(r,a)-o.from),u=s(l);if(null!=t&&u!=t)break;" "==l&&r==n||(t=u),r=a}return xd(t,r,e)})),Cd=t=>Ed(t,!1),Ad=t=>wd(t,(e=>{let n=t.visualLineAt(e).to;return xd(t,e<n?n:Math.min(t.state.doc.length,e+1),!0)}));function Pd(t){let e=[],n=-1;for(let r of t.selection.ranges){let i=t.doc.lineAt(r.from),o=t.doc.lineAt(r.to);if(r.empty||r.to!=o.from||(o=t.doc.lineAt(r.to-1)),n>=i.number){let t=e[e.length-1];t.to=o.to,t.ranges.push(r)}else e.push({from:i.from,to:o.to,ranges:[r]});n=o.number+1}return e}function Td(t,e,n){if(t.readOnly)return!1;let r=[],i=[];for(let e of Pd(t)){if(n?e.to==t.doc.length:0==e.from)continue;let o=t.doc.lineAt(n?e.to+1:e.from-1),s=o.length+1;if(n){r.push({from:e.to,to:o.to},{from:e.from,insert:o.text+t.lineBreak});for(let n of e.ranges)i.push($o.range(Math.min(t.doc.length,n.anchor+s),Math.min(t.doc.length,n.head+s)))}else{r.push({from:o.from,to:e.from},{from:e.to,insert:t.lineBreak+o.text});for(let t of e.ranges)i.push($o.range(t.anchor-s,t.head-s))}}return!!r.length&&(e(t.update({changes:r,scrollIntoView:!0,selection:$o.create(i,t.selection.mainIndex),userEvent:"move.line"})),!0)}function Md(t,e,n){if(t.readOnly)return!1;let r=[];for(let e of Pd(t))n?r.push({from:e.from,insert:t.doc.slice(e.from,e.to)+t.lineBreak}):r.push({from:e.to,insert:t.lineBreak+t.doc.slice(e.from,e.to)});return e(t.update({changes:r,scrollIntoView:!0,userEvent:"input.copyline"})),!0}const Rd=Dd(!1),Nd=Dd(!0);function Dd(t){return({state:e,dispatch:n})=>{if(e.readOnly)return!1;let r=e.changeByRange((n=>{let{from:r,to:i}=n,o=e.doc.lineAt(r),s=!t&&r==i&&function(t,e){if(/\(\)|\[\]|\{\}/.test(t.sliceDoc(e-1,e+1)))return{from:e,to:e};let n,r=pf(t).resolveInner(e),i=r.childBefore(e),o=r.childAfter(e);return i&&o&&i.to<=e&&o.from>=e&&(n=i.type.prop(Fh.closedBy))&&n.indexOf(o.name)>-1&&t.doc.lineAt(i.to).from==t.doc.lineAt(o.from).from?{from:i.to,to:o.from}:null}(e,r);t&&(r=i=(i<=o.to?o:e.doc.lineAt(i)).to);let a=new Af(e,{simulateBreak:r,simulateDoubleBreak:!!s}),l=Cf(a,r);for(null==l&&(l=/^\s*/.exec(e.doc.lineAt(r).text)[0].length);i<o.to&&/\s/.test(o.text[i-o.from]);)i++;s?({from:r,to:i}=s):r>o.from&&r<o.from+100&&!/\S/.test(o.text.slice(0,r))&&(r=o.from);let u=["",Ef(e,l)];return s&&u.push(Ef(e,a.lineIndent(o.from,-1))),{changes:{from:r,to:i,insert:Eo.of(u)},range:$o.cursor(r+1+u[1].length)}}));return n(e.update(r,{scrollIntoView:!0,userEvent:"input"})),!0}}function jd(t,e){let n=-1;return t.changeByRange((r=>{let i=[];for(let o=r.from;o<=r.to;){let s=t.doc.lineAt(o);s.number>n&&(r.empty||r.to>s.from)&&(e(s,i,r),n=s.number),o=s.to+1}let o=t.changes(i);return{changes:i,range:$o.range(o.mapPos(r.anchor,1),o.mapPos(r.head,1))}}))}const Ld=({state:t,dispatch:e})=>!t.readOnly&&(e(t.update(jd(t,((e,n)=>{n.push({from:e.from,insert:t.facet(Sf)})})),{userEvent:"input.indent"})),!0),Id=({state:t,dispatch:e})=>!t.readOnly&&(e(t.update(jd(t,((e,n)=>{let r=/^\s*/.exec(e.text)[0];if(!r)return;let i=So(r,t.tabSize),o=0,s=Ef(t,Math.max(0,i-Of(t)));for(;o<r.length&&o<s.length&&r.charCodeAt(o)==s.charCodeAt(o);)o++;n.push({from:e.from+o,to:e.from+r.length,insert:s.slice(o)})})),{userEvent:"delete.dedent"})),!0),Bd=[{key:"ArrowLeft",run:Hp,shift:sd,preventDefault:!0},{key:"Mod-ArrowLeft",mac:"Alt-ArrowLeft",run:t=>$p(t,t.textDirection!=Jl.LTR),shift:t=>ld(t,t.textDirection!=Jl.LTR)},{mac:"Cmd-ArrowLeft",run:rd,shift:md},{key:"ArrowRight",run:Wp,shift:ad,preventDefault:!0},{key:"Mod-ArrowRight",mac:"Alt-ArrowRight",run:t=>$p(t,t.textDirection==Jl.LTR),shift:t=>ld(t,t.textDirection==Jl.LTR)},{mac:"Cmd-ArrowRight",run:nd,shift:gd},{key:"ArrowUp",run:Xp,shift:cd,preventDefault:!0},{mac:"Cmd-ArrowUp",run:_d,shift:vd},{mac:"Ctrl-ArrowUp",run:Zp,shift:pd},{key:"ArrowDown",run:Jp,shift:hd,preventDefault:!0},{mac:"Cmd-ArrowDown",run:yd,shift:bd},{mac:"Ctrl-ArrowDown",run:td,shift:dd},{key:"PageUp",run:Zp,shift:pd},{key:"PageDown",run:td,shift:dd},{key:"Home",run:rd,shift:md},{key:"Mod-Home",run:_d,shift:vd},{key:"End",run:nd,shift:gd},{key:"Mod-End",run:yd,shift:bd},{key:"Enter",run:Rd},{key:"Mod-a",run:({state:t,dispatch:e})=>(e(t.update({selection:{anchor:0,head:t.doc.length},userEvent:"select"})),!0)},{key:"Backspace",run:Sd,shift:Sd},{key:"Delete",run:Od,shift:Od},{key:"Mod-Backspace",mac:"Alt-Backspace",run:Cd},{key:"Mod-Delete",mac:"Alt-Delete",run:t=>Ed(t,!0)},{mac:"Mod-Backspace",run:t=>wd(t,(e=>{let n=t.visualLineAt(e).from;return xd(t,e>n?n:Math.max(0,e-1),!1)}))},{mac:"Mod-Delete",run:Ad}].concat([{key:"Ctrl-b",run:Hp,shift:sd,preventDefault:!0},{key:"Ctrl-f",run:Wp,shift:ad},{key:"Ctrl-p",run:Xp,shift:cd},{key:"Ctrl-n",run:Jp,shift:hd},{key:"Ctrl-a",run:t=>Vp(t,(e=>$o.cursor(t.visualLineAt(e.head).from,1))),shift:t=>id(t,(e=>$o.cursor(t.visualLineAt(e.head).from)))},{key:"Ctrl-e",run:t=>Vp(t,(e=>$o.cursor(t.visualLineAt(e.head).to,-1))),shift:t=>id(t,(e=>$o.cursor(t.visualLineAt(e.head).to)))},{key:"Ctrl-d",run:Od},{key:"Ctrl-h",run:Sd},{key:"Ctrl-k",run:Ad},{key:"Ctrl-Alt-h",run:Cd},{key:"Ctrl-o",run:({state:t,dispatch:e})=>{if(t.readOnly)return!1;let n=t.changeByRange((t=>({changes:{from:t.from,to:t.to,insert:Eo.of(["",""])},range:$o.cursor(t.from)})));return e(t.update(n,{scrollIntoView:!0,userEvent:"input"})),!0}},{key:"Ctrl-t",run:({state:t,dispatch:e})=>{if(t.readOnly)return!1;let n=t.changeByRange((e=>{if(!e.empty||0==e.from||e.from==t.doc.length)return{range:e};let n=e.from,r=t.doc.lineAt(n),i=n==r.from?n-1:mo(r.text,n-r.from,!1)+r.from,o=n==r.to?n+1:mo(r.text,n-r.from,!0)+r.from;return{changes:{from:i,to:o,insert:t.doc.slice(n,o).append(t.doc.slice(i,n))},range:$o.cursor(o)}}));return!n.changes.empty&&(e(t.update(n,{scrollIntoView:!0,userEvent:"move.character"})),!0)}},{key:"Alt-<",run:_d},{key:"Alt->",run:yd},{key:"Ctrl-v",run:td},{key:"Alt-v",run:Zp}].map((t=>({mac:t.key,run:t.run,shift:t.shift})))),zd=[{key:"Alt-ArrowLeft",mac:"Ctrl-ArrowLeft",run:t=>Vp(t,(e=>Qp(t.state,e,t.textDirection!=Jl.LTR))),shift:t=>id(t,(e=>Qp(t.state,e,t.textDirection!=Jl.LTR)))},{key:"Alt-ArrowRight",mac:"Ctrl-ArrowRight",run:t=>Vp(t,(e=>Qp(t.state,e,t.textDirection==Jl.LTR))),shift:t=>id(t,(e=>Qp(t.state,e,t.textDirection==Jl.LTR)))},{key:"Alt-ArrowUp",run:({state:t,dispatch:e})=>Td(t,e,!1)},{key:"Shift-Alt-ArrowUp",run:({state:t,dispatch:e})=>Md(t,e,!1)},{key:"Alt-ArrowDown",run:({state:t,dispatch:e})=>Td(t,e,!0)},{key:"Shift-Alt-ArrowDown",run:({state:t,dispatch:e})=>Md(t,e,!0)},{key:"Escape",run:({state:t,dispatch:e})=>{let n=t.selection,r=null;return n.ranges.length>1?r=$o.create([n.main]):n.main.empty||(r=$o.create([$o.cursor(n.main.head)])),!!r&&(e(Fp(t,r)),!0)}},{key:"Mod-Enter",run:Nd},{key:"Alt-l",mac:"Ctrl-l",run:({state:t,dispatch:e})=>{let n=Pd(t).map((({from:e,to:n})=>$o.range(e,Math.min(n+1,t.doc.length))));return e(t.update({selection:$o.create(n),userEvent:"select"})),!0}},{key:"Mod-i",run:({state:t,dispatch:e})=>{let n=zp(t.selection,(e=>{var n;let r=pf(t).resolveInner(e.head,1);for(;!(r.from<e.from&&r.to>=e.to||r.to>e.to&&r.from<=e.from)&&(null===(n=r.parent)||void 0===n?void 0:n.parent);)r=r.parent;return $o.range(r.to,r.from)}));return e(Fp(t,n)),!0},preventDefault:!0},{key:"Mod-[",run:Id},{key:"Mod-]",run:Ld},{key:"Mod-Alt-\\",run:({state:t,dispatch:e})=>{if(t.readOnly)return!1;let n=Object.create(null),r=new Af(t,{overrideIndentation:t=>{let e=n[t];return null==e?-1:e}}),i=jd(t,((e,i,o)=>{let s=Cf(r,e.from);if(null==s)return;/\S/.test(e.text)||(s=0);let a=/^\s*/.exec(e.text)[0],l=Ef(t,s);(a!=l||o.from<e.from+a.length)&&(n[e.from]=s,i.push({from:e.from,to:e.from+a.length,insert:l}))}));return i.changes.empty||e(t.update(i,{userEvent:"indent"})),!0}},{key:"Shift-Mod-k",run:t=>{if(t.state.readOnly)return!1;let{state:e}=t,n=e.changes(Pd(e).map((({from:t,to:n})=>(t>0?t--:n<e.doc.length&&n++,{from:t,to:n})))),r=zp(e.selection,(e=>t.moveVertically(e,!0))).map(n);return t.dispatch({changes:n,selection:r,scrollIntoView:!0,userEvent:"delete.line"}),!0}},{key:"Shift-Mod-\\",run:({state:t,dispatch:e})=>function(t,e,n){let r=!1,i=zp(t.selection,(e=>{let i=Ip(t,e.head,-1)||Ip(t,e.head,1)||e.head>0&&Ip(t,e.head-1,1)||e.head<t.doc.length&&Ip(t,e.head+1,-1);if(!i||!i.end)return e;r=!0;let o=i.start.from==e.head?i.end.to:i.end.from;return n?$o.range(e.anchor,o):$o.cursor(o)}));return!!r&&(e(Fp(t,i)),!0)}(t,e,!1)}].concat(Bd),Fd={key:"Tab",run:Ld,shift:Id},Vd={brackets:["(","[","{","'",'"'],before:")]}'\":;>"},Ud=ws.define({map(t,e){let n=e.mapPos(t,-1,Lo.TrackAfter);return null==n?void 0:n}}),qd=ws.define({map:(t,e)=>e.mapPos(t)}),Hd=new class extends Fs{};Hd.startSide=1,Hd.endSide=-1;const Wd=es.define({create:()=>Hs.empty,update(t,e){if(e.selection){let n=e.state.doc.lineAt(e.selection.main.head).from,r=e.startState.doc.lineAt(e.startState.selection.main.head).from;n!=e.changes.mapPos(r,-1)&&(t=Hs.empty)}t=t.map(e.changes);for(let n of e.effects)n.is(Ud)?t=t.update({add:[Hd.range(n.value,n.value+1)]}):n.is(qd)&&(t=t.update({filter:t=>t!=n.value}));return t}});function $d(){return[Pc.inputHandler.of(Xd),Wd]}const Kd="()[]{}<>";function Qd(t){for(let e=0;e<Kd.length;e+=2)if(Kd.charCodeAt(e)==t)return Kd.charAt(e+1);return xo(t<128?t:t+1)}function Gd(t,e){return t.languageDataAt("closeBrackets",e)[0]||Vd}function Xd(t,e,n,r){if(t.composing)return!1;let i=t.state.selection.main;if(r.length>2||2==r.length&&1==ko(wo(r,0))||e!=i.from||n!=i.to)return!1;let o=function(t,e){let n=Gd(t,t.selection.main.head),r=n.brackets||Vd.brackets;for(let i of r){let o=Qd(wo(i,0));if(e==i)return o==i?ng(t,i,r.indexOf(i+i+i)>-1):tg(t,i,o,n.before||Vd.before);if(e==o&&Yd(t,t.selection.main.from))return eg(t,0,o)}return null}(t.state,r);return!!o&&(t.dispatch(o),!0)}const Jd=[{key:"Backspace",run:({state:t,dispatch:e})=>{let n=Gd(t,t.selection.main.head).brackets||Vd.brackets,r=null,i=t.changeByRange((e=>{if(e.empty){let r=function(t,e){let n=t.sliceString(e-2,e);return ko(wo(n,0))==n.length?n:n.slice(1)}(t.doc,e.head);for(let i of n)if(i==r&&Zd(t.doc,e.head)==Qd(wo(i,0)))return{changes:{from:e.head-i.length,to:e.head+i.length},range:$o.cursor(e.head-i.length),userEvent:"delete.backward"}}return{range:r=e}}));return r||e(t.update(i,{scrollIntoView:!0})),!r}}];function Yd(t,e){let n=!1;return t.field(Wd).between(0,t.doc.length,(t=>{t==e&&(n=!0)})),n}function Zd(t,e){let n=t.sliceString(e,e+2);return n.slice(0,ko(wo(n,0)))}function tg(t,e,n,r){let i=null,o=t.changeByRange((o=>{if(!o.empty)return{changes:[{insert:e,from:o.from},{insert:n,from:o.to}],effects:Ud.of(o.to+e.length),range:$o.range(o.anchor+e.length,o.head+e.length)};let s=Zd(t.doc,o.head);return!s||/\s/.test(s)||r.indexOf(s)>-1?{changes:{insert:e+n,from:o.head},effects:Ud.of(o.head+e.length),range:$o.cursor(o.head+e.length)}:{range:i=o}}));return i?null:t.update(o,{scrollIntoView:!0,userEvent:"input.type"})}function eg(t,e,n){let r=null,i=t.selection.ranges.map((e=>e.empty&&Zd(t.doc,e.head)==n?$o.cursor(e.head+n.length):r=e));return r?null:t.update({selection:$o.create(i,t.selection.mainIndex),scrollIntoView:!0,effects:t.selection.ranges.map((({from:t})=>qd.of(t)))})}function ng(t,e,n){let r=null,i=t.changeByRange((i=>{if(!i.empty)return{changes:[{insert:e,from:i.from},{insert:e,from:i.to}],effects:Ud.of(i.to+e.length),range:$o.range(i.anchor+e.length,i.head+e.length)};let o=i.head,s=Zd(t.doc,o);if(s==e){if(rg(t,o))return{changes:{insert:e+e,from:o},effects:Ud.of(o+e.length),range:$o.cursor(o+e.length)};if(Yd(t,o)){let r=n&&t.sliceDoc(o,o+3*e.length)==e+e+e;return{range:$o.cursor(o+e.length*(r?3:1)),effects:qd.of(o)}}}else{if(n&&t.sliceDoc(o-2*e.length,o)==e+e&&rg(t,o-2*e.length))return{changes:{insert:e+e+e+e,from:o},effects:Ud.of(o+e.length),range:$o.cursor(o+e.length)};if(t.charCategorizer(o)(s)!=Ps.Word){let n=t.sliceDoc(o-1,o);if(n!=e&&t.charCategorizer(o)(n)!=Ps.Word)return{changes:{insert:e+e,from:o},effects:Ud.of(o+e.length),range:$o.cursor(o+e.length)}}}return{range:r=i}}));return r?null:t.update(i,{scrollIntoView:!0,userEvent:"input.type"})}function rg(t,e){let n=pf(t).resolveInner(e+1);return n.parent&&n.from==e}const ig=Xo.define({combine(t){let e,n;for(let r of t)e=e||r.topContainer,n=n||r.bottomContainer;return{topContainer:e,bottomContainer:n}}});function og(t,e){let n=t.plugin(sg),r=n?n.specs.indexOf(e):-1;return r>-1?n.panels[r]:null}const sg=Ll.fromClass(class{constructor(t){this.input=t.state.facet(cg),this.specs=this.input.filter((t=>t)),this.panels=this.specs.map((e=>e(t)));let e=t.state.facet(ig);this.top=new ag(t,!0,e.topContainer),this.bottom=new ag(t,!1,e.bottomContainer),this.top.sync(this.panels.filter((t=>t.top))),this.bottom.sync(this.panels.filter((t=>!t.top)));for(let t of this.panels)t.dom.classList.add("cm-panel"),t.mount&&t.mount()}update(t){let e=t.state.facet(ig);this.top.container!=e.topContainer&&(this.top.sync([]),this.top=new ag(t.view,!0,e.topContainer)),this.bottom.container!=e.bottomContainer&&(this.bottom.sync([]),this.bottom=new ag(t.view,!1,e.bottomContainer)),this.top.syncClasses(),this.bottom.syncClasses();let n=t.state.facet(cg);if(n!=this.input){let e=n.filter((t=>t)),r=[],i=[],o=[],s=[];for(let n of e){let e,a=this.specs.indexOf(n);a<0?(e=n(t.view),s.push(e)):(e=this.panels[a],e.update&&e.update(t)),r.push(e),(e.top?i:o).push(e)}this.specs=e,this.panels=r,this.top.sync(i),this.bottom.sync(o);for(let t of s)t.dom.classList.add("cm-panel"),t.mount&&t.mount()}else for(let e of this.panels)e.update&&e.update(t)}destroy(){this.top.sync([]),this.bottom.sync([])}},{provide:Nl.scrollMargins.from((t=>({top:t.top.scrollMargin(),bottom:t.bottom.scrollMargin()})))});class ag{constructor(t,e,n){this.view=t,this.top=e,this.container=n,this.dom=void 0,this.classes="",this.panels=[],this.syncClasses()}sync(t){this.panels=t,this.syncDOM()}syncDOM(){if(0==this.panels.length)return void(this.dom&&(this.dom.remove(),this.dom=void 0));if(!this.dom){this.dom=document.createElement("div"),this.dom.className=this.top?"cm-panels cm-panels-top":"cm-panels cm-panels-bottom",this.dom.style[this.top?"top":"bottom"]="0";let t=this.container||this.view.dom;t.insertBefore(this.dom,this.top?t.firstChild:null)}let t=this.dom.firstChild;for(let e of this.panels)if(e.dom.parentNode==this.dom){for(;t!=e.dom;)t=lg(t);t=t.nextSibling}else this.dom.insertBefore(e.dom,t);for(;t;)t=lg(t)}scrollMargin(){return!this.dom||this.container?0:Math.max(0,this.top?this.dom.getBoundingClientRect().bottom-Math.max(0,this.view.scrollDOM.getBoundingClientRect().top):Math.min(innerHeight,this.view.scrollDOM.getBoundingClientRect().bottom)-this.dom.getBoundingClientRect().top)}syncClasses(){if(this.container&&this.classes!=this.view.themeClasses){for(let t of this.classes.split(" "))t&&this.container.classList.remove(t);for(let t of(this.classes=this.view.themeClasses).split(" "))t&&this.container.classList.add(t)}}}function lg(t){let e=t.nextSibling;return t.remove(),e}const ug=Pc.baseTheme({".cm-panels":{boxSizing:"border-box",position:"sticky",left:0,right:0},"&light .cm-panels":{backgroundColor:"#f5f5f5",color:"black"},"&light .cm-panels-top":{borderBottom:"1px solid #ddd"},"&light .cm-panels-bottom":{borderTop:"1px solid #ddd"},"&dark .cm-panels":{backgroundColor:"#333338",color:"white"}}),cg=Xo.define({enables:[sg,ug]});function hg(){var t=arguments[0];"string"==typeof t&&(t=document.createElement(t));var e=1,n=arguments[1];if(n&&"object"==typeof n&&null==n.nodeType&&!Array.isArray(n)){for(var r in n)if(Object.prototype.hasOwnProperty.call(n,r)){var i=n[r];"string"==typeof i?t.setAttribute(r,i):null!=i&&(t[r]=i)}e++}for(;e<arguments.length;e++)fg(t,arguments[e]);return t}function fg(t,e){if("string"==typeof e)t.appendChild(document.createTextNode(e));else if(null==e);else if(null!=e.nodeType)t.appendChild(e);else{if(!Array.isArray(e))throw new RangeError("Unsupported child node: "+e);for(var n=0;n<e.length;n++)fg(t,e[n])}}const pg="function"==typeof String.prototype.normalize?t=>t.normalize("NFKD"):t=>t;class dg{constructor(t,e,n=0,r=t.length,i){this.value={from:0,to:0},this.done=!1,this.matches=[],this.buffer="",this.bufferPos=0,this.iter=t.iterRange(n,r),this.bufferStart=n,this.normalize=i?t=>i(pg(t)):pg,this.query=this.normalize(e)}peek(){if(this.bufferPos==this.buffer.length){if(this.bufferStart+=this.buffer.length,this.iter.next(),this.iter.done)return-1;this.bufferPos=0,this.buffer=this.iter.value}return wo(this.buffer,this.bufferPos)}next(){for(;this.matches.length;)this.matches.pop();return this.nextOverlapping()}nextOverlapping(){for(;;){let t=this.peek();if(t<0)return this.done=!0,this;let e=xo(t),n=this.bufferStart+this.bufferPos;this.bufferPos+=ko(t);let r=this.normalize(e);for(let t=0,i=n;;t++){let o=r.charCodeAt(t),s=this.match(o,i);if(s)return this.value=s,this;if(t==r.length-1)break;i==n&&t<e.length&&e.charCodeAt(t)==o&&i++}}}match(t,e){let n=null;for(let r=0;r<this.matches.length;r+=2){let i=this.matches[r],o=!1;this.query.charCodeAt(i)==t&&(i==this.query.length-1?n={from:this.matches[r+1],to:e+1}:(this.matches[r]++,o=!0)),o||(this.matches.splice(r,2),r-=2)}return this.query.charCodeAt(0)==t&&(1==this.query.length?n={from:e,to:e+1}:this.matches.push(1,e)),n}}"undefined"!=typeof Symbol&&(dg.prototype[Symbol.iterator]=function(){return this});const gg={from:-1,to:-1,match:/.*/.exec("")},mg="gm"+(null==/x/.unicode?"":"u");class _g{constructor(t,e,n,r=0,i=t.length){if(this.to=i,this.curLine="",this.done=!1,this.value=gg,/\\[sWDnr]|\n|\r|\[\^/.test(e))return new bg(t,e,n,r,i);this.re=new RegExp(e,mg+((null==n?void 0:n.ignoreCase)?"i":"")),this.iter=t.iter();let o=t.lineAt(r);this.curLineStart=o.from,this.matchPos=r,this.getLine(this.curLineStart)}getLine(t){this.iter.next(t),this.iter.lineBreak?this.curLine="":(this.curLine=this.iter.value,this.curLineStart+this.curLine.length>this.to&&(this.curLine=this.curLine.slice(0,this.to-this.curLineStart)),this.iter.next())}nextLine(){this.curLineStart=this.curLineStart+this.curLine.length+1,this.curLineStart>this.to?this.curLine="":this.getLine(0)}next(){for(let t=this.matchPos-this.curLineStart;;){this.re.lastIndex=t;let e=this.matchPos<=this.to&&this.re.exec(this.curLine);if(e){let n=this.curLineStart+e.index,r=n+e[0].length;if(this.matchPos=r+(n==r?1:0),n==this.curLine.length&&this.nextLine(),n<r||n>this.value.to)return this.value={from:n,to:r,match:e},this;t=this.matchPos-this.curLineStart}else{if(!(this.curLineStart+this.curLine.length<this.to))return this.done=!0,this;this.nextLine(),t=0}}}}const yg=new WeakMap;class vg{constructor(t,e){this.from=t,this.text=e}get to(){return this.from+this.text.length}static get(t,e,n){let r=yg.get(t);if(!r||r.from>=n||r.to<=e){let r=new vg(e,t.sliceString(e,n));return yg.set(t,r),r}if(r.from==e&&r.to==n)return r;let{text:i,from:o}=r;return o>e&&(i=t.sliceString(e,o)+i,o=e),r.to<n&&(i+=t.sliceString(r.to,n)),yg.set(t,new vg(o,i)),new vg(e,i.slice(e-o,n-o))}}class bg{constructor(t,e,n,r,i){this.text=t,this.to=i,this.done=!1,this.value=gg,this.matchPos=r,this.re=new RegExp(e,mg+((null==n?void 0:n.ignoreCase)?"i":"")),this.flat=vg.get(t,r,this.chunkEnd(r+5e3))}chunkEnd(t){return t>=this.to?this.to:this.text.lineAt(t).to}next(){for(;;){let t=this.re.lastIndex=this.matchPos-this.flat.from,e=this.re.exec(this.flat.text);if(e&&!e[0]&&e.index==t&&(this.re.lastIndex=t+1,e=this.re.exec(this.flat.text)),e&&this.flat.to<this.to&&e.index+e[0].length>this.flat.text.length-10&&(e=null),e){let t=this.flat.from+e.index,n=t+e[0].length;return this.value={from:t,to:n,match:e},this.matchPos=n+(t==n?1:0),this}if(this.flat.to==this.to)return this.done=!0,this;this.flat=vg.get(this.text,this.flat.from,this.chunkEnd(this.flat.from+2*this.flat.text.length))}}}function wg(t){let e=hg("input",{class:"cm-textfield",name:"line"});function n(){let n=/^([+-])?(\d+)?(:\d+)?(%)?$/.exec(e.value);if(!n)return;let{state:r}=t,i=r.doc.lineAt(r.selection.main.head),[,o,s,a,l]=n,u=a?+a.slice(1):0,c=s?+s:i.number;if(s&&l){let t=c/100;o&&(t=t*("-"==o?-1:1)+i.number/r.doc.lines),c=Math.round(r.doc.lines*t)}else s&&o&&(c=c*("-"==o?-1:1)+i.number);let h=r.doc.line(Math.max(1,Math.min(r.doc.lines,c)));t.dispatch({effects:xg.of(!1),selection:$o.cursor(h.from+Math.max(0,Math.min(u,h.length))),scrollIntoView:!0}),t.focus()}return{dom:hg("form",{class:"cm-gotoLine",onkeydown:e=>{27==e.keyCode?(e.preventDefault(),t.dispatch({effects:xg.of(!1)}),t.focus()):13==e.keyCode&&(e.preventDefault(),n())},onsubmit:t=>{t.preventDefault(),n()}},hg("label",t.state.phrase("Go to line"),": ",e)," ",hg("button",{class:"cm-button",type:"submit"},t.state.phrase("go"))),pos:-10}}"undefined"!=typeof Symbol&&(_g.prototype[Symbol.iterator]=bg.prototype[Symbol.iterator]=function(){return this});const xg=ws.define(),kg=es.define({create:()=>!0,update(t,e){for(let n of e.effects)n.is(xg)&&(t=n.value);return t},provide:t=>cg.from(t,(t=>t?wg:null))}),Sg=Pc.baseTheme({".cm-panel.cm-gotoLine":{padding:"2px 6px 4px","& label":{fontSize:"80%"}}}),Og={highlightWordAroundCursor:!1,minSelectionLength:1,maxMatches:100},Eg=Xo.define({combine:t=>Ns(t,Og,{highlightWordAroundCursor:(t,e)=>t||e,minSelectionLength:Math.min,maxMatches:Math.min})});function Cg(t){let e=[Mg,Tg];return t&&e.push(Eg.of(t)),e}const Ag=ul.mark({class:"cm-selectionMatch"}),Pg=ul.mark({class:"cm-selectionMatch cm-selectionMatch-main"}),Tg=Ll.fromClass(class{constructor(t){this.decorations=this.getDeco(t)}update(t){(t.selectionSet||t.docChanged||t.viewportChanged)&&(this.decorations=this.getDeco(t.view))}getDeco(t){let e=t.state.facet(Eg),{state:n}=t,r=n.selection;if(r.ranges.length>1)return ul.none;let i,o=r.main,s=null;if(o.empty){if(!e.highlightWordAroundCursor)return ul.none;let t=n.wordAt(o.head);if(!t)return ul.none;s=n.charCategorizer(o.head),i=n.sliceDoc(t.from,t.to)}else{let t=o.to-o.from;if(t<e.minSelectionLength||t>200)return ul.none;if(i=n.sliceDoc(o.from,o.to).trim(),!i)return ul.none}let a=[];for(let r of t.visibleRanges){let t=new dg(n.doc,i,r.from,r.to);for(;!t.next().done;){let{from:r,to:i}=t.value;if((!s||(0==r||s(n.sliceDoc(r-1,r))!=Ps.Word)&&(i==n.doc.length||s(n.sliceDoc(i,i+1))!=Ps.Word))&&(s&&r<=o.from&&i>=o.to?a.push(Pg.range(r,i)):(r>=o.to||i<=o.from)&&a.push(Ag.range(r,i)),a.length>e.maxMatches))return ul.none}}return ul.set(a)}},{decorations:t=>t.decorations}),Mg=Pc.baseTheme({".cm-selectionMatch":{backgroundColor:"#99ff7780"},".cm-searchMatch .cm-selectionMatch":{backgroundColor:"transparent"}}),Rg=Xo.define({combine(t){let e=t.some((t=>t.matchCase));return{top:t.some((t=>t.top)),matchCase:void 0===e||e}}});class Ng{constructor(t,e,n){this.search=t,this.replace=e,this.caseInsensitive=n}eq(t){return this.search==t.search&&this.replace==t.replace&&this.caseInsensitive==t.caseInsensitive&&this.constructor==t.constructor}}class Dg extends Ng{constructor(t,e,n){super(t,e,n),this.unquoted=t.replace(/\\([nrt\\])/g,((t,e)=>"n"==e?"\n":"r"==e?"\r":"t"==e?"\t":"\\"))}cursor(t,e=0,n=t.length){return new dg(t,this.unquoted,e,n,this.caseInsensitive?t=>t.toLowerCase():void 0)}nextMatch(t,e,n){let r=this.cursor(t,n).nextOverlapping();return r.done&&(r=this.cursor(t,0,e).nextOverlapping()),r.done?null:r.value}prevMatchInRange(t,e,n){for(let r=n;;){let n=Math.max(e,r-1e4-this.unquoted.length),i=this.cursor(t,n,r),o=null;for(;!i.nextOverlapping().done;)o=i.value;if(o)return o;if(n==e)return null;r-=1e4}}prevMatch(t,e,n){return this.prevMatchInRange(t,0,e)||this.prevMatchInRange(t,n,t.length)}getReplacement(t){return this.replace}matchAll(t,e){let n=this.cursor(t),r=[];for(;!n.next().done;){if(r.length>=e)return null;r.push(n.value)}return r}highlight(t,e,n,r){let i=this.cursor(t,Math.max(0,e-this.unquoted.length),Math.min(n+this.unquoted.length,t.length));for(;!i.next().done;)r(i.value.from,i.value.to)}get valid(){return!!this.search}}class jg extends Ng{constructor(t,e,n){super(t,e,n),this.valid=!!t&&function(t){try{return new RegExp(t,mg),!0}catch(t){return!1}}(t)}cursor(t,e=0,n=t.length){return new _g(t,this.search,this.caseInsensitive?{ignoreCase:!0}:void 0,e,n)}nextMatch(t,e,n){let r=this.cursor(t,n).next();return r.done&&(r=this.cursor(t,0,e).next()),r.done?null:r.value}prevMatchInRange(t,e,n){for(let r=1;;r++){let i=Math.max(e,n-1e4*r),o=this.cursor(t,i,n),s=null;for(;!o.next().done;)s=o.value;if(s&&(i==e||s.from>i+10))return s;if(i==e)return null}}prevMatch(t,e,n){return this.prevMatchInRange(t,0,e)||this.prevMatchInRange(t,n,t.length)}getReplacement(t){return this.replace.replace(/\$([$&\d+])/g,((e,n)=>"$"==n?"$":"&"==n?t.match[0]:"0"!=n&&+n<t.match.length?t.match[n]:e))}matchAll(t,e){let n=this.cursor(t),r=[];for(;!n.next().done;){if(r.length>=e)return null;r.push(n.value)}return r}highlight(t,e,n,r){let i=this.cursor(t,Math.max(0,e-250),Math.min(n+250,t.length));for(;!i.next().done;)r(i.value.from,i.value.to)}}const Lg=ws.define(),Ig=ws.define(),Bg=es.define({create:t=>new zg(Xg(t),Gg),update(t,e){for(let n of e.effects)n.is(Lg)?t=new zg(n.value,t.panel):n.is(Ig)&&(t=new zg(t.query,n.value?Gg:null));return t},provide:t=>cg.from(t,(t=>t.panel))});class zg{constructor(t,e){this.query=t,this.panel=e}}const Fg=ul.mark({class:"cm-searchMatch"}),Vg=ul.mark({class:"cm-searchMatch cm-searchMatch-selected"}),Ug=Ll.fromClass(class{constructor(t){this.view=t,this.decorations=this.highlight(t.state.field(Bg))}update(t){let e=t.state.field(Bg);(e!=t.startState.field(Bg)||t.docChanged||t.selectionSet)&&(this.decorations=this.highlight(e))}highlight({query:t,panel:e}){if(!e||!t.valid)return ul.none;let{view:n}=this,r=new Ws;for(let e=0,i=n.visibleRanges,o=i.length;e<o;e++){let{from:s,to:a}=i[e];for(;e<o-1&&a>i[e+1].from-500;)a=i[++e].to;t.highlight(n.state.doc,s,a,((t,e)=>{let i=n.state.selection.ranges.some((n=>n.from==t&&n.to==e));r.add(t,e,i?Vg:Fg)}))}return r.finish()}},{decorations:t=>t.decorations});function qg(t){return e=>{let n=e.state.field(Bg,!1);return n&&n.query.valid?t(e,n):Jg(e)}}const Hg=qg(((t,{query:e})=>{let{from:n,to:r}=t.state.selection.main,i=e.nextMatch(t.state.doc,n,r);return!(!i||i.from==n&&i.to==r||(t.dispatch({selection:{anchor:i.from,head:i.to},scrollIntoView:!0,effects:nm(t,i),userEvent:"select.search"}),0))})),Wg=qg(((t,{query:e})=>{let{state:n}=t,{from:r,to:i}=n.selection.main,o=e.prevMatch(n.doc,r,i);return!!o&&(t.dispatch({selection:{anchor:o.from,head:o.to},scrollIntoView:!0,effects:nm(t,o),userEvent:"select.search"}),!0)})),$g=qg(((t,{query:e})=>{let n=e.matchAll(t.state.doc,1e3);return!(!n||!n.length||(t.dispatch({selection:$o.create(n.map((t=>$o.range(t.from,t.to)))),userEvent:"select.search.matches"}),0))})),Kg=qg(((t,{query:e})=>{let{state:n}=t,{from:r,to:i}=n.selection.main;if(n.readOnly)return!1;let o=e.nextMatch(n.doc,r,r);if(!o)return!1;let s,a,l=[];if(o.from==r&&o.to==i&&(a=n.toText(e.getReplacement(o)),l.push({from:o.from,to:o.to,insert:a}),o=e.nextMatch(n.doc,o.from,o.to)),o){let t=0==l.length||l[0].from>=o.to?0:o.to-o.from-a.length;s={anchor:o.from-t,head:o.to-t}}return t.dispatch({changes:l,selection:s,scrollIntoView:!!s,effects:o?nm(t,o):void 0,userEvent:"input.replace"}),!0})),Qg=qg(((t,{query:e})=>{if(t.state.readOnly)return!1;let n=e.matchAll(t.state.doc,1e9).map((t=>{let{from:n,to:r}=t;return{from:n,to:r,insert:e.getReplacement(t)}}));return!!n.length&&(t.dispatch({changes:n,userEvent:"input.replace.all"}),!0)}));function Gg(t){let{query:e}=t.state.field(Bg);return{dom:tm({view:t,query:e,updateQuery(n){e.eq(n)||(e=n,t.dispatch({effects:Lg.of(e)}))}}),mount(){this.dom.querySelector("[name=search]").select()},pos:80,top:t.state.facet(Rg).top}}function Xg(t,e){var n;let r=t.selection.main,i=r.empty||r.to>r.from+100?"":t.sliceDoc(r.from,r.to),o=null!==(n=null==e?void 0:e.caseInsensitive)&&void 0!==n?n:!t.facet(Rg).matchCase;return e&&!i?e:new Dg(i.replace(/\n/g,"\\n"),"",o)}const Jg=t=>{let e=t.state.field(Bg,!1);if(e&&e.panel){let e=og(t,Gg);if(!e)return!1;let n=e.dom.querySelector("[name=search]");n.focus(),n.select()}else t.dispatch({effects:[Ig.of(!0),e?Lg.of(Xg(t.state,e.query)):ws.appendConfig.of(im)]});return!0},Yg=t=>{let e=t.state.field(Bg,!1);if(!e||!e.panel)return!1;let n=og(t,Gg);return n&&n.dom.contains(t.root.activeElement)&&t.focus(),t.dispatch({effects:Ig.of(!1)}),!0},Zg=[{key:"Mod-f",run:Jg,scope:"editor search-panel"},{key:"F3",run:Hg,shift:Wg,scope:"editor search-panel",preventDefault:!0},{key:"Mod-g",run:Hg,shift:Wg,scope:"editor search-panel",preventDefault:!0},{key:"Escape",run:Yg,scope:"editor search-panel"},{key:"Mod-Shift-l",run:({state:t,dispatch:e})=>{let n=t.selection;if(n.ranges.length>1||n.main.empty)return!1;let{from:r,to:i}=n.main,o=[],s=0;for(let e=new dg(t.doc,t.sliceDoc(r,i));!e.next().done;){if(o.length>1e3)return!1;e.value.from==r&&(s=o.length),o.push($o.range(e.value.from,e.value.to))}return e(t.update({selection:$o.create(o,s),userEvent:"select.search.matches"})),!0}},{key:"Alt-g",run:t=>{let e=og(t,wg);if(!e){let n=[xg.of(!0)];null==t.state.field(kg,!1)&&n.push(ws.appendConfig.of([kg,Sg])),t.dispatch({effects:n}),e=og(t,wg)}return e&&e.dom.querySelector("input").focus(),!0}},{key:"Mod-d",run:({state:t,dispatch:e})=>{let{ranges:n}=t.selection;if(n.some((t=>t.from===t.to)))return(({state:t,dispatch:e})=>{let{selection:n}=t,r=$o.create(n.ranges.map((e=>t.wordAt(e.head)||$o.cursor(e.head))),n.mainIndex);return!r.eq(n)&&(e(t.update({selection:r})),!0)})({state:t,dispatch:e});let r=t.sliceDoc(n[0].from,n[0].to);if(t.selection.ranges.some((e=>t.sliceDoc(e.from,e.to)!=r)))return!1;let i=function(t,e){let{main:n,ranges:r}=t.selection,i=t.wordAt(n.head),o=i&&i.from==n.from&&i.to==n.to;for(let n=!1,i=new dg(t.doc,e,r[r.length-1].to);;){if(i.next(),!i.done){if(n&&r.some((t=>t.from==i.value.from)))continue;if(o){let e=t.wordAt(i.value.from);if(!e||e.from!=i.value.from||e.to!=i.value.to)continue}return i.value}if(n)return null;i=new dg(t.doc,e,0,Math.max(0,r[r.length-1].from-1)),n=!0}}(t,r);return!!i&&(e(t.update({selection:t.selection.addRange($o.range(i.from,i.to),!1),scrollIntoView:!0})),!0)},preventDefault:!0}];function tm(t){function e(e){return t.view.state.phrase(e)}let n=hg("input",{value:t.query.search,placeholder:e("Find"),"aria-label":e("Find"),class:"cm-textfield",name:"search",onchange:s,onkeyup:s}),r=hg("input",{value:t.query.replace,placeholder:e("Replace"),"aria-label":e("Replace"),class:"cm-textfield",name:"replace",onchange:s,onkeyup:s}),i=hg("input",{type:"checkbox",name:"case",checked:!t.query.caseInsensitive,onchange:s}),o=hg("input",{type:"checkbox",name:"re",checked:t.query instanceof jg,onchange:s});function s(){t.updateQuery(new(o.checked?jg:Dg)(n.value,r.value,!i.checked))}function a(t,e,n){return hg("button",{class:"cm-button",name:t,onclick:e,type:"button"},n)}return hg("div",{onkeydown:function(e){var i,o;o=e,qc(Vc((i=t.view).state),o,i,"search-panel")?e.preventDefault():13==e.keyCode&&e.target==n?(e.preventDefault(),(e.shiftKey?Wg:Hg)(t.view)):13==e.keyCode&&e.target==r&&(e.preventDefault(),Kg(t.view))},class:"cm-search"},[n,a("next",(()=>Hg(t.view)),[e("next")]),a("prev",(()=>Wg(t.view)),[e("previous")]),a("select",(()=>$g(t.view)),[e("all")]),hg("label",null,[i,e("match case")]),hg("label",null,[o,e("regexp")]),hg("br"),r,a("replace",(()=>Kg(t.view)),[e("replace")]),a("replaceAll",(()=>Qg(t.view)),[e("replace all")]),hg("button",{name:"close",onclick:()=>Yg(t.view),"aria-label":e("close"),type:"button"},["×"])])}const em=/[\s\.,:;?!]/;function nm(t,{from:e,to:n}){let r=t.state.doc.lineAt(e).from,i=t.state.doc.lineAt(n).to,o=Math.max(r,e-30),s=Math.min(i,n+30),a=t.state.sliceDoc(o,s);if(o!=r)for(let t=0;t<30;t++)if(!em.test(a[t+1])&&em.test(a[t])){a=a.slice(t);break}if(s!=i)for(let t=a.length-1;t>a.length-30;t--)if(!em.test(a[t-1])&&em.test(a[t])){a=a.slice(0,t);break}return Pc.announce.of(`${t.state.phrase("current match")}. ${a} ${t.state.phrase("on line")} ${t.state.doc.lineAt(e).number}`)}const rm=Pc.baseTheme({".cm-panel.cm-search":{padding:"2px 6px 4px",position:"relative","& [name=close]":{position:"absolute",top:"0",right:"4px",backgroundColor:"inherit",border:"none",font:"inherit",padding:0,margin:0},"& input, & button, & label":{margin:".2em .6em .2em 0"},"& input[type=checkbox]":{marginRight:".2em"},"& label":{fontSize:"80%",whiteSpace:"pre"}},"&light .cm-searchMatch":{backgroundColor:"#ffff0054"},"&dark .cm-searchMatch":{backgroundColor:"#00ffff8a"},"&light .cm-searchMatch-selected":{backgroundColor:"#ff6a0054"},"&dark .cm-searchMatch-selected":{backgroundColor:"#ff00ff8a"}}),im=[Bg,rs.lowest(Ug),rm],om="undefined"!=typeof navigator&&!/Edge\/(\d+)/.exec(navigator.userAgent)&&/Apple Computer/.test(navigator.vendor)&&(/Mobile\/\w+/.test(navigator.userAgent)||navigator.maxTouchPoints>2),sm="-10000px";class am{constructor(t,e,n){this.facet=e,this.createTooltipView=n,this.input=t.state.facet(e),this.tooltips=this.input.filter((t=>t)),this.tooltipViews=this.tooltips.map(n)}update(t){let e=t.state.facet(this.facet),n=e.filter((t=>t));if(e===this.input){for(let e of this.tooltipViews)e.update&&e.update(t);return!1}let r=[];for(let e=0;e<n.length;e++){let i=n[e],o=-1;if(i){for(let t=0;t<this.tooltips.length;t++){let e=this.tooltips[t];e&&e.create==i.create&&(o=t)}if(o<0)r[e]=this.createTooltipView(i);else{let n=r[e]=this.tooltipViews[o];n.update&&n.update(t)}}}for(let t of this.tooltipViews)r.indexOf(t)<0&&t.dom.remove();return this.input=e,this.tooltips=n,this.tooltipViews=r,!0}}function lm(){return{top:0,left:0,bottom:innerHeight,right:innerWidth}}const um=Xo.define({combine:t=>{var e,n,r;return{position:om?"absolute":(null===(e=t.find((t=>t.position)))||void 0===e?void 0:e.position)||"fixed",parent:(null===(n=t.find((t=>t.parent)))||void 0===n?void 0:n.parent)||null,tooltipSpace:(null===(r=t.find((t=>t.tooltipSpace)))||void 0===r?void 0:r.tooltipSpace)||lm}}}),cm=Ll.fromClass(class{constructor(t){this.view=t,this.inView=!0,this.lastTransaction=0,this.intersectionTimeout=-1;let e=t.state.facet(um);this.position=e.position,this.parent=e.parent,this.classes=t.themeClasses,this.createContainer(),this.measureReq={read:this.readMeasure.bind(this),write:this.writeMeasure.bind(this),key:this},this.manager=new am(t,pm,(t=>this.createTooltip(t))),this.intersectionObserver="function"==typeof IntersectionObserver?new IntersectionObserver((t=>{this.intersectionTimeout<0&&Date.now()>this.lastTransaction-50&&t.length>0&&t[t.length-1].intersectionRatio<1&&(this.intersectionTimeout=setTimeout((()=>{this.intersectionTimeout=-1,this.maybeMeasure()}),50))}),{threshold:[1]}):null,this.observeIntersection(),this.maybeMeasure()}createContainer(){this.parent?(this.container=document.createElement("div"),this.container.style.position="relative",this.container.className=this.view.themeClasses,this.parent.appendChild(this.container)):this.container=this.view.dom}observeIntersection(){if(this.intersectionObserver){this.intersectionObserver.disconnect();for(let t of this.manager.tooltipViews)this.intersectionObserver.observe(t.dom)}}update(t){t.transactions.length&&(this.lastTransaction=Date.now());let e=this.manager.update(t);e&&this.observeIntersection();let n=e||t.geometryChanged,r=t.state.facet(um);if(r.position!=this.position){this.position=r.position;for(let t of this.manager.tooltipViews)t.dom.style.position=this.position;n=!0}if(r.parent!=this.parent){this.parent&&this.container.remove(),this.parent=r.parent,this.createContainer();for(let t of this.manager.tooltipViews)this.container.appendChild(t.dom);n=!0}else this.parent&&this.view.themeClasses!=this.classes&&(this.classes=this.container.className=this.view.themeClasses);n&&this.maybeMeasure()}createTooltip(t){let e=t.create(this.view);if(e.dom.classList.add("cm-tooltip"),t.arrow&&!e.dom.querySelector("cm-tooltip > cm-tooltip-arrow")){let t=document.createElement("div");t.className="cm-tooltip-arrow",e.dom.appendChild(t)}return e.dom.style.position=this.position,e.dom.style.top=sm,this.container.appendChild(e.dom),e.mount&&e.mount(this.view),e}destroy(){var t;for(let{dom:t}of this.manager.tooltipViews)t.remove();null===(t=this.intersectionObserver)||void 0===t||t.disconnect(),clearTimeout(this.intersectionTimeout)}readMeasure(){let t=this.view.dom.getBoundingClientRect();return{editor:t,parent:this.parent?this.container.getBoundingClientRect():t,pos:this.manager.tooltips.map((t=>this.view.coordsAtPos(t.pos))),size:this.manager.tooltipViews.map((({dom:t})=>t.getBoundingClientRect())),space:this.view.state.facet(um).tooltipSpace(this.view)}}writeMeasure(t){let{editor:e,space:n}=t,r=[];for(let i=0;i<this.manager.tooltips.length;i++){let o=this.manager.tooltips[i],s=this.manager.tooltipViews[i],{dom:a}=s,l=t.pos[i],u=t.size[i];if(!l||l.bottom<=Math.max(e.top,n.top)||l.top>=Math.min(e.bottom,n.bottom)||l.right<=Math.max(e.left,n.left)||l.left>=Math.min(e.right,n.right)){a.style.top=sm;continue}let c=o.arrow?s.dom.querySelector(".cm-tooltip-arrow"):null,h=c?7:0,f=u.right-u.left,p=u.bottom-u.top,d=s.offset||fm,g=this.view.textDirection==Jl.LTR,m=u.width>n.right-n.left?g?n.left:n.right-u.width:g?Math.min(l.left-(c?14:0)+d.x,n.right-f):Math.max(n.left,l.left-f+(c?14:0)-d.x),_=!!o.above;!o.strictSide&&(_?l.top-(u.bottom-u.top)-d.y<n.top:l.bottom+(u.bottom-u.top)+d.y>n.bottom)&&_==n.bottom-l.bottom>l.top-n.top&&(_=!_);let y=_?l.top-p-h-d.y:l.bottom+h+d.y,v=m+f;for(let t of r)t.left<v&&t.right>m&&t.top<y+p&&t.bottom>y&&(y=_?t.top-p-2-h:t.bottom+h+2);"absolute"==this.position?(a.style.top=y-t.parent.top+"px",a.style.left=m-t.parent.left+"px"):(a.style.top=y+"px",a.style.left=m+"px"),c&&(c.style.left=l.left+(g?d.x:-d.x)-(m+14-7)+"px"),r.push({left:m,top:y,right:v,bottom:y+p}),a.classList.toggle("cm-tooltip-above",_),a.classList.toggle("cm-tooltip-below",!_),s.positioned&&s.positioned()}}maybeMeasure(){if(this.manager.tooltips.length&&(this.view.inView&&this.view.requestMeasure(this.measureReq),this.inView!=this.view.inView&&(this.inView=this.view.inView,!this.inView)))for(let t of this.manager.tooltipViews)t.dom.style.top=sm}},{eventHandlers:{scroll(){this.maybeMeasure()}}}),hm=Pc.baseTheme({".cm-tooltip":{zIndex:100},"&light .cm-tooltip":{border:"1px solid #bbb",backgroundColor:"#f5f5f5"},"&light .cm-tooltip-section:not(:first-child)":{borderTop:"1px solid #bbb"},"&dark .cm-tooltip":{backgroundColor:"#333338",color:"white"},".cm-tooltip-arrow":{height:"7px",width:"14px",position:"absolute",zIndex:-1,overflow:"hidden","&:before, &:after":{content:"''",position:"absolute",width:0,height:0,borderLeft:"7px solid transparent",borderRight:"7px solid transparent"},".cm-tooltip-above &":{bottom:"-7px","&:before":{borderTop:"7px solid #bbb"},"&:after":{borderTop:"7px solid #f5f5f5",bottom:"1px"}},".cm-tooltip-below &":{top:"-7px","&:before":{borderBottom:"7px solid #bbb"},"&:after":{borderBottom:"7px solid #f5f5f5",top:"1px"}}},"&dark .cm-tooltip .cm-tooltip-arrow":{"&:before":{borderTopColor:"#333338",borderBottomColor:"#333338"},"&:after":{borderTopColor:"transparent",borderBottomColor:"transparent"}}}),fm={x:0,y:0},pm=Xo.define({enables:[cm,hm]}),dm=Xo.define();class gm{constructor(t){this.view=t,this.mounted=!1,this.dom=document.createElement("div"),this.dom.classList.add("cm-tooltip-hover"),this.manager=new am(t,dm,(t=>this.createHostedView(t)))}static create(t){return new gm(t)}createHostedView(t){let e=t.create(this.view);return e.dom.classList.add("cm-tooltip-section"),this.dom.appendChild(e.dom),this.mounted&&e.mount&&e.mount(this.view),e}mount(t){for(let e of this.manager.tooltipViews)e.mount&&e.mount(t);this.mounted=!0}positioned(){for(let t of this.manager.tooltipViews)t.positioned&&t.positioned()}update(t){this.manager.update(t)}}const mm=pm.compute([dm],(t=>{let e=t.facet(dm).filter((t=>t));return 0===e.length?null:{pos:Math.min(...e.map((t=>t.pos))),end:Math.max(...e.filter((t=>null!=t.end)).map((t=>t.end))),create:gm.create,above:e[0].above,arrow:e.some((t=>t.arrow))}}));class _m{constructor(t,e,n,r,i){this.view=t,this.source=e,this.field=n,this.setHover=r,this.hoverTime=i,this.hoverTimeout=-1,this.restartTimeout=-1,this.pending=null,this.lastMove={x:0,y:0,target:t.dom,time:0},this.checkHover=this.checkHover.bind(this),t.dom.addEventListener("mouseleave",this.mouseleave=this.mouseleave.bind(this)),t.dom.addEventListener("mousemove",this.mousemove=this.mousemove.bind(this))}update(){this.pending&&(this.pending=null,clearTimeout(this.restartTimeout),this.restartTimeout=setTimeout((()=>this.startHover()),20))}get active(){return this.view.state.field(this.field)}checkHover(){if(this.hoverTimeout=-1,this.active)return;let t=Date.now()-this.lastMove.time;t<this.hoverTime?this.hoverTimeout=setTimeout(this.checkHover,this.hoverTime-t):this.startHover()}startHover(){var t;clearTimeout(this.restartTimeout);let{lastMove:e}=this,n=this.view.contentDOM.contains(e.target)?this.view.posAtCoords(e):null;if(null==n)return;let r=this.view.coordsAtPos(n);if(null==r||e.y<r.top||e.y>r.bottom||e.x<r.left-this.view.defaultCharacterWidth||e.x>r.right+this.view.defaultCharacterWidth)return;let i=this.view.bidiSpans(this.view.state.doc.lineAt(n)).find((t=>t.from<=n&&t.to>=n)),o=i&&i.dir==Jl.RTL?-1:1,s=this.source(this.view,n,e.x<r.left?-o:o);if(null===(t=s)||void 0===t?void 0:t.then){let t=this.pending={pos:n};s.then((e=>{this.pending==t&&(this.pending=null,e&&this.view.dispatch({effects:this.setHover.of(e)}))}),(t=>Tl(this.view.state,t,"hover tooltip")))}else s&&this.view.dispatch({effects:this.setHover.of(s)})}mousemove(t){var e;this.lastMove={x:t.clientX,y:t.clientY,target:t.target,time:Date.now()},this.hoverTimeout<0&&(this.hoverTimeout=setTimeout(this.checkHover,this.hoverTime));let n=this.active;if(n&&!function(t){for(let e=t;e;e=e.parentNode)if(1==e.nodeType&&e.classList.contains("cm-tooltip"))return!0;return!1}(this.lastMove.target)||this.pending){let{pos:r}=n||this.pending,i=null!==(e=null==n?void 0:n.end)&&void 0!==e?e:r;(r==i?this.view.posAtCoords(this.lastMove)==r:function(t,e,n,r,i,o){let s=document.createRange(),a=t.domAtPos(e),l=t.domAtPos(n);s.setEnd(l.node,l.offset),s.setStart(a.node,a.offset);let u=s.getClientRects();s.detach();for(let t=0;t<u.length;t++){let e=u[t];if(Math.max(e.top-i,i-e.bottom,e.left-r,r-e.right)<=6)return!0}return!1}(this.view,r,i,t.clientX,t.clientY))||(this.view.dispatch({effects:this.setHover.of(null)}),this.pending=null)}}mouseleave(){clearTimeout(this.hoverTimeout),this.hoverTimeout=-1,this.active&&this.view.dispatch({effects:this.setHover.of(null)})}destroy(){clearTimeout(this.hoverTimeout),this.view.dom.removeEventListener("mouseleave",this.mouseleave),this.view.dom.removeEventListener("mousemove",this.mousemove)}}function ym(t,e={}){let n=ws.define(),r=es.define({create:()=>null,update(t,r){if(t&&e.hideOnChange&&(r.docChanged||r.selection))return null;for(let t of r.effects){if(t.is(n))return t.value;if(t.is(vm))return null}if(t&&r.docChanged){let e=r.changes.mapPos(t.pos,-1,Lo.TrackDel);if(null==e)return null;let n=Object.assign(Object.create(null),t);return n.pos=e,null!=t.end&&(n.end=r.changes.mapPos(t.end)),n}return t},provide:t=>dm.from(t)}),i=e.hoverTime||600;return[r,Ll.define((e=>new _m(e,t,r,n,i))),mm]}const vm=ws.define();class bm{constructor(t,e,n){this.state=t,this.pos=e,this.explicit=n,this.abortListeners=[]}tokenBefore(t){let e=pf(this.state).resolveInner(this.pos,-1);for(;e&&t.indexOf(e.name)<0;)e=e.parent;return e?{from:e.from,to:this.pos,text:this.state.sliceDoc(e.from,this.pos),type:e.type}:null}matchBefore(t){let e=this.state.doc.lineAt(this.pos),n=Math.max(e.from,this.pos-250),r=e.text.slice(n-e.from,this.pos-e.from),i=r.search(Sm(t,!1));return i<0?null:{from:n+i,to:this.pos,text:r.slice(i)}}get aborted(){return null==this.abortListeners}addEventListener(t,e){"abort"==t&&this.abortListeners&&this.abortListeners.push(e)}}function wm(t){let e=Object.keys(t).join(""),n=/\w/.test(e);return n&&(e=e.replace(/\w/g,"")),`[${n?"\\w":""}${e.replace(/[^\w\s]/g,"\\$&")}]`}class xm{constructor(t,e,n){this.completion=t,this.source=e,this.match=n}}function km(t){return t.selection.main.head}function Sm(t,e){var n;let{source:r}=t,i=e&&"^"!=r[0],o="$"!=r[r.length-1];return i||o?new RegExp(`${i?"^":""}(?:${r})${o?"$":""}`,null!==(n=t.flags)&&void 0!==n?n:t.ignoreCase?"i":""):t}const Om=ys.define();function Em(t,e){let n=e.completion.apply||e.completion.label,r=e.source;"string"==typeof n?t.dispatch({changes:{from:r.from,to:r.to,insert:n},selection:{anchor:r.from+n.length},userEvent:"input.complete",annotations:Om.of(e.completion)}):n(t,e.completion,r.from,r.to)}const Cm=new WeakMap;function Am(t){if(!Array.isArray(t))return t;let e=Cm.get(t);return e||Cm.set(t,e=function(t){let e=t.map((t=>"string"==typeof t?{label:t}:t)),[n,r]=e.every((t=>/^\w+$/.test(t.label)))?[/\w*$/,/\w+$/]:function(t){let e=Object.create(null),n=Object.create(null);for(let{label:r}of t){e[r[0]]=!0;for(let t=1;t<r.length;t++)n[r[t]]=!0}let r=wm(e)+wm(n)+"*$";return[new RegExp("^"+r),new RegExp(r)]}(e);return t=>{let i=t.matchBefore(r);return i||t.explicit?{from:i?i.from:t.pos,options:e,span:n}:null}}(t)),e}class Pm{constructor(t){this.pattern=t,this.chars=[],this.folded=[],this.any=[],this.precise=[],this.byWord=[];for(let e=0;e<t.length;){let n=wo(t,e),r=ko(n);this.chars.push(n);let i=t.slice(e,e+r),o=i.toUpperCase();this.folded.push(wo(o==i?i.toLowerCase():o,0)),e+=r}this.astral=t.length!=this.chars.length}match(t){if(0==this.pattern.length)return[0];if(t.length<this.pattern.length)return null;let{chars:e,folded:n,any:r,precise:i,byWord:o}=this;if(1==e.length){let r=wo(t,0);return r==e[0]?[0,0,ko(r)]:r==n[0]?[-200,0,ko(r)]:null}let s=t.indexOf(this.pattern);if(0==s)return[0,0,this.pattern.length];let a=e.length,l=0;if(s<0){for(let i=0,o=Math.min(t.length,200);i<o&&l<a;){let o=wo(t,i);o!=e[l]&&o!=n[l]||(r[l++]=i),i+=ko(o)}if(l<a)return null}let u=0,c=0,h=!1,f=0,p=-1,d=-1,g=/[a-z]/.test(t);for(let r=0,l=Math.min(t.length,200),m=0;r<l&&c<a;){let l=wo(t,r);s<0&&(u<a&&l==e[u]&&(i[u++]=r),f<a&&(l==e[f]||l==n[f]?(0==f&&(p=r),d=r+1,f++):f=0));let _,y=l<255?l>=48&&l<=57||l>=97&&l<=122?2:l>=65&&l<=90?1:0:(_=xo(l))!=_.toLowerCase()?1:_!=_.toUpperCase()?2:0;(1==y&&g||0==m&&0!=y)&&(e[c]==l||n[c]==l&&(h=!0))&&(o[c++]=r),m=y,r+=ko(l)}return c==a&&0==o[0]?this.result((h?-200:0)-100,o,t):f==a&&0==p?[-200,0,d]:s>-1?[-700,s,s+this.pattern.length]:f==a?[-900,p,d]:c==a?this.result((h?-200:0)-100-700,o,t):2==e.length?null:this.result((r[0]?-700:0)-200-1100,r,t)}result(t,e,n){let r=[t],i=1;for(let t of e){let e=t+(this.astral?ko(wo(n,t)):1);i>1&&r[i-1]==t?r[i-1]=e:(r[i++]=t,r[i++]=e)}return r}}const Tm=Xo.define({combine:t=>Ns(t,{activateOnTyping:!0,override:null,maxRenderedOptions:100,defaultKeymap:!0,optionClass:()=>"",aboveCursor:!1,icons:!0,addToOptions:[]},{defaultKeymap:(t,e)=>t&&e,icons:(t,e)=>t&&e,optionClass:(t,e)=>n=>function(t,e){return t?e?t+" "+e:t:e}(t(n),e(n)),addToOptions:(t,e)=>t.concat(e)})});function Mm(t,e,n){if(t<=n)return{from:0,to:t};if(e<=t>>1){let t=Math.floor(e/n);return{from:t*n,to:(t+1)*n}}let r=Math.floor((t-e)/n);return{from:t-(r+1)*n,to:t-r*n}}class Rm{constructor(t,e){this.view=t,this.stateField=e,this.info=null,this.placeInfo={read:()=>this.measureInfo(),write:t=>this.positionInfo(t),key:this};let n=t.state.field(e),{options:r,selected:i}=n.open,o=t.state.facet(Tm);this.optionContent=function(t){let e=t.addToOptions.slice();return t.icons&&e.push({render(t){let e=document.createElement("div");return e.classList.add("cm-completionIcon"),t.type&&e.classList.add(...t.type.split(/\s+/g).map((t=>"cm-completionIcon-"+t))),e.setAttribute("aria-hidden","true"),e},position:20}),e.push({render(t,e,n){let r=document.createElement("span");r.className="cm-completionLabel";let{label:i}=t,o=0;for(let t=1;t<n.length;){let e=n[t++],s=n[t++];e>o&&r.appendChild(document.createTextNode(i.slice(o,e)));let a=r.appendChild(document.createElement("span"));a.appendChild(document.createTextNode(i.slice(e,s))),a.className="cm-completionMatchedText",o=s}return o<i.length&&r.appendChild(document.createTextNode(i.slice(o))),r},position:50},{render(t){if(!t.detail)return null;let e=document.createElement("span");return e.className="cm-completionDetail",e.textContent=t.detail,e},position:80}),e.sort(((t,e)=>t.position-e.position)).map((t=>t.render))}(o),this.optionClass=o.optionClass,this.range=Mm(r.length,i,o.maxRenderedOptions),this.dom=document.createElement("div"),this.dom.className="cm-tooltip-autocomplete",this.dom.addEventListener("mousedown",(e=>{for(let n,i=e.target;i&&i!=this.dom;i=i.parentNode)if("LI"==i.nodeName&&(n=/-(\d+)$/.exec(i.id))&&+n[1]<r.length)return Em(t,r[+n[1]]),void e.preventDefault()})),this.list=this.dom.appendChild(this.createListBox(r,n.id,this.range)),this.list.addEventListener("scroll",(()=>{this.info&&this.view.requestMeasure(this.placeInfo)}))}mount(){this.updateSel()}update(t){t.state.field(this.stateField)!=t.startState.field(this.stateField)&&this.updateSel()}positioned(){this.info&&this.view.requestMeasure(this.placeInfo)}updateSel(){let t=this.view.state.field(this.stateField),e=t.open;if((e.selected<this.range.from||e.selected>=this.range.to)&&(this.range=Mm(e.options.length,e.selected,this.view.state.facet(Tm).maxRenderedOptions),this.list.remove(),this.list=this.dom.appendChild(this.createListBox(e.options,t.id,this.range)),this.list.addEventListener("scroll",(()=>{this.info&&this.view.requestMeasure(this.placeInfo)}))),this.updateSelectedOption(e.selected)){this.info&&(this.info.remove(),this.info=null);let t=e.options[e.selected];t.completion.info&&(this.info=this.dom.appendChild(function(t,e){let n=document.createElement("div");n.className="cm-tooltip cm-completionInfo";let{info:r}=t.completion;if("string"==typeof r)n.textContent=r;else{let i=r(t.completion);i.then?i.then((t=>n.appendChild(t)),(t=>Tl(e.state,t,"completion info"))):n.appendChild(i)}return n}(t,this.view)),this.view.requestMeasure(this.placeInfo))}}updateSelectedOption(t){let e=null;for(let n=this.list.firstChild,r=this.range.from;n;n=n.nextSibling,r++)r==t?n.hasAttribute("aria-selected")||(n.setAttribute("aria-selected","true"),e=n):n.hasAttribute("aria-selected")&&n.removeAttribute("aria-selected");return e&&function(t,e){let n=t.getBoundingClientRect(),r=e.getBoundingClientRect();r.top<n.top?t.scrollTop-=n.top-r.top:r.bottom>n.bottom&&(t.scrollTop+=r.bottom-n.bottom)}(this.list,e),e}measureInfo(){let t=this.dom.querySelector("[aria-selected]");if(!t||!this.info)return null;let e=this.dom.getBoundingClientRect(),n=this.info.getBoundingClientRect();if(e.top>innerHeight-10||e.bottom<10)return null;let r=Math.max(0,Math.min(t.getBoundingClientRect().top,innerHeight-n.height))-e.top,i=this.view.textDirection==Jl.RTL,o=e.left,s=innerWidth-e.right;return i&&o<Math.min(n.width,s)?i=!1:!i&&s<Math.min(n.width,o)&&(i=!0),{top:r,left:i}}positionInfo(t){this.info&&(this.info.style.top=(t?t.top:-1e6)+"px",t&&(this.info.classList.toggle("cm-completionInfo-left",t.left),this.info.classList.toggle("cm-completionInfo-right",!t.left)))}createListBox(t,e,n){const r=document.createElement("ul");r.id=e,r.setAttribute("role","listbox");for(let i=n.from;i<n.to;i++){let{completion:n,match:o}=t[i];const s=r.appendChild(document.createElement("li"));s.id=e+"-"+i,s.setAttribute("role","option");let a=this.optionClass(n);a&&(s.className=a);for(let t of this.optionContent){let e=t(n,this.view.state,o);e&&s.appendChild(e)}}return n.from&&r.classList.add("cm-completionListIncompleteTop"),n.to<t.length&&r.classList.add("cm-completionListIncompleteBottom"),r}}function Nm(t){return 100*(t.boost||0)+(t.apply?10:0)+(t.info?5:0)+(t.type?1:0)}class Dm{constructor(t,e,n,r,i){this.options=t,this.attrs=e,this.tooltip=n,this.timestamp=r,this.selected=i}setSelected(t,e){return t==this.selected||t>=this.options.length?this:new Dm(this.options,Im(e,t),this.tooltip,this.timestamp,t)}static build(t,e,n,r,i){let o=function(t,e){let n=[],r=0;for(let i of t)if(i.hasResult())if(!1===i.result.filter)for(let t of i.result.options)n.push(new xm(t,i,[1e9-r++]));else{let t,r=new Pm(e.sliceDoc(i.from,i.to));for(let e of i.result.options)(t=r.match(e.label))&&(null!=e.boost&&(t[0]+=e.boost),n.push(new xm(e,i,t)))}n.sort(zm);let i=[],o=null;for(let t of n.sort(zm)){if(300==i.length)break;o&&o.label==t.completion.label&&o.detail==t.completion.detail&&o.type==t.completion.type&&o.apply==t.completion.apply?Nm(t.completion)>Nm(o)&&(i[i.length-1]=t):i.push(t),o=t.completion}return i}(t,e);if(!o.length)return null;let s=0;if(r&&r.selected){let t=r.options[r.selected].completion;for(let e=0;e<o.length&&!s;e++)o[e].completion==t&&(s=e)}return new Dm(o,Im(n,s),{pos:t.reduce(((t,e)=>e.hasResult()?Math.min(t,e.from):t),1e8),create:(a=Km,t=>new Rm(t,a)),above:i.aboveCursor},r?r.timestamp:Date.now(),s);var a}map(t){return new Dm(this.options,this.attrs,Object.assign(Object.assign({},this.tooltip),{pos:t.mapPos(this.tooltip.pos)}),this.timestamp,this.selected)}}class jm{constructor(t,e,n){this.active=t,this.id=e,this.open=n}static start(){return new jm(Bm,"cm-ac-"+Math.floor(2e6*Math.random()).toString(36),null)}update(t){let{state:e}=t,n=e.facet(Tm),r=(n.override||e.languageDataAt("autocomplete",km(e)).map(Am)).map((e=>{let r=this.active.find((t=>t.source==e))||new Vm(e,this.active.some((t=>0!=t.state))?1:0);return r.update(t,n)}));r.length==this.active.length&&r.every(((t,e)=>t==this.active[e]))&&(r=this.active);let i=t.selection||r.some((e=>e.hasResult()&&t.changes.touchesRange(e.from,e.to)))||!function(t,e){if(t==e)return!0;for(let n=0,r=0;;){for(;n<t.length&&!t[n].hasResult;)n++;for(;r<e.length&&!e[r].hasResult;)r++;let i=n==t.length,o=r==e.length;if(i||o)return i==o;if(t[n++].result!=e[r++].result)return!1}}(r,this.active)?Dm.build(r,e,this.id,this.open,n):this.open&&t.docChanged?this.open.map(t.changes):this.open;!i&&r.every((t=>1!=t.state))&&r.some((t=>t.hasResult()))&&(r=r.map((t=>t.hasResult()?new Vm(t.source,0):t)));for(let e of t.effects)e.is($m)&&(i=i&&i.setSelected(e.value,this.id));return r==this.active&&i==this.open?this:new jm(r,this.id,i)}get tooltip(){return this.open?this.open.tooltip:null}get attrs(){return this.open?this.open.attrs:Lm}}const Lm={"aria-autocomplete":"list","aria-expanded":"false"};function Im(t,e){return{"aria-autocomplete":"list","aria-expanded":"true","aria-activedescendant":t+"-"+e,"aria-controls":t}}const Bm=[];function zm(t,e){return e.match[0]-t.match[0]||t.completion.label.localeCompare(e.completion.label)}function Fm(t){return t.isUserEvent("input.type")?"input":t.isUserEvent("delete.backward")?"delete":null}class Vm{constructor(t,e,n=-1){this.source=t,this.state=e,this.explicitPos=n}hasResult(){return!1}update(t,e){let n=Fm(t),r=this;n?r=r.handleUserEvent(t,n,e):t.docChanged?r=r.handleChange(t):t.selection&&0!=r.state&&(r=new Vm(r.source,0));for(let e of t.effects)if(e.is(qm))r=new Vm(r.source,1,e.value?km(t.state):-1);else if(e.is(Hm))r=new Vm(r.source,0);else if(e.is(Wm))for(let t of e.value)t.source==r.source&&(r=t);return r}handleUserEvent(t,e,n){return"delete"!=e&&n.activateOnTyping?new Vm(this.source,1):this.map(t.changes)}handleChange(t){return t.changes.touchesRange(km(t.startState))?new Vm(this.source,0):this.map(t.changes)}map(t){return t.empty||this.explicitPos<0?this:new Vm(this.source,this.state,t.mapPos(this.explicitPos))}}class Um extends Vm{constructor(t,e,n,r,i,o){super(t,2,e),this.result=n,this.from=r,this.to=i,this.span=o}hasResult(){return!0}handleUserEvent(t,e,n){let r=t.changes.mapPos(this.from),i=t.changes.mapPos(this.to,1),o=km(t.state);if((this.explicitPos>-1?o<r:o<=r)||o>i)return new Vm(this.source,"input"==e&&n.activateOnTyping?1:0);let s=this.explicitPos<0?-1:t.changes.mapPos(this.explicitPos);return this.span&&(r==i||this.span.test(t.state.sliceDoc(r,i)))?new Um(this.source,s,this.result,r,i,this.span):new Vm(this.source,1,s)}handleChange(t){return t.changes.touchesRange(this.from,this.to)?new Vm(this.source,0):this.map(t.changes)}map(t){return t.empty?this:new Um(this.source,this.explicitPos<0?-1:t.mapPos(this.explicitPos),this.result,t.mapPos(this.from),t.mapPos(this.to,1),this.span)}}const qm=ws.define(),Hm=ws.define(),Wm=ws.define({map:(t,e)=>t.map((t=>t.map(e)))}),$m=ws.define(),Km=es.define({create:()=>jm.start(),update:(t,e)=>t.update(e),provide:t=>[pm.from(t,(t=>t.tooltip)),Pc.contentAttributes.from(t,(t=>t.attrs))]});function Qm(t,e="option"){return n=>{let r=n.state.field(Km,!1);if(!r||!r.open||Date.now()-r.open.timestamp<75)return!1;let i,o=1;"page"==e&&(i=n.dom.querySelector(".cm-tooltip-autocomplete"))&&(o=Math.max(2,Math.floor(i.offsetHeight/i.firstChild.offsetHeight)));let s=r.open.selected+o*(t?1:-1),{length:a}=r.open.options;return s<0?s="page"==e?0:a-1:s>=a&&(s="page"==e?a-1:0),n.dispatch({effects:$m.of(s)}),!0}}class Gm{constructor(t,e){this.active=t,this.context=e,this.time=Date.now(),this.updates=[],this.done=void 0}}const Xm=Ll.fromClass(class{constructor(t){this.view=t,this.debounceUpdate=-1,this.running=[],this.debounceAccept=-1,this.composing=0;for(let e of t.state.field(Km).active)1==e.state&&this.startQuery(e)}update(t){let e=t.state.field(Km);if(!t.selectionSet&&!t.docChanged&&t.startState.field(Km)==e)return;let n=t.transactions.some((t=>(t.selection||t.docChanged)&&!Fm(t)));for(let e=0;e<this.running.length;e++){let r=this.running[e];if(n||r.updates.length+t.transactions.length>50&&r.time-Date.now()>1e3){for(let t of r.context.abortListeners)try{t()}catch(t){Tl(this.view.state,t)}r.context.abortListeners=null,this.running.splice(e--,1)}else r.updates.push(...t.transactions)}if(this.debounceUpdate>-1&&clearTimeout(this.debounceUpdate),this.debounceUpdate=e.active.some((t=>1==t.state&&!this.running.some((e=>e.active.source==t.source))))?setTimeout((()=>this.startUpdate()),50):-1,0!=this.composing)for(let e of t.transactions)"input"==Fm(e)?this.composing=2:2==this.composing&&e.selection&&(this.composing=3)}startUpdate(){this.debounceUpdate=-1;let{state:t}=this.view,e=t.field(Km);for(let t of e.active)1!=t.state||this.running.some((e=>e.active.source==t.source))||this.startQuery(t)}startQuery(t){let{state:e}=this.view,n=km(e),r=new bm(e,n,t.explicitPos==n),i=new Gm(t,r);this.running.push(i),Promise.resolve(t.source(r)).then((t=>{i.context.aborted||(i.done=t||null,this.scheduleAccept())}),(t=>{this.view.dispatch({effects:Hm.of(null)}),Tl(this.view.state,t)}))}scheduleAccept(){this.running.every((t=>void 0!==t.done))?this.accept():this.debounceAccept<0&&(this.debounceAccept=setTimeout((()=>this.accept()),50))}accept(){var t;this.debounceAccept>-1&&clearTimeout(this.debounceAccept),this.debounceAccept=-1;let e=[],n=this.view.state.facet(Tm);for(let r=0;r<this.running.length;r++){let i=this.running[r];if(void 0===i.done)continue;if(this.running.splice(r--,1),i.done){let r=new Um(i.active.source,i.active.explicitPos,i.done,i.done.from,null!==(t=i.done.to)&&void 0!==t?t:km(i.updates.length?i.updates[0].startState:this.view.state),i.done.span&&!1!==i.done.filter?Sm(i.done.span,!0):null);for(let t of i.updates)r=r.update(t,n);if(r.hasResult()){e.push(r);continue}}let o=this.view.state.field(Km).active.find((t=>t.source==i.active.source));if(o&&1==o.state)if(null==i.done){let t=new Vm(i.active.source,0);for(let e of i.updates)t=t.update(e,n);1!=t.state&&e.push(t)}else this.startQuery(o)}e.length&&this.view.dispatch({effects:Wm.of(e)})}},{eventHandlers:{compositionstart(){this.composing=1},compositionend(){3==this.composing&&setTimeout((()=>this.view.dispatch({effects:qm.of(!1)})),20),this.composing=0}}}),Jm=Pc.baseTheme({".cm-tooltip.cm-tooltip-autocomplete":{"& > ul":{fontFamily:"monospace",whiteSpace:"nowrap",overflow:"hidden auto",maxWidth_fallback:"700px",maxWidth:"min(700px, 95vw)",minWidth:"250px",maxHeight:"10em",listStyle:"none",margin:0,padding:0,"& > li":{overflowX:"hidden",textOverflow:"ellipsis",cursor:"pointer",padding:"1px 3px",lineHeight:1.2}}},"&light .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#39e",color:"white"},"&dark .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#347",color:"white"},".cm-completionListIncompleteTop:before, .cm-completionListIncompleteBottom:after":{content:'"···"',opacity:.5,display:"block",textAlign:"center"},".cm-tooltip.cm-completionInfo":{position:"absolute",padding:"3px 9px",width:"max-content",maxWidth:"300px"},".cm-completionInfo.cm-completionInfo-left":{right:"100%"},".cm-completionInfo.cm-completionInfo-right":{left:"100%"},"&light .cm-snippetField":{backgroundColor:"#00000022"},"&dark .cm-snippetField":{backgroundColor:"#ffffff22"},".cm-snippetFieldPosition":{verticalAlign:"text-top",width:0,height:"1.15em",margin:"0 -0.7px -.7em",borderLeft:"1.4px dotted #888"},".cm-completionMatchedText":{textDecoration:"underline"},".cm-completionDetail":{marginLeft:"0.5em",fontStyle:"italic"},".cm-completionIcon":{fontSize:"90%",width:".8em",display:"inline-block",textAlign:"center",paddingRight:".6em",opacity:"0.6"},".cm-completionIcon-function, .cm-completionIcon-method":{"&:after":{content:"'ƒ'"}},".cm-completionIcon-class":{"&:after":{content:"'○'"}},".cm-completionIcon-interface":{"&:after":{content:"'◌'"}},".cm-completionIcon-variable":{"&:after":{content:"'𝑥'"}},".cm-completionIcon-constant":{"&:after":{content:"'𝐶'"}},".cm-completionIcon-type":{"&:after":{content:"'𝑡'"}},".cm-completionIcon-enum":{"&:after":{content:"'∪'"}},".cm-completionIcon-property":{"&:after":{content:"'□'"}},".cm-completionIcon-keyword":{"&:after":{content:"'🔑︎'"}},".cm-completionIcon-namespace":{"&:after":{content:"'▢'"}},".cm-completionIcon-text":{"&:after":{content:"'abc'",fontSize:"50%",verticalAlign:"middle"}}});function Ym(t={}){return[Km,Tm.of(t),Xm,t_,Jm]}const Zm=[{key:"Ctrl-Space",run:t=>!!t.state.field(Km,!1)&&(t.dispatch({effects:qm.of(!0)}),!0)},{key:"Escape",run:t=>{let e=t.state.field(Km,!1);return!(!e||!e.active.some((t=>0!=t.state))||(t.dispatch({effects:Hm.of(null)}),0))}},{key:"ArrowDown",run:Qm(!0)},{key:"ArrowUp",run:Qm(!1)},{key:"PageDown",run:Qm(!0,"page")},{key:"PageUp",run:Qm(!1,"page")},{key:"Enter",run:t=>{let e=t.state.field(Km,!1);return!(t.state.readOnly||!e||!e.open||Date.now()-e.open.timestamp<75||(Em(t,e.open.options[e.open.selected]),0))}}],t_=rs.highest(zc.computeN([Tm],(t=>t.facet(Tm).defaultKeymap?[Zm]:[])));function e_(t,e){return({state:n,dispatch:r})=>{let i=t(e,n.selection.ranges,n);return!!i&&(r(n.update(i)),!0)}}const n_=e_(a_,0),r_=e_(s_,0),i_=[{key:"Mod-/",run:t=>{let e=o_(t.state);return e.line?n_(t):!!e.block&&r_(t)}},{key:"Alt-A",run:r_}];function o_(t,e=t.selection.main.head){let n=t.languageDataAt("commentTokens",e);return n.length?n[0]:{}}function s_(t,e,n){let r=e.map((t=>o_(n,t.from).block));if(!r.every((t=>t)))return null;let i=e.map(((t,e)=>function(t,{open:e,close:n},r,i){let o,s,a=t.sliceDoc(r-50,r),l=t.sliceDoc(i,i+50),u=/\s*$/.exec(a)[0].length,c=/^\s*/.exec(l)[0].length,h=a.length-u;if(a.slice(h-e.length,h)==e&&l.slice(c,c+n.length)==n)return{open:{pos:r-u,margin:u&&1},close:{pos:i+c,margin:c&&1}};i-r<=100?o=s=t.sliceDoc(r,i):(o=t.sliceDoc(r,r+50),s=t.sliceDoc(i-50,i));let f=/^\s*/.exec(o)[0].length,p=/\s*$/.exec(s)[0].length,d=s.length-p-n.length;return o.slice(f,f+e.length)==e&&s.slice(d,d+n.length)==n?{open:{pos:r+f+e.length,margin:/\s/.test(o.charAt(f+e.length))?1:0},close:{pos:i-p-n.length,margin:/\s/.test(s.charAt(d-1))?1:0}}:null}(n,r[e],t.from,t.to)));if(2!=t&&!i.every((t=>t))){let t=0;return n.changeByRange((e=>{let{open:n,close:o}=r[t++];if(i[t])return{range:e};let s=n.length+1;return{changes:[{from:e.from,insert:n+" "},{from:e.to,insert:" "+o}],range:$o.range(e.anchor+s,e.head+s)}}))}if(1!=t&&i.some((t=>t))){let t=[];for(let e,n=0;n<i.length;n++)if(e=i[n]){let i=r[n],{open:o,close:s}=e;t.push({from:o.pos-i.open.length,to:o.pos+o.margin},{from:s.pos-s.margin,to:s.pos+i.close.length})}return{changes:t}}return null}function a_(t,e,n){let r=[],i=-1;for(let{from:t,to:o}of e){let e=r.length,s=1e9;for(let e=t;e<=o;){let a=n.doc.lineAt(e);if(a.from>i&&(t==o||o>a.from)){i=a.from;let t=o_(n,e).line;if(!t)continue;let o=/^\s*/.exec(a.text)[0].length,l=o==a.length,u=a.text.slice(o,o+t.length)==t?o:-1;o<a.text.length&&o<s&&(s=o),r.push({line:a,comment:u,token:t,indent:o,empty:l,single:!1})}e=a.to+1}if(s<1e9)for(let t=e;t<r.length;t++)r[t].indent<r[t].line.text.length&&(r[t].indent=s);r.length==e+1&&(r[e].single=!0)}if(2!=t&&r.some((t=>t.comment<0&&(!t.empty||t.single)))){let t=[];for(let{line:e,token:n,indent:i,empty:o,single:s}of r)!s&&o||t.push({from:e.from+i,insert:n+" "});let e=n.changes(t);return{changes:e,selection:n.selection.map(e,1)}}if(1!=t&&r.some((t=>t.comment>=0))){let t=[];for(let{line:e,comment:n,token:i}of r)if(n>=0){let r=e.from+n,o=r+i.length;" "==e.text[o-e.from]&&o++,t.push({from:r,to:o})}return{changes:t}}return null}const l_=2e3;function u_(t,e){let n=t.posAtCoords({x:e.clientX,y:e.clientY},!1),r=t.state.doc.lineAt(n),i=n-r.from,o=i>l_?-1:i==r.length?function(t,e){let n=t.coordsAtPos(t.viewport.from);return n?Math.round(Math.abs((n.left-e)/t.defaultCharacterWidth)):-1}(t,e.clientX):So(r.text,t.state.tabSize,n-r.from);return{line:r.number,col:o,off:i}}function c_(t){let e=(null==t?void 0:t.eventFilter)||(t=>t.altKey&&0==t.button);return Pc.mouseSelectionStyle.of(((t,n)=>e(n)?function(t,e){let n=u_(t,e),r=t.state.selection;return n?{update(t){if(t.docChanged){let e=t.changes.mapPos(t.startState.doc.line(n.line).from),i=t.state.doc.lineAt(e);n={line:i.number,col:n.col,off:Math.min(n.off,i.length)},r=r.map(t.changes)}},get(e,i,o){let s=u_(t,e);if(!s)return r;let a=function(t,e,n){let r=Math.min(e.line,n.line),i=Math.max(e.line,n.line),o=[];if(e.off>l_||n.off>l_||e.col<0||n.col<0){let s=Math.min(e.off,n.off),a=Math.max(e.off,n.off);for(let e=r;e<=i;e++){let n=t.doc.line(e);n.length<=a&&o.push($o.range(n.from+s,n.to+a))}}else{let s=Math.min(e.col,n.col),a=Math.max(e.col,n.col);for(let e=r;e<=i;e++){let n=t.doc.line(e),r=Oo(n.text,s,t.tabSize,!0);if(r>-1){let e=Oo(n.text,a,t.tabSize);o.push($o.range(n.from+r,n.from+e))}}}return o}(t.state,n,s);return a.length?o?$o.create(a.concat(r.ranges)):$o.create(a):r}}:null}(t,n):null))}let h_=0;class f_{constructor(t,e,n){this.set=t,this.base=e,this.modified=n,this.id=h_++}static define(t){if(null==t?void 0:t.base)throw new Error("Can not derive from a modified tag");let e=new f_([],null,[]);if(e.set.push(e),t)for(let n of t.set)e.set.push(n);return e}static defineModifier(){let t=new d_;return e=>e.modified.indexOf(t)>-1?e:d_.get(e.base||e,e.modified.concat(t).sort(((t,e)=>t.id-e.id)))}}let p_=0;class d_{constructor(){this.instances=[],this.id=p_++}static get(t,e){if(!e.length)return t;let n=e[0].instances.find((n=>n.base==t&&function(t,e){return t.length==e.length&&t.every(((t,n)=>t==e[n]))}(e,n.modified)));if(n)return n;let r=[],i=new f_(r,t,e);for(let t of e)t.instances.push(i);let o=g_(e);for(let e of t.set)for(let t of o)r.push(d_.get(e,t));return i}}function g_(t){let e=[t];for(let n=0;n<t.length;n++)for(let r of g_(t.slice(0,n).concat(t.slice(n+1))))e.push(r);return e}function m_(t){let e=Object.create(null);for(let n in t){let r=t[n];Array.isArray(r)||(r=[r]);for(let t of n.split(" "))if(t){let n=[],i=2,o=t;for(let e=0;;){if("..."==o&&e>0&&e+3==t.length){i=1;break}let r=/^"(?:[^"\\]|\\.)*?"|[^\/!]+/.exec(o);if(!r)throw new RangeError("Invalid path: "+t);if(n.push("*"==r[0]?null:'"'==r[0][0]?JSON.parse(r[0]):r[0]),e+=r[0].length,e==t.length)break;let s=t[e++];if(e==t.length&&"!"==s){i=0;break}if("/"!=s)throw new RangeError("Invalid path: "+t);o=t.slice(e)}let s=n.length-1,a=n[s];if(!a)throw new RangeError("Invalid path: "+t);let l=new w_(r,i,s>0?n.slice(0,s):null);e[a]=l.sort(e[a])}}return __.add(e)}const __=new Fh,y_=Xo.define({combine:t=>t.length?x_.combinedMatch(t):null}),v_=Xo.define({combine:t=>t.length?t[0].match:null});function b_(t){return t.facet(y_)||t.facet(v_)}class w_{constructor(t,e,n,r){this.tags=t,this.mode=e,this.context=n,this.next=r}sort(t){return!t||t.depth<this.depth?(this.next=t,this):(t.next=this.sort(t.next),t)}get depth(){return this.context?this.context.length:0}}class x_{constructor(t,e){let n;function r(t){let e=Is.newName();return(n||(n=Object.create(null)))["."+e]=t,e}this.map=Object.create(null),this.all="string"==typeof e.all?e.all:e.all?r(e.all):null;for(let e of t){let t=(e.class||r(Object.assign({},e,{tag:null})))+(this.all?" "+this.all:""),n=e.tag;if(Array.isArray(n))for(let e of n)this.map[e.id]=t;else this.map[n.id]=t}this.module=n?new Is(n):null,this.scope=e.scope||null,this.match=this.match.bind(this);let i=[S_];this.module&&i.push(Pc.styleModule.of(this.module)),this.extension=i.concat(y_.of(this)),this.fallback=i.concat(v_.of(this))}match(t,e){if(this.scope&&e!=this.scope)return null;for(let e of t.set){let n=this.map[e.id];if(void 0!==n)return e!=t&&(this.map[t.id]=n),n}return this.map[t.id]=this.all}static combinedMatch(t){if(1==t.length)return t[0].match;let e=t.some((t=>t.scope))?void 0:Object.create(null);return(n,r)=>{let i=e&&e[n.id];if(void 0!==i)return i;let o=null;for(let e of t){let t=e.match(n,r);t&&(o=o?o+" "+t:t)}return e&&(e[n.id]=o),o}}static define(t,e){return new x_(t,e||{})}static get(t,e,n){let r=b_(t);return r&&r(e,n||Uh.none)}}class k_{constructor(t){this.markCache=Object.create(null),this.tree=pf(t.state),this.decorations=this.buildDeco(t,b_(t.state))}update(t){let e=pf(t.state),n=b_(t.state),r=n!=t.startState.facet(y_);e.length<t.view.viewport.to&&!r&&e.type==this.tree.type?this.decorations=this.decorations.map(t.changes):(e!=this.tree||t.viewportChanged||r)&&(this.tree=e,this.decorations=this.buildDeco(t.view,n))}buildDeco(t,e){if(!e||!this.tree.length)return ul.none;let n=new Ws;for(let{from:r,to:i}of t.visibleRanges)C_(this.tree,r,i,e,((t,e,r)=>{n.add(t,e,this.markCache[r]||(this.markCache[r]=ul.mark({class:r})))}));return n.finish()}}const S_=rs.extend(Ll.fromClass(k_,{decorations:t=>t.decorations})),O_=[""];class E_{constructor(t,e,n){this.at=t,this.style=e,this.span=n,this.class=""}startSpan(t,e){e!=this.class&&(this.flush(t),t>this.at&&(this.at=t),this.class=e)}flush(t){t>this.at&&this.class&&this.span(this.at,t,this.class)}highlightRange(t,e,n,r,i,o){let{type:s,from:a,to:l}=t;if(a>=n||l<=e)return;O_[i]=s.name,s.isTop&&(o=s);let u=r,c=s.prop(__),h=!1;for(;c;){if(!c.context||A_(c.context,O_,i)){for(let t of c.tags){let e=this.style(t,o);e&&(u&&(u+=" "),u+=e,1==c.mode?r+=(r?" ":"")+e:0==c.mode&&(h=!0))}break}c=c.next}if(this.startSpan(t.from,u),h)return;let f=t.tree&&t.tree.prop(Fh.mounted);if(f&&f.overlay){let s=t.node.enter(f.overlay[0].from+a,1),c=t.firstChild();for(let h=0,p=a;;h++){let d=h<f.overlay.length?f.overlay[h]:null,g=d?d.from+a:l,m=Math.max(e,p),_=Math.min(n,g);if(m<_&&c)for(;t.from<_&&(this.highlightRange(t,m,_,r,i+1,o),this.startSpan(Math.min(n,t.to),u),!(t.to>=g)&&t.nextSibling()););if(!d||g>n)break;p=d.to+a,p>e&&(this.highlightRange(s.cursor,Math.max(e,d.from+a),Math.min(n,p),r,i,f.tree.type),this.startSpan(p,u))}c&&t.parent()}else if(t.firstChild()){do{if(!(t.to<=e)){if(t.from>=n)break;this.highlightRange(t,e,n,r,i+1,o),this.startSpan(Math.min(n,t.to),u)}}while(t.nextSibling());t.parent()}}}function C_(t,e,n,r,i){let o=new E_(e,r,i);o.highlightRange(t.cursor(),e,n,"",0,t.type),o.flush(n)}function A_(t,e,n){if(t.length>n-1)return!1;for(let r=n-1,i=t.length-1;i>=0;i--,r--){let n=t[i];if(n&&n!=e[r])return!1}return!0}const P_=f_.define,T_=P_(),M_=P_(),R_=P_(M_),N_=P_(M_),D_=P_(),j_=P_(D_),L_=P_(D_),I_=P_(),B_=P_(I_),z_=P_(),F_=P_(),V_=P_(),U_=P_(V_),q_=P_(),H_={comment:T_,lineComment:P_(T_),blockComment:P_(T_),docComment:P_(T_),name:M_,variableName:P_(M_),typeName:R_,tagName:P_(R_),propertyName:N_,attributeName:P_(N_),className:P_(M_),labelName:P_(M_),namespace:P_(M_),macroName:P_(M_),literal:D_,string:j_,docString:P_(j_),character:P_(j_),attributeValue:P_(j_),number:L_,integer:P_(L_),float:P_(L_),bool:P_(D_),regexp:P_(D_),escape:P_(D_),color:P_(D_),url:P_(D_),keyword:z_,self:P_(z_),null:P_(z_),atom:P_(z_),unit:P_(z_),modifier:P_(z_),operatorKeyword:P_(z_),controlKeyword:P_(z_),definitionKeyword:P_(z_),operator:F_,derefOperator:P_(F_),arithmeticOperator:P_(F_),logicOperator:P_(F_),bitwiseOperator:P_(F_),compareOperator:P_(F_),updateOperator:P_(F_),definitionOperator:P_(F_),typeOperator:P_(F_),controlOperator:P_(F_),punctuation:V_,separator:P_(V_),bracket:U_,angleBracket:P_(U_),squareBracket:P_(U_),paren:P_(U_),brace:P_(U_),content:I_,heading:B_,heading1:P_(B_),heading2:P_(B_),heading3:P_(B_),heading4:P_(B_),heading5:P_(B_),heading6:P_(B_),contentSeparator:P_(I_),list:P_(I_),quote:P_(I_),emphasis:P_(I_),strong:P_(I_),link:P_(I_),monospace:P_(I_),strikethrough:P_(I_),inserted:P_(),deleted:P_(),changed:P_(),invalid:P_(),meta:q_,documentMeta:P_(q_),annotation:P_(q_),processingInstruction:P_(q_),definition:f_.defineModifier(),constant:f_.defineModifier(),function:f_.defineModifier(),standard:f_.defineModifier(),local:f_.defineModifier(),special:f_.defineModifier()},W_=x_.define([{tag:H_.link,textDecoration:"underline"},{tag:H_.heading,textDecoration:"underline",fontWeight:"bold"},{tag:H_.emphasis,fontStyle:"italic"},{tag:H_.strong,fontWeight:"bold"},{tag:H_.strikethrough,textDecoration:"line-through"},{tag:H_.keyword,color:"#708"},{tag:[H_.atom,H_.bool,H_.url,H_.contentSeparator,H_.labelName],color:"#219"},{tag:[H_.literal,H_.inserted],color:"#164"},{tag:[H_.string,H_.deleted],color:"#a11"},{tag:[H_.regexp,H_.escape,H_.special(H_.string)],color:"#e40"},{tag:H_.definition(H_.variableName),color:"#00f"},{tag:H_.local(H_.variableName),color:"#30a"},{tag:[H_.typeName,H_.namespace],color:"#085"},{tag:H_.className,color:"#167"},{tag:[H_.special(H_.variableName),H_.macroName],color:"#256"},{tag:H_.definition(H_.propertyName),color:"#00c"},{tag:H_.comment,color:"#940"},{tag:H_.meta,color:"#7a757a"},{tag:H_.invalid,color:"#f00"}]);class $_{constructor(t,e,n){this.from=t,this.to=e,this.diagnostic=n}}class K_{constructor(t,e,n){this.diagnostics=t,this.panel=e,this.selected=n}static init(t,e,n){let r=ul.set(t.map((t=>t.from==t.to||t.from==t.to-1&&n.doc.lineAt(t.from).to==t.from?ul.widget({widget:new sy(t),diagnostic:t}).range(t.from):ul.mark({attributes:{class:"cm-lintRange cm-lintRange-"+t.severity},diagnostic:t}).range(t.from,t.to))),!0);return new K_(r,e,Q_(r))}}function Q_(t,e=null,n=0){let r=null;return t.between(n,1e9,((t,n,{spec:i})=>{if(!e||i.diagnostic==e)return r=new $_(t,n,i.diagnostic),!1})),r}const G_=ws.define(),X_=ws.define(),J_=ws.define(),Y_=es.define({create:()=>new K_(ul.none,null,null),update(t,e){if(e.docChanged){let n=t.diagnostics.map(e.changes),r=null;if(t.selected){let i=e.changes.mapPos(t.selected.from,1);r=Q_(n,t.selected.diagnostic,i)||Q_(n,null,i)}t=new K_(n,t.panel,r)}for(let n of e.effects)n.is(G_)?t=K_.init(n.value,t.panel,e.state):n.is(X_)?t=new K_(t.diagnostics,n.value?ly.open:null,t.selected):n.is(J_)&&(t=new K_(t.diagnostics,t.panel,n.value));return t},provide:t=>[cg.from(t,(t=>t.panel)),Pc.decorations.from(t,(t=>t.diagnostics))]}),Z_=ul.mark({class:"cm-lintRange cm-lintRange-active"});function ty(t,e,n){let{diagnostics:r}=t.state.field(Y_),i=[],o=2e8,s=0;return r.between(e-(n<0?1:0),e+(n>0?1:0),((t,r,{spec:a})=>{e>=t&&e<=r&&(t==r||(e>t||n>0)&&(e<r||n<0))&&(i.push(a.diagnostic),o=Math.min(t,o),s=Math.max(r,s))})),i.length?{pos:o,end:s,above:t.state.doc.lineAt(o).to<s,create:()=>({dom:ey(t,i)})}:null}function ey(t,e){return hg("ul",{class:"cm-tooltip-lint"},e.map((e=>oy(t,e,!1))))}const ny=t=>{let e=t.state.field(Y_,!1);return!(!e||!e.panel||(t.dispatch({effects:X_.of(!1)}),0))},ry=[{key:"Mod-Shift-m",run:t=>{let e=t.state.field(Y_,!1);var n,r;e&&e.panel||t.dispatch({effects:(n=t.state,r=[X_.of(!0)],n.field(Y_,!1)?r:r.concat(ws.appendConfig.of([Y_,Pc.decorations.compute([Y_],(t=>{let{selected:e,panel:n}=t.field(Y_);return e&&n&&e.from!=e.to?ul.set([Z_.range(e.from,e.to)]):ul.none})),ym(ty),cy])))});let i=og(t,ly.open);return i&&i.dom.querySelector(".cm-panel-lint ul").focus(),!0}},{key:"F8",run:t=>{let e=t.state.field(Y_,!1);if(!e)return!1;let n=t.state.selection.main,r=e.diagnostics.iter(n.to+1);return!(!r.value&&(r=e.diagnostics.iter(0),!r.value||r.from==n.from&&r.to==n.to)||(t.dispatch({selection:{anchor:r.from,head:r.to},scrollIntoView:!0}),0))}}];function iy(t){let e=[];if(t)t:for(let{name:n}of t){for(let t=0;t<n.length;t++){let r=n[t];if(/[a-zA-Z]/.test(r)&&!e.some((t=>t.toLowerCase()==r.toLowerCase()))){e.push(r);continue t}}e.push("")}return e}function oy(t,e,n){var r;let i=n?iy(e.actions):[];return hg("li",{class:"cm-diagnostic cm-diagnostic-"+e.severity},hg("span",{class:"cm-diagnosticText"},e.message),null===(r=e.actions)||void 0===r?void 0:r.map(((n,r)=>{let o=r=>{r.preventDefault();let i=Q_(t.state.field(Y_).diagnostics,e);i&&n.apply(t,i.from,i.to)},{name:s}=n,a=i[r]?s.indexOf(i[r]):-1,l=a<0?s:[s.slice(0,a),hg("u",s.slice(a,a+1)),s.slice(a+1)];return hg("button",{type:"button",class:"cm-diagnosticAction",onclick:o,onmousedown:o,"aria-label":` Action: ${s}${a<0?"":` (access key "${i[r]})"`}.`},l)})),e.source&&hg("div",{class:"cm-diagnosticSource"},e.source))}class sy extends al{constructor(t){super(),this.diagnostic=t}eq(t){return t.diagnostic==this.diagnostic}toDOM(){return hg("span",{class:"cm-lintPoint cm-lintPoint-"+this.diagnostic.severity})}}class ay{constructor(t,e){this.diagnostic=e,this.id="item_"+Math.floor(4294967295*Math.random()).toString(16),this.dom=oy(t,e,!0),this.dom.id=this.id,this.dom.setAttribute("role","option")}}class ly{constructor(t){this.view=t,this.items=[],this.list=hg("ul",{tabIndex:0,role:"listbox","aria-label":this.view.state.phrase("Diagnostics"),onkeydown:e=>{if(27==e.keyCode)ny(this.view),this.view.focus();else if(38==e.keyCode||33==e.keyCode)this.moveSelection((this.selectedIndex-1+this.items.length)%this.items.length);else if(40==e.keyCode||34==e.keyCode)this.moveSelection((this.selectedIndex+1)%this.items.length);else if(36==e.keyCode)this.moveSelection(0);else if(35==e.keyCode)this.moveSelection(this.items.length-1);else if(13==e.keyCode)this.view.focus();else{if(!(e.keyCode>=65&&e.keyCode<=90&&this.selectedIndex>=0))return;{let{diagnostic:n}=this.items[this.selectedIndex],r=iy(n.actions);for(let i=0;i<r.length;i++)if(r[i].toUpperCase().charCodeAt(0)==e.keyCode){let e=Q_(this.view.state.field(Y_).diagnostics,n);e&&n.actions[i].apply(t,e.from,e.to)}}}e.preventDefault()},onclick:t=>{for(let e=0;e<this.items.length;e++)this.items[e].dom.contains(t.target)&&this.moveSelection(e)}}),this.dom=hg("div",{class:"cm-panel-lint"},this.list,hg("button",{type:"button",name:"close","aria-label":this.view.state.phrase("close"),onclick:()=>ny(this.view)},"×")),this.update()}get selectedIndex(){let t=this.view.state.field(Y_).selected;if(!t)return-1;for(let e=0;e<this.items.length;e++)if(this.items[e].diagnostic==t.diagnostic)return e;return-1}update(){let{diagnostics:t,selected:e}=this.view.state.field(Y_),n=0,r=!1,i=null;for(t.between(0,this.view.state.doc.length,((t,o,{spec:s})=>{let a,l=-1;for(let t=n;t<this.items.length;t++)if(this.items[t].diagnostic==s.diagnostic){l=t;break}l<0?(a=new ay(this.view,s.diagnostic),this.items.splice(n,0,a),r=!0):(a=this.items[l],l>n&&(this.items.splice(n,l-n),r=!0)),e&&a.diagnostic==e.diagnostic?a.dom.hasAttribute("aria-selected")||(a.dom.setAttribute("aria-selected","true"),i=a):a.dom.hasAttribute("aria-selected")&&a.dom.removeAttribute("aria-selected"),n++}));n<this.items.length&&!(1==this.items.length&&this.items[0].diagnostic.from<0);)r=!0,this.items.pop();0==this.items.length&&(this.items.push(new ay(this.view,{from:-1,to:-1,severity:"info",message:this.view.state.phrase("No diagnostics")})),r=!0),i?(this.list.setAttribute("aria-activedescendant",i.id),this.view.requestMeasure({key:this,read:()=>({sel:i.dom.getBoundingClientRect(),panel:this.list.getBoundingClientRect()}),write:({sel:t,panel:e})=>{t.top<e.top?this.list.scrollTop-=e.top-t.top:t.bottom>e.bottom&&(this.list.scrollTop+=t.bottom-e.bottom)}})):this.selectedIndex<0&&this.list.removeAttribute("aria-activedescendant"),r&&this.sync()}sync(){let t=this.list.firstChild;function e(){let e=t;t=e.nextSibling,e.remove()}for(let n of this.items)if(n.dom.parentNode==this.list){for(;t!=n.dom;)e();t=n.dom.nextSibling}else this.list.insertBefore(n.dom,t);for(;t;)e()}moveSelection(t){if(this.selectedIndex<0)return;let e=Q_(this.view.state.field(Y_).diagnostics,this.items[t].diagnostic);e&&this.view.dispatch({selection:{anchor:e.from,head:e.to},scrollIntoView:!0,effects:J_.of(e)})}static open(t){return new ly(t)}}function uy(t){return function(t,e='viewBox="0 0 40 40"'){return`url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" ${e}>${encodeURIComponent(t)}</svg>')`}(`<path d="m0 2.5 l2 -1.5 l1 0 l2 1.5 l1 0" stroke="${t}" fill="none" stroke-width=".7"/>`,'width="6" height="3"')}const cy=Pc.baseTheme({".cm-diagnostic":{padding:"3px 6px 3px 8px",marginLeft:"-1px",display:"block",whiteSpace:"pre-wrap"},".cm-diagnostic-error":{borderLeft:"5px solid #d11"},".cm-diagnostic-warning":{borderLeft:"5px solid orange"},".cm-diagnostic-info":{borderLeft:"5px solid #999"},".cm-diagnosticAction":{font:"inherit",border:"none",padding:"2px 4px",backgroundColor:"#444",color:"white",borderRadius:"3px",marginLeft:"8px"},".cm-diagnosticSource":{fontSize:"70%",opacity:.7},".cm-lintRange":{backgroundPosition:"left bottom",backgroundRepeat:"repeat-x",paddingBottom:"0.7px"},".cm-lintRange-error":{backgroundImage:uy("#d11")},".cm-lintRange-warning":{backgroundImage:uy("orange")},".cm-lintRange-info":{backgroundImage:uy("#999")},".cm-lintRange-active":{backgroundColor:"#ffdd9980"},".cm-tooltip-lint":{padding:0,margin:0},".cm-lintPoint":{position:"relative","&:after":{content:'""',position:"absolute",bottom:0,left:"-2px",borderLeft:"3px solid transparent",borderRight:"3px solid transparent",borderBottom:"4px solid #d11"}},".cm-lintPoint-warning":{"&:after":{borderBottomColor:"orange"}},".cm-lintPoint-info":{"&:after":{borderBottomColor:"#999"}},".cm-panel.cm-panel-lint":{position:"relative","& ul":{maxHeight:"100px",overflowY:"auto","& [aria-selected]":{backgroundColor:"#ddd","& u":{textDecoration:"underline"}},"&:focus [aria-selected]":{background_fallback:"#bdf",backgroundColor:"Highlight",color_fallback:"white",color:"HighlightText"},"& u":{textDecoration:"none"},padding:0,margin:0},"& [name=close]":{position:"absolute",top:"0",right:"2px",background:"inherit",border:"none",font:"inherit",padding:0,margin:0}}}),hy=[op(),up(),lh(),wh(),Ep(),$c(),Rs.allowMultipleSelections.of(!0),Lf(),W_.fallback,jp(),$d(),Ym(),c_(),fh(),Cg(),zc.of([...Jd,...zd,...Zg,...Lh,...vp,...i_,...Zm,...ry])],fy="#abb2bf",py="#2c313a",dy="#282c34",gy="#353a42",my="#528bff",_y=Pc.theme({"&":{color:fy,backgroundColor:dy},".cm-content":{caretColor:my},"&.cm-focused .cm-cursor":{borderLeftColor:my},"&.cm-focused .cm-selectionBackground, .cm-selectionBackground, .cm-content ::selection":{backgroundColor:"#3E4451"},".cm-panels":{backgroundColor:"#21252b",color:fy},".cm-panels.cm-panels-top":{borderBottom:"2px solid black"},".cm-panels.cm-panels-bottom":{borderTop:"2px solid black"},".cm-searchMatch":{backgroundColor:"#72a1ff59",outline:"1px solid #457dff"},".cm-searchMatch.cm-searchMatch-selected":{backgroundColor:"#6199ff2f"},".cm-activeLine":{backgroundColor:py},".cm-selectionMatch":{backgroundColor:"#aafe661a"},"&.cm-focused .cm-matchingBracket, &.cm-focused .cm-nonmatchingBracket":{backgroundColor:"#bad0f847",outline:"1px solid #515a6b"},".cm-gutters":{backgroundColor:dy,color:"#7d8799",border:"none"},".cm-activeLineGutter":{backgroundColor:py},".cm-foldPlaceholder":{backgroundColor:"transparent",border:"none",color:"#ddd"},".cm-tooltip":{border:"none",backgroundColor:gy},".cm-tooltip .cm-tooltip-arrow:before":{borderTopColor:"transparent",borderBottomColor:"transparent"},".cm-tooltip .cm-tooltip-arrow:after":{borderTopColor:gy,borderBottomColor:gy},".cm-tooltip-autocomplete":{"& > ul > li[aria-selected]":{backgroundColor:py,color:fy}}},{dark:!0});var yy=Pc.theme({"&":{backgroundColor:"#fff"}},{dark:!1});var vy=i(5893),by=["className","value","selection","extensions","onChange","onUpdate","autoFocus","theme","height","minHeight","maxHeight","width","minWidth","maxWidth","basicSetup","placeholder","indentWithTab","editable","root"],wy=t.forwardRef(((e,n)=>{var{className:r,value:i,selection:o,extensions:s=[],onChange:a,onUpdate:l,autoFocus:u,theme:c="light",height:h,minHeight:f,maxHeight:p,width:d,minWidth:g,maxWidth:m,basicSetup:_,placeholder:y,indentWithTab:v,editable:b,root:w}=e,x=O(e,by),k=(0,t.useRef)(null),{state:E,view:C,container:A,setContainer:P}=function(e){var{value:n,selection:r,onChange:i,onUpdate:o,extensions:s=[],autoFocus:a,theme:l="light",height:u="",minHeight:c="",maxHeight:h="",placeholder:f="",width:p="",minWidth:d="",maxWidth:g="",editable:m=!0,indentWithTab:_=!0,basicSetup:y=!0,root:v}=e,[b,w]=(0,t.useState)(e.container),[x,k]=(0,t.useState)(),[S,O]=(0,t.useState)(),E=Pc.theme({"&":{height:u,minHeight:c,maxHeight:h,width:p,minWidth:d,maxWidth:g}}),C=[Pc.updateListener.of((t=>{if(t.docChanged&&"function"==typeof i){var e=t.state.doc.toString();i(e,t)}})),E];return _&&C.unshift(zc.of([Fd])),y&&C.unshift(hy),f&&C.unshift(function(t){return Ll.fromClass(class{constructor(e){this.view=e,this.placeholder=ul.set([ul.widget({widget:new gh(t),side:1}).range(0)])}get decorations(){return this.view.state.doc.length?ul.none:this.placeholder}},{decorations:t=>t.decorations})}(f)),"light"===l?C.push(yy):C.push(_y),!1===m&&C.push(Pc.editable.of(!1)),o&&"function"==typeof o&&C.push(Pc.updateListener.of(o)),C=C.concat(s),(0,t.useEffect)((()=>{if(b&&!S){var t=Rs.create({doc:n,selection:r,extensions:C});if(O(t),!x){var e=new Pc({state:t,parent:b,root:v});k(e)}}}),[b,S]),(0,t.useEffect)((()=>()=>{x&&x.destroy()}),[x]),(0,t.useEffect)((()=>{if(x){var t=x.state.doc.toString();n!==t&&x.dispatch({changes:{from:0,to:t.length,insert:n||""}})}}),[n,x]),(0,t.useEffect)((()=>{x&&x.dispatch({effects:ws.reconfigure.of(C)})}),[l,s,f,u,c,h,p,d,g,m,_,y]),(0,t.useEffect)((()=>{a&&x&&x.focus()}),[a,x]),{state:S,setState:O,view:x,setView:k,container:b,setContainer:w}}({container:k.current,root:w,value:i,autoFocus:u,theme:c,height:h,minHeight:f,maxHeight:p,width:d,minWidth:g,maxWidth:m,basicSetup:_,placeholder:y,indentWithTab:v,editable:b,selection:o,onChange:a,onUpdate:l,extensions:s});return(0,t.useImperativeHandle)(n,(()=>({editor:A,state:E,view:C}))),(0,t.useEffect)((()=>(P(k.current),()=>{C&&C.destroy()})),[]),(0,vy.jsx)("div",S({ref:k,className:"cm-theme-"+c+(r?" "+r:"")},x))}));wy.displayName="CodeMirror";const xy=wy;class ky{constructor(t,e,n,r,i,o,s,a,l,u=0,c){this.p=t,this.stack=e,this.state=n,this.reducePos=r,this.pos=i,this.score=o,this.buffer=s,this.bufferBase=a,this.curContext=l,this.lookAhead=u,this.parent=c}toString(){return`[${this.stack.filter(((t,e)=>e%3==0)).concat(this.state)}]@${this.pos}${this.score?"!"+this.score:""}`}static start(t,e,n=0){let r=t.parser.context;return new ky(t,[],e,n,n,0,[],0,r?new Sy(r,r.start):null,0,null)}get context(){return this.curContext?this.curContext.context:null}pushState(t,e){this.stack.push(this.state,e,this.bufferBase+this.buffer.length),this.state=t}reduce(t){let e=t>>19,n=65535&t,{parser:r}=this.p,i=r.dynamicPrecedence(n);if(i&&(this.score+=i),0==e)return n<r.minRepeatTerm&&this.storeNode(n,this.reducePos,this.reducePos,4,!0),this.pushState(r.getGoto(this.state,n,!0),this.reducePos),void this.reduceContext(n,this.reducePos);let o=this.stack.length-3*(e-1)-(262144&t?6:0),s=this.stack[o-2],a=this.stack[o-1],l=this.bufferBase+this.buffer.length-a;if(n<r.minRepeatTerm||131072&t){let t=r.stateFlag(this.state,1)?this.pos:this.reducePos;this.storeNode(n,s,t,l+4,!0)}if(262144&t)this.state=this.stack[o];else{let t=this.stack[o-3];this.state=r.getGoto(t,n,!0)}for(;this.stack.length>o;)this.stack.pop();this.reduceContext(n,s)}storeNode(t,e,n,r=4,i=!1){if(0==t){let t=this,r=this.buffer.length;if(0==r&&t.parent&&(r=t.bufferBase-t.parent.bufferBase,t=t.parent),r>0&&0==t.buffer[r-4]&&t.buffer[r-1]>-1){if(e==n)return;if(t.buffer[r-2]>=e)return void(t.buffer[r-2]=n)}}if(i&&this.pos!=n){let i=this.buffer.length;if(i>0&&0!=this.buffer[i-4])for(;i>0&&this.buffer[i-2]>n;)this.buffer[i]=this.buffer[i-4],this.buffer[i+1]=this.buffer[i-3],this.buffer[i+2]=this.buffer[i-2],this.buffer[i+3]=this.buffer[i-1],i-=4,r>4&&(r-=4);this.buffer[i]=t,this.buffer[i+1]=e,this.buffer[i+2]=n,this.buffer[i+3]=r}else this.buffer.push(t,e,n,r)}shift(t,e,n){let r=this.pos;if(131072&t)this.pushState(65535&t,this.pos);else if(0==(262144&t)){let i=t,{parser:o}=this.p;(n>this.pos||e<=o.maxNode)&&(this.pos=n,o.stateFlag(i,1)||(this.reducePos=n)),this.pushState(i,r),this.shiftContext(e,r),e<=o.maxNode&&this.buffer.push(e,r,n,4)}else this.pos=n,this.shiftContext(e,r),e<=this.p.parser.maxNode&&this.buffer.push(e,r,n,4)}apply(t,e,n){65536&t?this.reduce(t):this.shift(t,e,n)}useNode(t,e){let n=this.p.reused.length-1;(n<0||this.p.reused[n]!=t)&&(this.p.reused.push(t),n++);let r=this.pos;this.reducePos=this.pos=r+t.length,this.pushState(e,r),this.buffer.push(n,r,this.reducePos,-1),this.curContext&&this.updateContext(this.curContext.tracker.reuse(this.curContext.context,t,this,this.p.stream.reset(this.pos-t.length)))}split(){let t=this,e=t.buffer.length;for(;e>0&&t.buffer[e-2]>t.reducePos;)e-=4;let n=t.buffer.slice(e),r=t.bufferBase+e;for(;t&&r==t.bufferBase;)t=t.parent;return new ky(this.p,this.stack.slice(),this.state,this.reducePos,this.pos,this.score,n,r,this.curContext,this.lookAhead,t)}recoverByDelete(t,e){let n=t<=this.p.parser.maxNode;n&&this.storeNode(t,this.pos,e,4),this.storeNode(0,this.pos,e,n?8:4),this.pos=this.reducePos=e,this.score-=190}canShift(t){for(let e=new Ey(this);;){let n=this.p.parser.stateSlot(e.state,4)||this.p.parser.hasAction(e.state,t);if(0==(65536&n))return!0;if(0==n)return!1;e.reduce(n)}}recoverByInsert(t){if(this.stack.length>=300)return[];let e=this.p.parser.nextStates(this.state);if(e.length>8||this.stack.length>=120){let n=[];for(let r,i=0;i<e.length;i+=2)(r=e[i+1])!=this.state&&this.p.parser.hasAction(r,t)&&n.push(e[i],r);if(this.stack.length<120)for(let t=0;n.length<8&&t<e.length;t+=2){let r=e[t+1];n.some(((t,e)=>1&e&&t==r))||n.push(e[t],r)}e=n}let n=[];for(let t=0;t<e.length&&n.length<4;t+=2){let r=e[t+1];if(r==this.state)continue;let i=this.split();i.storeNode(0,i.pos,i.pos,4,!0),i.pushState(r,this.pos),i.shiftContext(e[t],this.pos),i.score-=200,n.push(i)}return n}forceReduce(){let t=this.p.parser.stateSlot(this.state,5);if(0==(65536&t))return!1;let{parser:e}=this.p;if(!e.validAction(this.state,t)){let n=t>>19,r=65535&t,i=this.stack.length-3*n;if(i<0||e.getGoto(this.stack[i],r,!1)<0)return!1;this.storeNode(0,this.reducePos,this.reducePos,4,!0),this.score-=100}return this.reduce(t),!0}forceAll(){for(;!this.p.parser.stateFlag(this.state,2)&&this.forceReduce(););return this}get deadEnd(){if(3!=this.stack.length)return!1;let{parser:t}=this.p;return 65535==t.data[t.stateSlot(this.state,1)]&&!t.stateSlot(this.state,4)}restart(){this.state=this.stack[0],this.stack.length=0}sameState(t){if(this.state!=t.state||this.stack.length!=t.stack.length)return!1;for(let e=0;e<this.stack.length;e+=3)if(this.stack[e]!=t.stack[e])return!1;return!0}get parser(){return this.p.parser}dialectEnabled(t){return this.p.parser.dialect.flags[t]}shiftContext(t,e){this.curContext&&this.updateContext(this.curContext.tracker.shift(this.curContext.context,t,this,this.p.stream.reset(e)))}reduceContext(t,e){this.curContext&&this.updateContext(this.curContext.tracker.reduce(this.curContext.context,t,this,this.p.stream.reset(e)))}emitContext(){let t=this.buffer.length-1;(t<0||-3!=this.buffer[t])&&this.buffer.push(this.curContext.hash,this.reducePos,this.reducePos,-3)}emitLookAhead(){let t=this.buffer.length-1;(t<0||-4!=this.buffer[t])&&this.buffer.push(this.lookAhead,this.reducePos,this.reducePos,-4)}updateContext(t){if(t!=this.curContext.context){let e=new Sy(this.curContext.tracker,t);e.hash!=this.curContext.hash&&this.emitContext(),this.curContext=e}}setLookAhead(t){t>this.lookAhead&&(this.emitLookAhead(),this.lookAhead=t)}close(){this.curContext&&this.curContext.tracker.strict&&this.emitContext(),this.lookAhead>0&&this.emitLookAhead()}}class Sy{constructor(t,e){this.tracker=t,this.context=e,this.hash=t.strict?t.hash(e):0}}var Oy;!function(t){t[t.Insert=200]="Insert",t[t.Delete=190]="Delete",t[t.Reduce=100]="Reduce",t[t.MaxNext=4]="MaxNext",t[t.MaxInsertStackDepth=300]="MaxInsertStackDepth",t[t.DampenInsertStackDepth=120]="DampenInsertStackDepth"}(Oy||(Oy={}));class Ey{constructor(t){this.start=t,this.state=t.state,this.stack=t.stack,this.base=this.stack.length}reduce(t){let e=65535&t,n=t>>19;0==n?(this.stack==this.start.stack&&(this.stack=this.stack.slice()),this.stack.push(this.state,0,0),this.base+=3):this.base-=3*(n-1);let r=this.start.p.parser.getGoto(this.stack[this.base-3],e,!0);this.state=r}}class Cy{constructor(t,e,n){this.stack=t,this.pos=e,this.index=n,this.buffer=t.buffer,0==this.index&&this.maybeNext()}static create(t,e=t.bufferBase+t.buffer.length){return new Cy(t,e,e-t.bufferBase)}maybeNext(){let t=this.stack.parent;null!=t&&(this.index=this.stack.bufferBase-t.bufferBase,this.stack=t,this.buffer=t.buffer)}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}next(){this.index-=4,this.pos-=4,0==this.index&&this.maybeNext()}fork(){return new Cy(this.stack,this.pos,this.index)}}class Ay{constructor(){this.start=-1,this.value=-1,this.end=-1,this.extended=-1,this.lookAhead=0,this.mask=0,this.context=0}}const Py=new Ay;class Ty{constructor(t,e){this.input=t,this.ranges=e,this.chunk="",this.chunkOff=0,this.chunk2="",this.chunk2Pos=0,this.next=-1,this.token=Py,this.rangeIndex=0,this.pos=this.chunkPos=e[0].from,this.range=e[0],this.end=e[e.length-1].to,this.readNext()}resolveOffset(t,e){let n=this.range,r=this.rangeIndex,i=this.pos+t;for(;i<n.from;){if(!r)return null;let t=this.ranges[--r];i-=n.from-t.to,n=t}for(;e<0?i>n.to:i>=n.to;){if(r==this.ranges.length-1)return null;let t=this.ranges[++r];i+=t.from-n.to,n=t}return i}peek(t){let e,n,r=this.chunkOff+t;if(r>=0&&r<this.chunk.length)e=this.pos+t,n=this.chunk.charCodeAt(r);else{let r=this.resolveOffset(t,1);if(null==r)return-1;if(e=r,e>=this.chunk2Pos&&e<this.chunk2Pos+this.chunk2.length)n=this.chunk2.charCodeAt(e-this.chunk2Pos);else{let t=this.rangeIndex,r=this.range;for(;r.to<=e;)r=this.ranges[++t];this.chunk2=this.input.chunk(this.chunk2Pos=e),e+this.chunk2.length>r.to&&(this.chunk2=this.chunk2.slice(0,r.to-e)),n=this.chunk2.charCodeAt(0)}}return e>this.token.lookAhead&&(this.token.lookAhead=e),n}acceptToken(t,e=0){let n=e?this.resolveOffset(e,-1):this.pos;if(null==n||n<this.token.start)throw new RangeError("Token end out of bounds");this.token.value=t,this.token.end=n}getChunk(){if(this.pos>=this.chunk2Pos&&this.pos<this.chunk2Pos+this.chunk2.length){let{chunk:t,chunkPos:e}=this;this.chunk=this.chunk2,this.chunkPos=this.chunk2Pos,this.chunk2=t,this.chunk2Pos=e,this.chunkOff=this.pos-this.chunkPos}else{this.chunk2=this.chunk,this.chunk2Pos=this.chunkPos;let t=this.input.chunk(this.pos),e=this.pos+t.length;this.chunk=e>this.range.to?t.slice(0,this.range.to-this.pos):t,this.chunkPos=this.pos,this.chunkOff=0}}readNext(){return this.chunkOff>=this.chunk.length&&(this.getChunk(),this.chunkOff==this.chunk.length)?this.next=-1:this.next=this.chunk.charCodeAt(this.chunkOff)}advance(t=1){for(this.chunkOff+=t;this.pos+t>=this.range.to;){if(this.rangeIndex==this.ranges.length-1)return this.setDone();t-=this.range.to-this.pos,this.range=this.ranges[++this.rangeIndex],this.pos=this.range.from}return this.pos+=t,this.pos>this.token.lookAhead&&(this.token.lookAhead=this.pos),this.readNext()}setDone(){return this.pos=this.chunkPos=this.end,this.range=this.ranges[this.rangeIndex=this.ranges.length-1],this.chunk="",this.next=-1}reset(t,e){if(e?(this.token=e,e.start=e.lookAhead=t,e.value=e.extended=-1):this.token=Py,this.pos!=t){if(this.pos=t,t==this.end)return this.setDone(),this;for(;t<this.range.from;)this.range=this.ranges[--this.rangeIndex];for(;t>=this.range.to;)this.range=this.ranges[++this.rangeIndex];t>=this.chunkPos&&t<this.chunkPos+this.chunk.length?this.chunkOff=t-this.chunkPos:(this.chunk="",this.chunkOff=0),this.readNext()}return this}read(t,e){if(t>=this.chunkPos&&e<=this.chunkPos+this.chunk.length)return this.chunk.slice(t-this.chunkPos,e-this.chunkPos);if(t>=this.range.from&&e<=this.range.to)return this.input.read(t,e);let n="";for(let r of this.ranges){if(r.from>=e)break;r.to>t&&(n+=this.input.read(Math.max(r.from,t),Math.min(r.to,e)))}return n}}class My{constructor(t,e){this.data=t,this.id=e}token(t,e){!function(t,e,n,r){let i=0,o=1<<r,{parser:s}=n.p,{dialect:a}=s;t:for(;0!=(o&t[i]);){let n=t[i+1];for(let r=i+3;r<n;r+=2)if((t[r+1]&o)>0){let n=t[r];if(a.allows(n)&&(-1==e.token.value||e.token.value==n||s.overrides(n,e.token.value))){e.acceptToken(n);break}}for(let r=e.next,o=0,s=t[i+2];o<s;){let a=o+s>>1,l=n+a+(a<<1),u=t[l],c=t[l+1];if(r<u)s=a;else{if(!(r>=c)){i=t[l+2],e.advance();continue t}o=a+1}}break}}(this.data,t,e,this.id)}}function Ry(t,e=Uint16Array){if("string"!=typeof t)return t;let n=null;for(let r=0,i=0;r<t.length;){let o=0;for(;;){let e=t.charCodeAt(r++),n=!1;if(126==e){o=65535;break}e>=92&&e--,e>=34&&e--;let i=e-32;if(i>=46&&(i-=46,n=!0),o+=i,n)break;o*=46}n?n[i++]=o:n=new e(o)}return n}My.prototype.contextual=My.prototype.fallback=My.prototype.extend=!1;const Ny="undefined"!=typeof process&&/\bparse\b/.test(process.env.LOG);let Dy=null;var jy,Ly;function Iy(t,e,n){let r=t.fullCursor();for(r.moveTo(e);;)if(!(n<0?r.childBefore(e):r.childAfter(e)))for(;;){if((n<0?r.to<e:r.from>e)&&!r.type.isError)return n<0?Math.max(0,Math.min(r.to-1,e-25)):Math.min(t.length,Math.max(r.from+1,e+25));if(n<0?r.prevSibling():r.nextSibling())break;if(!r.parent())return n<0?0:t.length}}!function(t){t[t.Margin=25]="Margin"}(jy||(jy={}));class By{constructor(t,e){this.fragments=t,this.nodeSet=e,this.i=0,this.fragment=null,this.safeFrom=-1,this.safeTo=-1,this.trees=[],this.start=[],this.index=[],this.nextFragment()}nextFragment(){let t=this.fragment=this.i==this.fragments.length?null:this.fragments[this.i++];if(t){for(this.safeFrom=t.openStart?Iy(t.tree,t.from+t.offset,1)-t.offset:t.from,this.safeTo=t.openEnd?Iy(t.tree,t.to+t.offset,-1)-t.offset:t.to;this.trees.length;)this.trees.pop(),this.start.pop(),this.index.pop();this.trees.push(t.tree),this.start.push(-t.offset),this.index.push(0),this.nextStart=this.safeFrom}else this.nextStart=1e9}nodeAt(t){if(t<this.nextStart)return null;for(;this.fragment&&this.safeTo<=t;)this.nextFragment();if(!this.fragment)return null;for(;;){let e=this.trees.length-1;if(e<0)return this.nextFragment(),null;let n=this.trees[e],r=this.index[e];if(r==n.children.length){this.trees.pop(),this.start.pop(),this.index.pop();continue}let i=n.children[r],o=this.start[e]+n.positions[r];if(o>t)return this.nextStart=o,null;if(i instanceof Wh){if(o==t){if(o<this.safeFrom)return null;let t=o+i.length;if(t<=this.safeTo){let e=i.prop(Fh.lookAhead);if(!e||t+e<this.fragment.to)return i}}this.index[e]++,o+i.length>=Math.max(this.safeFrom,t)&&(this.trees.push(i),this.start.push(o),this.index.push(0))}else this.index[e]++,this.nextStart=o+i.length}}}class zy{constructor(t,e){this.stream=e,this.tokens=[],this.mainToken=null,this.actions=[],this.tokens=t.tokenizers.map((t=>new Ay))}getActions(t){let e=0,n=null,{parser:r}=t.p,{tokenizers:i}=r,o=r.stateSlot(t.state,3),s=t.curContext?t.curContext.hash:0,a=0;for(let r=0;r<i.length;r++){if(0==(1<<r&o))continue;let l=i[r],u=this.tokens[r];if((!n||l.fallback)&&((l.contextual||u.start!=t.pos||u.mask!=o||u.context!=s)&&(this.updateCachedToken(u,l,t),u.mask=o,u.context=s),u.lookAhead>u.end+25&&(a=Math.max(u.lookAhead,a)),0!=u.value)){let r=e;if(u.extended>-1&&(e=this.addActions(t,u.extended,u.end,e)),e=this.addActions(t,u.value,u.end,e),!l.extend&&(n=u,e>r))break}}for(;this.actions.length>e;)this.actions.pop();return a&&t.setLookAhead(a),n||t.pos!=this.stream.end||(n=new Ay,n.value=t.p.parser.eofTerm,n.start=n.end=t.pos,e=this.addActions(t,n.value,n.end,e)),this.mainToken=n,this.actions}getMainToken(t){if(this.mainToken)return this.mainToken;let e=new Ay,{pos:n,p:r}=t;return e.start=n,e.end=Math.min(n+1,r.stream.end),e.value=n==r.stream.end?r.parser.eofTerm:0,e}updateCachedToken(t,e,n){if(e.token(this.stream.reset(n.pos,t),n),t.value>-1){let{parser:e}=n.p;for(let r=0;r<e.specialized.length;r++)if(e.specialized[r]==t.value){let i=e.specializers[r](this.stream.read(t.start,t.end),n);if(i>=0&&n.p.parser.dialect.allows(i>>1)){0==(1&i)?t.value=i>>1:t.extended=i>>1;break}}}else t.value=0,t.end=Math.min(n.p.stream.end,n.pos+1)}putAction(t,e,n,r){for(let e=0;e<r;e+=3)if(this.actions[e]==t)return r;return this.actions[r++]=t,this.actions[r++]=e,this.actions[r++]=n,r}addActions(t,e,n,r){let{state:i}=t,{parser:o}=t.p,{data:s}=o;for(let t=0;t<2;t++)for(let a=o.stateSlot(i,t?2:1);;a+=3){if(65535==s[a]){if(1!=s[a+1]){0==r&&2==s[a+1]&&(r=this.putAction(Hy(s,a+1),e,n,r));break}a=Hy(s,a+2)}s[a]==e&&(r=this.putAction(Hy(s,a+1),e,n,r))}return r}}!function(t){t[t.Distance=5]="Distance",t[t.MaxRemainingPerStep=3]="MaxRemainingPerStep",t[t.MinBufferLengthPrune=200]="MinBufferLengthPrune",t[t.ForceReduceLimit=10]="ForceReduceLimit"}(Ly||(Ly={}));class Fy{constructor(t,e,n,r){this.parser=t,this.input=e,this.ranges=r,this.recovering=0,this.nextStackID=9812,this.minStackPos=0,this.reused=[],this.stoppedAt=null,this.stream=new Ty(e,r),this.tokens=new zy(t,this.stream),this.topTerm=t.top[1];let{from:i}=r[0];this.stacks=[ky.start(this,t.top[0],i)],this.fragments=n.length&&this.stream.end-i>4*t.bufferLength?new By(n,t.nodeSet):null}get parsedPos(){return this.minStackPos}advance(){let t,e,n=this.stacks,r=this.minStackPos,i=this.stacks=[];for(let o=0;o<n.length;o++){let s=n[o];for(;;){if(this.tokens.mainToken=null,s.pos>r)i.push(s);else{if(this.advanceStack(s,i,n))continue;{t||(t=[],e=[]),t.push(s);let n=this.tokens.getMainToken(s);e.push(n.value,n.end)}}break}}if(!i.length){let e=t&&function(t){let e=null;for(let n of t){let t=n.p.stoppedAt;(n.pos==n.p.stream.end||null!=t&&n.pos>t)&&n.p.parser.stateFlag(n.state,2)&&(!e||e.score<n.score)&&(e=n)}return e}(t);if(e)return this.stackToTree(e);if(this.parser.strict)throw Ny&&t&&console.log("Stuck with token "+(this.tokens.mainToken?this.parser.getName(this.tokens.mainToken.value):"none")),new SyntaxError("No parse at "+r);this.recovering||(this.recovering=5)}if(this.recovering&&t){let n=this.runRecovery(t,e,i);if(n)return this.stackToTree(n.forceAll())}if(this.recovering){let t=1==this.recovering?1:3*this.recovering;if(i.length>t)for(i.sort(((t,e)=>e.score-t.score));i.length>t;)i.pop();i.some((t=>t.reducePos>r))&&this.recovering--}else if(i.length>1)t:for(let t=0;t<i.length-1;t++){let e=i[t];for(let n=t+1;n<i.length;n++){let r=i[n];if(e.sameState(r)||e.buffer.length>200&&r.buffer.length>200){if(!((e.score-r.score||e.buffer.length-r.buffer.length)>0)){i.splice(t--,1);continue t}i.splice(n--,1)}}}this.minStackPos=i[0].pos;for(let t=1;t<i.length;t++)i[t].pos<this.minStackPos&&(this.minStackPos=i[t].pos);return null}stopAt(t){if(null!=this.stoppedAt&&this.stoppedAt<t)throw new RangeError("Can't move stoppedAt forward");this.stoppedAt=t}advanceStack(t,e,n){let r=t.pos,{parser:i}=this,o=Ny?this.stackID(t)+" -> ":"";if(null!=this.stoppedAt&&r>this.stoppedAt)return t.forceReduce()?t:null;if(this.fragments){let e=t.curContext&&t.curContext.tracker.strict,n=e?t.curContext.hash:0;for(let s=this.fragments.nodeAt(r);s;){let r=this.parser.nodeSet.types[s.type.id]==s.type?i.getGoto(t.state,s.type.id):-1;if(r>-1&&s.length&&(!e||(s.prop(Fh.contextHash)||0)==n))return t.useNode(s,r),Ny&&console.log(o+this.stackID(t)+` (via reuse of ${i.getName(s.type.id)})`),!0;if(!(s instanceof Wh)||0==s.children.length||s.positions[0]>0)break;let a=s.children[0];if(!(a instanceof Wh&&0==s.positions[0]))break;s=a}}let s=i.stateSlot(t.state,4);if(s>0)return t.reduce(s),Ny&&console.log(o+this.stackID(t)+` (via always-reduce ${i.getName(65535&s)})`),!0;let a=this.tokens.getActions(t);for(let s=0;s<a.length;){let l=a[s++],u=a[s++],c=a[s++],h=s==a.length||!n,f=h?t:t.split();if(f.apply(l,u,c),Ny&&console.log(o+this.stackID(f)+` (via ${0==(65536&l)?"shift":`reduce of ${i.getName(65535&l)}`} for ${i.getName(u)} @ ${r}${f==t?"":", split"})`),h)return!0;f.pos>r?e.push(f):n.push(f)}return!1}advanceFully(t,e){let n=t.pos;for(;;){if(!this.advanceStack(t,null,null))return!1;if(t.pos>n)return Vy(t,e),!0}}runRecovery(t,e,n){let r=null,i=!1;for(let o=0;o<t.length;o++){let s=t[o],a=e[o<<1],l=e[1+(o<<1)],u=Ny?this.stackID(s)+" -> ":"";if(s.deadEnd){if(i)continue;if(i=!0,s.restart(),Ny&&console.log(u+this.stackID(s)+" (restarted)"),this.advanceFully(s,n))continue}let c=s.split(),h=u;for(let t=0;c.forceReduce()&&t<10&&(Ny&&console.log(h+this.stackID(c)+" (via force-reduce)"),!this.advanceFully(c,n));t++)Ny&&(h=this.stackID(c)+" -> ");for(let t of s.recoverByInsert(a))Ny&&console.log(u+this.stackID(t)+" (via recover-insert)"),this.advanceFully(t,n);this.stream.end>s.pos?(l==s.pos&&(l++,a=0),s.recoverByDelete(a,l),Ny&&console.log(u+this.stackID(s)+` (via recover-delete ${this.parser.getName(a)})`),Vy(s,n)):(!r||r.score<s.score)&&(r=s)}return r}stackToTree(t){return t.close(),Wh.build({buffer:Cy.create(t),nodeSet:this.parser.nodeSet,topID:this.topTerm,maxBufferLength:this.parser.bufferLength,reused:this.reused,start:this.ranges[0].from,length:t.pos-this.ranges[0].from,minRepeatType:this.parser.minRepeatTerm})}stackID(t){let e=(Dy||(Dy=new WeakMap)).get(t);return e||Dy.set(t,e=String.fromCodePoint(this.nextStackID++)),e+t}}function Vy(t,e){for(let n=0;n<e.length;n++){let r=e[n];if(r.pos==t.pos&&r.sameState(t))return void(e[n].score<t.score&&(e[n]=t))}e.push(t)}class Uy{constructor(t,e,n){this.source=t,this.flags=e,this.disabled=n}allows(t){return!this.disabled||0==this.disabled[t]}}class qy extends af{constructor(t){if(super(),this.wrappers=[],13!=t.version)throw new RangeError(`Parser version (${t.version}) doesn't match runtime version (13)`);let e=t.nodeNames.split(" ");this.minRepeatTerm=e.length;for(let n=0;n<t.repeatNodeCount;n++)e.push("");let n=Object.keys(t.topRules).map((e=>t.topRules[e][1])),r=[];for(let t=0;t<e.length;t++)r.push([]);function i(t,e,n){r[t].push([e,e.deserialize(String(n))])}if(t.nodeProps)for(let e of t.nodeProps){let t=e[0];for(let n=1;n<e.length;){let r=e[n++];if(r>=0)i(r,t,e[n++]);else{let o=e[n+-r];for(let s=-r;s>0;s--)i(e[n++],t,o);n++}}}this.nodeSet=new qh(e.map(((e,i)=>Uh.define({name:i>=this.minRepeatTerm?void 0:e,id:i,props:r[i],top:n.indexOf(i)>-1,error:0==i,skipped:t.skippedNodes&&t.skippedNodes.indexOf(i)>-1})))),this.strict=!1,this.bufferLength=Ih;let o=Ry(t.tokenData);if(this.context=t.context,this.specialized=new Uint16Array(t.specialized?t.specialized.length:0),this.specializers=[],t.specialized)for(let e=0;e<t.specialized.length;e++)this.specialized[e]=t.specialized[e].term,this.specializers[e]=t.specialized[e].get;this.states=Ry(t.states,Uint32Array),this.data=Ry(t.stateData),this.goto=Ry(t.goto),this.maxTerm=t.maxTerm,this.tokenizers=t.tokenizers.map((t=>"number"==typeof t?new My(o,t):t)),this.topRules=t.topRules,this.dialects=t.dialects||{},this.dynamicPrecedences=t.dynamicPrecedences||null,this.tokenPrecTable=t.tokenPrec,this.termNames=t.termNames||null,this.maxNode=this.nodeSet.types.length-1,this.dialect=this.parseDialect(),this.top=this.topRules[Object.keys(this.topRules)[0]]}createParse(t,e,n){let r=new Fy(this,t,e,n);for(let i of this.wrappers)r=i(r,t,e,n);return r}getGoto(t,e,n=!1){let r=this.goto;if(e>=r[0])return-1;for(let i=r[e+1];;){let e=r[i++],o=1&e,s=r[i++];if(o&&n)return s;for(let n=i+(e>>1);i<n;i++)if(r[i]==t)return s;if(o)return-1}}hasAction(t,e){let n=this.data;for(let r=0;r<2;r++)for(let i,o=this.stateSlot(t,r?2:1);;o+=3){if(65535==(i=n[o])){if(1!=n[o+1]){if(2==n[o+1])return Hy(n,o+2);break}i=n[o=Hy(n,o+2)]}if(i==e||0==i)return Hy(n,o+1)}return 0}stateSlot(t,e){return this.states[6*t+e]}stateFlag(t,e){return(this.stateSlot(t,0)&e)>0}validAction(t,e){if(e==this.stateSlot(t,4))return!0;for(let n=this.stateSlot(t,1);;n+=3){if(65535==this.data[n]){if(1!=this.data[n+1])return!1;n=Hy(this.data,n+2)}if(e==Hy(this.data,n+1))return!0}}nextStates(t){let e=[];for(let n=this.stateSlot(t,1);;n+=3){if(65535==this.data[n]){if(1!=this.data[n+1])break;n=Hy(this.data,n+2)}if(0==(1&this.data[n+2])){let t=this.data[n+1];e.some(((e,n)=>1&n&&e==t))||e.push(this.data[n],t)}}return e}overrides(t,e){let n=Wy(this.data,this.tokenPrecTable,e);return n<0||Wy(this.data,this.tokenPrecTable,t)<n}configure(t){let e=Object.assign(Object.create(qy.prototype),this);if(t.props&&(e.nodeSet=this.nodeSet.extend(...t.props)),t.top){let n=this.topRules[t.top];if(!n)throw new RangeError(`Invalid top rule name ${t.top}`);e.top=n}return t.tokenizers&&(e.tokenizers=this.tokenizers.map((e=>{let n=t.tokenizers.find((t=>t.from==e));return n?n.to:e}))),t.contextTracker&&(e.context=t.contextTracker),t.dialect&&(e.dialect=this.parseDialect(t.dialect)),null!=t.strict&&(e.strict=t.strict),t.wrap&&(e.wrappers=e.wrappers.concat(t.wrap)),null!=t.bufferLength&&(e.bufferLength=t.bufferLength),e}getName(t){return this.termNames?this.termNames[t]:String(t<=this.maxNode&&this.nodeSet.types[t].name||t)}get eofTerm(){return this.maxNode+1}get topNode(){return this.nodeSet.types[this.top[1]]}dynamicPrecedence(t){let e=this.dynamicPrecedences;return null==e?0:e[t]||0}parseDialect(t){let e=Object.keys(this.dialects),n=e.map((()=>!1));if(t)for(let r of t.split(" ")){let t=e.indexOf(r);t>=0&&(n[t]=!0)}let r=null;for(let t=0;t<e.length;t++)if(!n[t])for(let n,i=this.dialects[e[t]];65535!=(n=this.data[i++]);)(r||(r=new Uint8Array(this.maxTerm+1)))[n]=1;return new Uy(t,n,r)}static deserialize(t){return new qy(t)}}function Hy(t,e){return t[e]|t[e+1]<<16}function Wy(t,e,n){for(let r,i=e;65535!=(r=t[i]);i++)if(r==n)return i-e;return-1}const $y=qy.deserialize({version:13,states:"$bOVQPOOOOQO'#Cb'#CbOnQPO'#CeOvQPO'#CjOOQO'#Cp'#CpQOQPOOOOQO'#Cg'#CgO}QPO'#CfO!SQPO'#CrOOQO,59P,59PO![QPO,59PO!aQPO'#CuOOQO,59U,59UO!iQPO,59UOVQPO,59QOqQPO'#CkO!nQPO,59^OOQO1G.k1G.kOVQPO'#ClO!vQPO,59aOOQO1G.p1G.pOOQO1G.l1G.lOOQO,59V,59VOOQO-E6i-E6iOOQO,59W,59WOOQO-E6j-E6j",stateData:"#O~OcOS~OQSORSOSSOTSOWQO]ROePO~OVXOeUO~O[[O~PVOg^O~Oh_OVfX~OVaO~OhbO[iX~O[dO~Oh_OVfa~OhbO[ia~O",goto:"!kjPPPPPPkPPkqwPPk{!RPPP!XP!ePP!hXSOR^bQWQRf_TVQ_Q`WRg`QcZRicQTOQZRQe^RhbRYQR]R",nodeNames:"⚠ JsonText True False Null Number String } { Object Property PropertyName ] [ Array",maxTerm:25,nodeProps:[[Fh.openedBy,7,"{",12,"["],[Fh.closedBy,8,"}",13,"]"]],skippedNodes:[0],repeatNodeCount:2,tokenData:"(p~RaXY!WYZ!W]^!Wpq!Wrs!]|}$i}!O$n!Q!R$w!R![&V![!]&h!}#O&m#P#Q&r#Y#Z&w#b#c'f#h#i'}#o#p(f#q#r(k~!]Oc~~!`Upq!]qr!]rs!rs#O!]#O#P!w#P~!]~!wOe~~!zXrs!]!P!Q!]#O#P!]#U#V!]#Y#Z!]#b#c!]#f#g!]#h#i!]#i#j#g~#jR!Q![#s!c!i#s#T#Z#s~#vR!Q![$P!c!i$P#T#Z$P~$SR!Q![$]!c!i$]#T#Z$]~$`R!Q![!]!c!i!]#T#Z!]~$nOh~~$qQ!Q!R$w!R![&V~$|RT~!O!P%V!g!h%k#X#Y%k~%YP!Q![%]~%bRT~!Q![%]!g!h%k#X#Y%k~%nR{|%w}!O%w!Q![%}~%zP!Q![%}~&SPT~!Q![%}~&[ST~!O!P%V!Q![&V!g!h%k#X#Y%k~&mOg~~&rO]~~&wO[~~&zP#T#U&}~'QP#`#a'T~'WP#g#h'Z~'^P#X#Y'a~'fOR~~'iP#i#j'l~'oP#`#a'r~'uP#`#a'x~'}OS~~(QP#f#g(T~(WP#i#j(Z~(^P#X#Y(a~(fOQ~~(kOW~~(pOV~",tokenizers:[0],topRules:{JsonText:[0,1]},tokenPrec:0}),Ky=ff.define({parser:$y.configure({props:[Pf.add({Object:jf({except:/^\s*\}/}),Array:jf({except:/^\s*\]/})}),Bf.add({"Object Array":function(t){let e=t.firstChild,n=t.lastChild;return e&&e.to<n.from?{from:e.to,to:n.type.isError?t.to:n.from}:null}}),m_({String:H_.string,Number:H_.number,"True False":H_.bool,PropertyName:H_.propertyName,null:H_.null,",":H_.separator,"[ ]":H_.squareBracket,"{ }":H_.brace})]}),languageData:{closeBrackets:{brackets:["[","{",'"']},indentOnInput:/^\s*[\}\]]$/}});function Qy(t){return Qy="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Qy(t)}function Gy(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Xy(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Jy(t,e){return Jy=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},Jy(t,e)}function Yy(t,e){if(e&&("object"===Qy(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Zy(t)}function Zy(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function tv(t){return tv=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},tv(t)}function ev(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var nv=function(e){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Jy(t,e)}(a,e);var n,r,i,o,s=(i=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=tv(i);if(o){var n=tv(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return Yy(this,t)});function a(){var t;Gy(this,a);for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return ev(Zy(t=s.call.apply(s,[this].concat(n))),"_ls",window.localStorage),t}return n=a,r=[{key:"render",value:function(){var e,n=this,r=this.props.i18n.t,i=null!==(e=this._ls.getItem("seo-checker-settings"))&&void 0!==e?e:"";return t.createElement("div",{className:"seo-checker-settings"},t.createElement("div",{className:"seo-checker-title"},r("settings","Settings")),t.createElement(xy,{value:i,height:"100%",extensions:[new xf(Ky)],onChange:function(t,e){n._ls.setItem("seo-checker-settings",t)}}))}}],r&&Xy(n.prototype,r),a}(t.Component);const rv=ii()(nv);function iv(t){return iv="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},iv(t)}function ov(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function sv(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function av(t,e){return av=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},av(t,e)}function lv(t,e){if(e&&("object"===iv(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function uv(t){return uv=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},uv(t)}var cv=function(e){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&av(t,e)}(a,e);var n,r,i,o,s=(i=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=uv(i);if(o){var n=uv(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return lv(this,t)});function a(){return ov(this,a),s.apply(this,arguments)}return n=a,r=[{key:"render",value:function(){var e=this,n=this.props.params,r=n.slug,i=n.name,o=this.props.i18n.t,s=this.props.checker.page;return t.createElement("li",{className:r===s?"active":null},t.createElement("a",{onClick:function(){e.props.setPage(r)}},o(r,i)))}}],r&&sv(n.prototype,r),a}(t.Component);const hv=ii()(nt((function(t){return{checker:t.checker}}),{setPage:Re})(cv));function fv(t){return fv="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fv(t)}function pv(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function dv(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function gv(t,e){return gv=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},gv(t,e)}function mv(t,e){if(e&&("object"===fv(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function _v(t){return _v=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},_v(t)}var yv=function(e){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&gv(t,e)}(a,e);var n,r,i,o,s=(i=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=_v(i);if(o){var n=_v(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return mv(this,t)});function a(){return pv(this,a),s.apply(this,arguments)}return n=a,r=[{key:"render",value:function(){var e=this.props.blocks;return t.createElement("div",{className:"seo-checker-menu"},t.createElement("ul",null,e.map((function(e){return t.createElement(hv,{params:e,key:e.slug})}))))}}],r&&dv(n.prototype,r),a}(t.Component);const vv=yv;function bv(t){return bv="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},bv(t)}function wv(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function xv(t,e){return xv=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},xv(t,e)}function kv(t,e){if(e&&("object"===bv(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Sv(t)}function Sv(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Ov(t){return Ov=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Ov(t)}function Ev(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Cv=function(e){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&xv(t,e)}(a,e);var n,r,i,o,s=(i=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Ov(i);if(o){var n=Ov(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return kv(this,t)});function a(e){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),Ev(Sv(n=s.call(this,e)),"_ls",window.localStorage),Ev(Sv(n),"_startH",null),Ev(Sv(n),"_startY",null),n.wrapper=t.createRef(),n.handleDrag=n.handleDrag.bind(Sv(n)),n}return n=a,r=[{key:"handleDrag",value:function(t){t.stopPropagation();var e=this.wrapper.current,n=this._startY-(t.clientY||t.targetTouches[0].screenY),r=this._startH+n;e.style.height=r+"px"}},{key:"stopResize",value:function(){var t=this.wrapper.current;this._ls.setItem("seo-checker-height",t.clientHeight),document.documentElement.removeEventListener("mousemove",this.handleDrag,!1),document.documentElement.removeEventListener("touchmove",this.handleDrag,!1)}},{key:"handleResize",value:function(t){t.stopPropagation();var e=this.wrapper.current;this._startY=t.clientY||t.targetTouches[0].screenY,this._startH=e.clientHeight,document.documentElement.addEventListener("mousemove",this.handleDrag,!1),document.documentElement.addEventListener("touchmove",this.handleDrag,!1)}},{key:"handleSettings",value:function(){this.props.setPage("settings")}},{key:"componentDidMount",value:function(){var t,e=this.wrapper.current,n=null!==(t=this._ls.getItem("seo-checker-height"))&&void 0!==t?t:200;e.style.height=n+"px"}},{key:"render",value:function(){var e=this,n=this.props,r=n.blocks,i=n.checker,o=i.page,s={visibility:i.visibility?"visible":"hidden"};return t.createElement("div",{className:"seo-checker"},t.createElement("a",{className:"seo-checker-button",onClick:function(){return e.props.toggleVisibility()}},"SEO Checker"),t.createElement("div",{className:"seo-checker-wrapper",ref:this.wrapper,style:s},t.createElement("div",{className:"seo-checker-header",onMouseDown:this.handleResize.bind(this),onTouchStart:this.handleResize.bind(this),onTouchEnd:this.stopResize.bind(this),onMouseUp:this.stopResize.bind(this)},t.createElement("div",{className:"seo-checker-header-selector"},t.createElement(t.Suspense,{fallback:"Loading..."},t.createElement(fi,{blocks:r.map((function(t){return{slug:t.slug,name:t.name}}))}))),t.createElement("div",{className:"seo-checker-header-title"},"SEO cheker"),t.createElement("a",{onClick:this.handleSettings.bind(this)},t.createElement("span",null,t.createElement(Lr,null))),t.createElement("a",{onClick:function(){return e.props.toggleVisibility()}},t.createElement("span",null,t.createElement(Ir,null)))),t.createElement("div",{className:"seo-checker-container"},t.createElement(t.Suspense,{fallback:t.createElement(Hr,null)},t.createElement(vv,{blocks:r.map((function(t){return{slug:t.slug,name:t.name}}))}),"settings"===o?t.createElement(rv,null):t.createElement(ho,{blocks:r})))))}}],r&&wv(n.prototype,r),a}(t.Component);const Av=nt((function(t){return{checker:t.checker}}),{setPage:Re,toggleVisibility:Ne})(Cv);const Pv={slug:"html",name:"HTML",sections:[{slug:"general",name:"General HTML tags",tests:[{slug:"body",name:"The page has body tag",selector:"body",func:function(t,e){e(t).to.have.lengthOf(1)}},{slug:"header",name:"The page has header tag",selector:"header",func:function(t,e){e(t.map((function(t){return!(t.closest("article")||t.closest("main")||t.closest("section"))})).filter(Boolean)).to.have.lengthOf(1)}},{slug:"nav",name:"The page has nav tag",selector:"nav",func:function(t,e){e(t).not.to.be.empty},tests:[{slug:"links",name:"All nav tags has links",selector:"nav",func:function(t,e){e(t.map((function(t){return t.querySelectorAll("a").length>0?"yes":"no"}))).not.to.include("no")}}]},{slug:"main",name:"The page has main tag",selector:"main",iswarning:!0,func:function(t,e){e(t).not.to.be.empty},tests:[{slug:"one",name:"The page has only one main tag",func:function(t,e){e(t).to.have.lengthOf(1)}}]},{slug:"h1",name:"The page has H1 tag",selector:"h1",results:!0,func:function(t,e){e(t).not.to.be.empty},tests:[{slug:"one",name:"There is only one H1 tag",func:function(t,e){e(t).to.have.lengthOf(1)}}]},{slug:"article",name:"The page has article tags",selector:"article",iswarning:!0,func:function(t,e){e(t).not.to.be.empty},tests:[{slug:"title",name:"Each article title (h1...h6)",iswarning:!0,func:function(t,e){var n=t.map((function(t){var e=t.cloneNode(!0);return e.querySelectorAll("section, article").forEach((function(t){t.remove()})),e.querySelector("h1, h2, h3, h4, h5, h6")?"yes":"no"}));e(n).not.to.include("no")}},{slug:"time",name:"Each article has time tag",iswarning:!0,func:function(t,e){var n=t.map((function(t){var e=t.cloneNode(!0);return e.querySelectorAll("section, article").forEach((function(t){t.remove()})),e.querySelector("time")?"yes":"no"}));e(n).not.to.include("no")}}]},{slug:"section",name:"The page has section tags",selector:"section",iswarning:!0,func:function(t,e){e(t).not.to.be.empty},tests:[{slug:"title",name:"Each section has title (h1...h6)",iswarning:!0,func:function(t,e){var n=t.map((function(t){var e=t.cloneNode(!0);return e.querySelectorAll("section, article").forEach((function(t){t.remove()})),e.querySelector("h1, h2, h3, h4, h5, h6")?"yes":"no"}));e(n).not.to.include("no")}}]},{slug:"aside",name:"The page has sidebars",selector:"aside",iswarning:!0,func:function(t,e){e(t).not.to.be.empty}},{slug:"footer",name:"The page has footer",selector:"footer",func:function(t,e){e(t.map((function(t){return!(t.closest("article")||t.closest("section"))})).filter(Boolean)).to.have.lengthOf(1)}},{slug:"img",name:"The page has images",selector:"img",iswarning:!0,results:!0,func:function(t,e){e(t).not.to.be.empty},tests:[{slug:"alt",name:"All images has alt attribute",func:function(t,e){e(t.map((function(t){var e;return null!==(e=null==t?void 0:t.getAttribute("alt"))&&void 0!==e&&e?"yes":"no"}))).not.to.include("no")}}]},{slug:"pages",name:"The page has pages links",results:!0,selector:'[rel="first"], [rel="last"], [rel="prev"], [rel="next"]',iswarning:!0,func:function(t,e){e(t).not.to.be.empty}}]},{slug:"company",name:"Company information",tests:[{slug:"address",name:"The page has company address",selector:"address",iswarning:!0,results:!0,func:function(t,e){e(t).not.to.be.empty}},{slug:"tel",name:"The page has phone number",selector:'a[href^="tel:"]',iswarning:!0,results:!0,func:function(t,e){e(t).not.to.be.empty}},{slug:"email",name:"The page has Email address",selector:'a[href^="mailto:"]',iswarning:!0,results:!0,func:function(t,e){e(t).not.to.be.empty}}]}]};var Tv=window.localStorage,Mv=[];try{Mv=JSON.parse(Tv.getItem("seo-checker-settings"))}catch(t){}var Rv=Array.isArray(Mv)?Mv:null;function Nv(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Dv=function(t){try{return JSON.parse(t)}catch(t){return!1}},jv=function(t){var e;return null!==(e=(null==t?void 0:t.innerText)||(null==t?void 0:t.getAttribute("content")))&&void 0!==e?e:""},Lv=/^https?:\/\/schema.org\/?$/,Iv={slug:"schema",name:"Shema.org",sections:[{slug:"jsonld",name:"JSON-LD",tests:[{slug:"exists",name:"JSON-LD exists",selector:'script[type="application/ld+json"]',iswarning:!0,func:function(t,e){e(t).not.to.be.empty},tests:[{slug:"valid",name:"All JSON-LD has valid JSON format",func:function(t,e){t.map((function(t){var n=t.innerText,r=Dv(n);e(r).to.be.an.instanceof(Object),e(r,"@context").to.have.property("@context").and.match(Lv),e(r,"@type").to.have.property("@type").and.not.to.be.empty}))}},{slug:"breadcrumbs",name:"Breadcrumbs JSON-LD exist and there is only one breadcrumbs block",iswarning:!0,results:function(t){return t.map((function(t){return-1!==t.innerText.indexOf("BreadcrumbList")&&t.outerHTML})).filter(Boolean).join("\n")},func:function(t,e){var n=t.map((function(t){try{var n=t.innerText,r=Dv(n);return e(r).to.be.an.instanceof(Object),e(r,"@context").to.have.property("@context").and.match(Lv),e(r,"@type").to.have.property("@type").to.equal("BreadcrumbList"),!0}catch(t){return!1}})).filter(Boolean);e(n).not.to.be.empty,e(n).to.have.lengthOf(1)},tests:[{slug:"valid",name:"Breadcrumbs JSON-LD is valid",func:function(t,e){var n=t.map((function(t){try{var n=t.innerText,r=Dv(n);return e(r).to.be.an.instanceof(Object),e(r,"@context").to.have.property("@context").and.match(Lv),e(r,"@type").to.have.property("@type").to.equal("BreadcrumbList"),r}catch(t){return!1}})),r=n[0];e(r,"itemListElement").to.have.property("itemListElement").and.to.be.an.instanceof(Array);var i=r.itemListElement;e(i).not.to.be.empty;var o=1;i.map((function(t){e(t).to.be.an.instanceof(Object),e(t,"@type").to.have.property("@type").to.equal("ListItem"),e(t,"position").to.have.property("position").to.be.equal(o),e(t,"name").to.have.property("name").and.not.to.be.empty,e(t,"item").to.have.property("item").and.not.to.be.empty,o++}))}}]},{slug:"articles",name:"Articles JSON-LD exists on page",iswarning:!0,results:function(t){return t.map((function(t){return-1!==t.innerText.indexOf("NewsArticle")&&t.outerHTML})).filter(Boolean).join("\n")},func:function(t,e){var n=t.map((function(t){try{var n=t.innerText,r=Dv(n);return e(r).to.be.an.instanceof(Object),e(r,"@context").to.have.property("@context").and.match(Lv),e(r,"@type").to.have.property("@type").to.equal("NewsArticle"),!0}catch(t){return!1}})).filter(Boolean);e(n).not.to.be.empty},tests:[{slug:"valid",name:"Articles JSON-LD is valid",func:function(t,e){var n=t.map((function(t){try{var n=t.innerText,r=Dv(n);return e(r).to.be.an.instanceof(Object),e(r,"@context").to.have.property("@context").and.match(Lv),e(r,"@type").to.have.property("@type").to.equal("NewsArticle"),r}catch(t){return!1}})).filter(Boolean);n.map((function(t){e(t,"dateModified").to.have.property("dateModified").and.not.to.be.empty,e(t,"datePublished").to.have.property("datePublished").and.not.to.be.empty,e(t,"headline").to.have.property("headline").and.not.to.be.empty,e(t,"image").to.have.property("image").and.to.be.an.instanceof(Array)}))}}]},{slug:"products",name:"Products JSON-LD exists on page",iswarning:!0,results:function(t){return t.map((function(t){return-1!==t.innerText.indexOf("Product")&&t.outerHTML})).filter(Boolean).join("\n")},func:function(t,e){var n=t.map((function(t){try{var n=t.innerText,r=Dv(n);return e(r).to.be.an.instanceof(Object),e(r,"@context").to.have.property("@context").and.match(Lv),e(r,"@type").to.have.property("@type").to.equal("Product"),!0}catch(t){return!1}})).filter(Boolean);e(n).not.to.be.empty},tests:[{slug:"valid",name:"Products JSON-LD is valid",func:function(t,e){var n=t.map((function(t){try{var n=t.innerText,r=Dv(n);return e(r).to.be.an.instanceof(Object),e(r,"@context").to.have.property("@context").and.match(Lv),e(r,"@type").to.have.property("@type").to.equal("Product"),r}catch(t){return!1}})).filter(Boolean);n.map((function(t){e(t,"name").to.have.property("name").and.not.to.be.empty;var n=t.review,r=t.aggregateRating,i=t.offers;if(e([!!n,!!r,!!i],"review, aggregateRating, offers").to.include(!0),n){e(n,"review @type").to.have.property("@type").to.equal("Review");var o=n.reviewRating,s=n.author;e([!!o,!!s],"reviewRating, author").not.to.include(!1),e(o,"reviewRating @type").to.have.property("@type").to.equal("Rating"),e(o,"reviewRating ratingValue").to.have.property("ratingValue"),e(s,"author @type").to.have.property("@type").to.contain.oneOf(["Person","Organization"]),e(s,"author name").to.have.property("name")}r&&(e(r,"aggregateRating @type").to.have.property("@type").to.equal("AggregateRating"),e(r,"aggregateRating ratingValue").to.have.property("ratingValue"),e(r,"aggregateRating reviewCount").to.have.property("reviewCount")),i&&(e(i,"offers @type").to.have.property("@type").to.contain.oneOf(["Offer","AggregateOffer"]),"Offer"===i["@type"]?e(i,"offer price").to.have.property("price"):(e(i,"offers lowPrice").to.have.property("lowPrice"),e(i,"offers priceCurrency").to.have.property("priceCurrency")))}))}}]}]}]},{slug:"microdata",name:"Microdata",tests:[{slug:"exists",name:"Microdata exists",selector:"[itemscope][itemtype]",iswarning:!0,func:function(t,e){e(t).not.to.be.empty},tests:[{slug:"breadcrumbs",name:"Breadcrumbs microdata exist and there is only one breadcrumbs microdata on page",selector:'[itemtype*="BreadcrumbList"]',results:!0,iswarning:!0,func:function(t,e){e(t).not.to.be.empty;var n=t.map((function(t){return e(t.getAttribute("itemtype")).to.match(/^http(s)?:\/\/schema.org\/BreadcrumbList$/),!0})).filter(Boolean);e(n).not.to.be.empty,e(n).to.have.lengthOf(1)},tests:[{slug:"valid",name:"Breadcrumbs microdata is valid",func:function(t,e){var n=t[0].querySelectorAll('[itemprop="itemListElement"][itemscope]');e(n).to.be.an.instanceof(NodeList).and.not.to.be.empty;for(var r=1;r<=n.length;r++){var i=n[r-1],o=!!i.querySelector('a[itemprop="item"]')||n.length===r,s=i.querySelector('[itemprop="name"]'),a=parseInt(jv(i.querySelector('[itemprop="position"]')));e(o,"item").to.be.true,e(jv(s),"name").not.to.equal(""),e(a,"position").to.be.equal(r)}}}]},{slug:"articles",name:"Article microdata exists on page",selector:'[itemtype*="Article"]',iswarning:!0,results:!0,func:function(t,e){e(t).not.to.be.empty;var n=t.map((function(t){return e(t.getAttribute("itemtype")).to.match(/^http(s)?:\/\/schema.org\/Article$/),!0})).filter(Boolean);e(n).not.to.be.empty},tests:[{slug:"valid",name:"Article microdata is valid",func:function(t,e){var n=t.map((function(t){try{return e(t.getAttribute("itemtype")).to.match(/^https?:\/\/schema.org\/Article$/),t}catch(t){return!1}})).filter(Boolean);e(n).not.to.be.empty,n.map((function(t){var n=t.querySelector('[itemprop="headline"]'),r=t.querySelector('[itemprop="datePublished"]'),i=t.querySelector('[itemprop="articleBody"]'),o=function(t){return function(t){if(Array.isArray(t))return Nv(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return Nv(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Nv(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(t.querySelectorAll('[itemprop="image"]')).map((function(t){return!!(null!=t&&t.getAttribute("src")||null!=t&&t.getAttribute("content"))}));e(jv(n),"headline").not.to.equal(""),e(jv(r),"datePublished").not.to.equal(""),e(jv(i),"articleBody").not.to.equal(""),e(o,"image").not.to.include(!1)}))}}]},{slug:"products",name:"Products microdata exists on page",selector:'[itemtype*="Product"]',iswarning:!0,results:!0,func:function(t,e){e(t).not.to.be.empty;var n=t.map((function(t){return e(t.getAttribute("itemtype")).to.match(/^http(s)?:\/\/schema.org\/Product$/),!0})).filter(Boolean);e(n).not.to.be.empty},tests:[{slug:"valid",name:"Product microdata is valid",func:function(t,e){var n=t.map((function(t){try{return e(t.getAttribute("itemtype")).to.match(/^https?:\/\/schema.org\/Product$/),t}catch(t){return!1}})).filter(Boolean);e(n).not.to.be.empty,n.map((function(t){var n=t.querySelector('[itemprop="name"]');e(jv(n),"name").not.to.equal("");var r=t.querySelector('[itemprop="review"]'),i=t.querySelector('[itemprop="aggregateRating"]'),o=t.querySelector('[itemprop="offers"]');if(e([!!r,!!i,!!o],"review, aggregateRating, offers").to.include(!0),r){e(r.getAttribute("itemtype")).to.match(/^https?:\/\/schema.org\/Review$/);var s=r.querySelector('[itemprop="author"]'),a=r.querySelector('[itemprop="reviewRating"]');e(s.getAttribute("itemtype"),"author itemtype").to.match(/^https?:\/\/schema.org\/(Person|Organization)$/),e(a.getAttribute("itemtype")).to.match(/^https?:\/\/schema.org\/Rating$/);var l=s.querySelector('[itemprop="name"]');e(jv(l),"author name").not.to.equal("");var u=a.querySelector('[itemprop="ratingValue"]');e(jv(u),"reviewRating ratingValue").not.to.equal("")}if(i){e(i.getAttribute("itemtype")).to.match(/^https?:\/\/schema.org\/AggregateRating$/);var c=i.querySelector('[itemprop="ratingValue"]'),h=i.querySelector('[itemprop="reviewCount"]');e(jv(c),"aggregateRating ratingValue").not.to.equal(""),e(jv(h),"aggregateRating reviewCount").not.to.equal("")}if(o)if(e(o.getAttribute("itemtype")).to.match(/^https?:\/\/schema.org\/(Offer|AggregateOffer)$/),o.getAttribute("itemtype").match(/^https?:\/\/schema.org\/Offer$/)){var f=o.querySelector('[itemprop="price"]');e(jv(f),"offers price").not.to.equal("")}else{o.querySelector('[itemprop="lowPrice"]');var p=o.querySelector('[itemprop="priceCurrency"]');e(jv(price),"offers price").not.to.equal(""),e(jv(p),"offers priceCurrency").not.to.equal("")}}))}}]}]}]}]},Bv=[{slug:"head",name:"Header",sections:[{slug:"title",name:"Page title",selector:"title",tests:[{slug:"exists",selector:"head > title",name:"The page has title tag",results:!0,func:function(t,e){e(t).to.exist},tests:[{slug:"one",name:"There is only one title tag on the page",func:function(t,e){e(t).to.have.lengthOf(1)}},{slug:"notempty",name:"Title not empty",func:function(t,e){var n,r;e(null!==(n=null===(r=t[0])||void 0===r?void 0:r.innerHTML)&&void 0!==n?n:"").not.to.be.empty},tests:[{slug:"length",name:"Title length from 50 to 60 characters",iswarning:!0,func:function(t,e){e(t[0].innerHTML.replace(/(\r\n|\n|\r)/gm,"")).to.have.lengthOf.within(50,60)}}]}]}]},{slug:"meta",name:"Meta tags",tests:[{slug:"author",name:"The page has author meta tag",selector:"head > meta[name='author']",iswarning:!0,func:function(t,e){var n,r;e(t).to.have.lengthOf(1),e(null!==(n=null===(r=t[0])||void 0===r?void 0:r.getAttribute("content"))&&void 0!==n?n:"").not.to.be.empty}},{slug:"description",name:"The page has description meta tag",selector:"head > meta[name='description']",results:!0,func:function(t,e){var n,r;e(t).to.have.lengthOf(1),e(null!==(n=null===(r=t[0])||void 0===r?void 0:r.getAttribute("content"))&&void 0!==n?n:"").not.to.be.empty},tests:[{slug:"length",name:"Description length from 50 to 160 characters",selector:"meta[name='description']",iswarning:!0,func:function(t,e){var n,r;e(null!==(n=null===(r=t[0])||void 0===r?void 0:r.getAttribute("content"))&&void 0!==n?n:"").to.have.lengthOf.within(50,160)}}]},{slug:"robots",name:"The page has robots meta tag",selector:"head > meta[name='robots']",iswarning:!0,results:!0,func:function(t,e){e(t).to.have.lengthOf(1)},tests:[{slug:"indexing",name:"Indexing enabled by robots tag",func:function(t,e){var n,r,i=null!==(n=null===(r=t[0])||void 0===r?void 0:r.getAttribute("content"))&&void 0!==n?n:"";i&&e(i.split(",").map((function(t){return t.trim().toLowerCase()}))).not.to.include("noindex")}},{slug:"following",name:"Following enabled by robots tag",func:function(t,e){var n,r,i=null!==(n=null===(r=t[0])||void 0===r?void 0:r.getAttribute("content"))&&void 0!==n?n:"";i&&e(i.split(",").map((function(t){return t.trim().toLowerCase()}))).not.to.include("nofollow")}}]}]},{slug:"opengraph",name:"Open Graph tags",selector:"meta[property^='og:']",tests:[{slug:"exists",name:"The page has Open Graph meta tags",results:!0,func:function(t,e){e(t).not.to.be.empty},tests:[{slug:"title",name:"Title opegraph meta",selector:"meta[property^='og:title']",func:function(t,e){e(t).not.to.be.empty}},{slug:"description",name:"Description opegraph meta",selector:"meta[property^='og:description']",func:function(t,e){e(t).not.to.be.empty}},{slug:"image",name:"Image opegraph meta",selector:"meta[property^='og:image']",func:function(t,e){e(t).not.to.be.empty}}]}]},{slug:"hreflang",name:"Alternate languages",selector:"link[rel='alternate'][hreflang]",tests:[{slug:"exists",name:"The page has alternate languages",iswarning:!0,results:!0,func:function(t,e){e(t).not.to.be.empty}}]}]},Pv,Iv,{slug:"custom",name:"Custom",sections:Rv}];e.render(t.createElement(m,{i18n:Pr},t.createElement(k,{store:De},t.createElement(Av,{blocks:Bv}))),document.getElementById("seo-checker"))})()})();